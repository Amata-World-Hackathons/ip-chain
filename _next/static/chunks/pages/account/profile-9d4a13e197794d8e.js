(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{3157:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/profile",function(){return n(4016)}])},1051:function(e,t,n){"use strict";n.d(t,{$_:function(){return f}});var r=n(5893),a=n(4184),l=n.n(a),i=n(7536);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){return function(n){var a=n.hint,s=n.name,u=n.label,m=n.inputId,f=n.className,p=n.wrapInput,b=n.registerOptions,h=n.showOptionalLabel,x=c(n,["hint","name","label","inputId","className","wrapInput","registerOptions","showOptionalLabel"]),g=(0,i.Gc)(),j=g.register,v=(0,g.getFieldState)(s).error,w=o({className:l()(t,{"input-bordered input-error":!!v})},j(s,b),x),y=e(w);return(0,r.jsxs)("div",{className:l()("form-control",f),children:[(0,r.jsxs)("label",{htmlFor:m,className:"label",children:[u?(0,r.jsx)("span",{className:"label-text",children:u}):null,h?(0,r.jsx)("span",{className:"label-text",children:"(Optional)"}):null]}),p?(0,r.jsx)("label",{htmlFor:m,className:"input-group",children:p(y)}):y,v?(0,r.jsx)("label",{htmlFor:m,className:"label",children:(0,r.jsx)("span",{className:"label-text text-red-500",children:d(v)})}):a?(0,r.jsx)("label",{htmlFor:m,className:"label",children:(0,r.jsx)("span",{className:"label-text text-base-content text-xs",children:a})}):null]})}}var m=u((function(e){return(0,r.jsx)("input",o({},e))}),"input"),f=u((function(e){return(0,r.jsx)("textarea",o({},e))}),"textarea");function d(e){return e.message?e.message:e.message||"Invalid input"}t.ZP=m},5406:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(5893),a=(n(7294),n(7649)),l=n(1850),i=function(e){var t=e.children;return(0,r.jsx)(l.Kl,{children:(0,r.jsx)(a.b,{children:t})})};function s(e){return(0,r.jsx)(i,{children:e})}},4016:function(e,t,n){"use strict";n.r(t),n.d(t,{AccountProfilePage:function(){return w}});var r=n(4051),a=n.n(r),l=n(5893),i=n(1051),s=n(1850),o=n(9110),c=n(5406),u=n(4184),m=n.n(u),f=n(5321),d=n(1664),p=n.n(d),b=n(1163),h=n(7294),x=n(7536);function g(e,t,n,r,a,l,i){try{var s=e[l](i),o=s.value}catch(c){return void n(c)}s.done?t(o):Promise.resolve(o).then(r,a)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}var w=function(){var e=(0,o.CU)(),t=(0,b.useRouter)(),n=(0,s.pf)(),r=n.user,c=n.profile,u=(0,x.cI)({defaultValues:{name:c.name,imageUrl:c.imageUrl,bio:c.bio}}),d=u.watch,j=u.trigger,w=u.handleSubmit,y=u.formState,O=y.isSubmitting,N=y.isDirty;(0,h.useEffect)((function(){j("name")}),[j]);var P=d("imageUrl");return(0,l.jsxs)("div",{className:"w-full max-w-3xl m-auto",children:[(0,l.jsx)("div",{className:"prose dark:prose-invert",children:(0,l.jsx)("h1",{children:"Profile"})}),(0,l.jsx)(x.RV,v({},u,{children:(0,l.jsxs)("form",{onSubmit:w(function(){var n,l=(n=a().mark((function n(l){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("DATA SUBMITTED",l),n.next=3,(0,f.pl)((0,f.JU)(e,"profiles",r.uid),v({},c,l,{userId:null===r||void 0===r?void 0:r.uid}));case 3:t.push("/dashboard");case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var l=n.apply(e,t);function i(e){g(l,r,a,i,s,"next",e)}function s(e){g(l,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return l.apply(this,arguments)}}()),children:[(0,l.jsxs)("section",{className:"mt-8 p-8 border border-primary rounded-lg",children:[(0,l.jsx)(i.ZP,{className:"max-w-sm",hint:"Name of the legal entity which will represent the account",name:"name",label:"Legal name",registerOptions:{required:{value:!0,message:"A name must be provided"}}}),(0,l.jsx)("img",{src:P||"https://via.placeholder.com/300x300/000000/FFFFFF?text=Image+not+available",alt:"Preview image for new property",className:"m-auto my-8"}),(0,l.jsx)(i.ZP,{name:"imageUrl",label:"Profile image URL",className:"mt-4 max-w-sm",placeholder:"e.g. https://placekitten.com/g/200/300",showOptionalLabel:!0}),(0,l.jsx)(i.$_,{name:"bio",label:"Profile bio",placeholder:"e.g. Battle-tested veterans of the great NFT battleground...",className:"mt-4",showOptionalLabel:!0})]}),(0,l.jsxs)("div",{className:"mt-8 flex flex-row justify-end",children:[(0,l.jsx)(p(),{href:"/dashboard",children:(0,l.jsx)("a",{className:"btn btn-ghost",children:"Back to dashboard"})}),(0,l.jsx)("button",{className:m()("ml-4 btn btn-primary",{"btn-disabled":!N,loading:O}),children:"Update profile"})]})]})}))]})};w.applyLayout=c.E,t.default=w}},function(e){e.O(0,[536,774,888,179],(function(){return t=3157,e(e.s=t);var t}));var t=e.O();_N_E=t}]);