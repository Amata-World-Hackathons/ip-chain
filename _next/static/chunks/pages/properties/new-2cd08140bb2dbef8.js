(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{748:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/properties/new",function(){return n(6264)}])},1051:function(e,t,n){"use strict";n.d(t,{$_:function(){return p}});var r=n(5893),a=n(4184),l=n.n(a),s=n(7536);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){return function(n){var a=n.hint,i=n.name,m=n.label,u=n.inputId,p=n.className,h=n.wrapInput,x=n.registerOptions,b=n.showOptionalLabel,f=c(n,["hint","name","label","inputId","className","wrapInput","registerOptions","showOptionalLabel"]),j=(0,s.Gc)(),g=j.register,y=(0,j.getFieldState)(i).error,v=o({className:l()(t,{"input-bordered input-error":!!y})},g(i,x),f),N=e(v);return(0,r.jsxs)("div",{className:l()("form-control",p),children:[(0,r.jsxs)("label",{htmlFor:u,className:"label",children:[m?(0,r.jsx)("span",{className:"label-text",children:m}):null,b?(0,r.jsx)("span",{className:"label-text",children:"(Optional)"}):null]}),h?(0,r.jsx)("label",{htmlFor:u,className:"input-group",children:h(N)}):N,y?(0,r.jsx)("label",{htmlFor:u,className:"label",children:(0,r.jsx)("span",{className:"label-text text-red-500",children:d(y)})}):a?(0,r.jsx)("label",{htmlFor:u,className:"label",children:(0,r.jsx)("span",{className:"label-text text-base-content text-xs",children:a})}):null]})}}var u=m((function(e){return(0,r.jsx)("input",o({},e))}),"input"),p=m((function(e){return(0,r.jsx)("textarea",o({},e))}),"textarea");function d(e){return e.message?e.message:e.message||"Invalid input"}t.ZP=u},5406:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(5893),a=(n(7294),n(7649)),l=n(1850),s=function(e){var t=e.children;return(0,r.jsx)(l.Kl,{children:(0,r.jsx)(a.b,{children:t})})};function i(e){return(0,r.jsx)(s,{children:e})}},6264:function(e,t,n){"use strict";n.r(t),n.d(t,{NewPropertyPage:function(){return v}});var r=n(4051),a=n.n(r),l=n(5893),s=n(1664),i=n.n(s),o=n(7536),c=n(5406),m=n(9110),u=n(5321),p=n(4184),d=n.n(p),h=n(1051),x=n(1163),b=n(7294),f=n(1850);function j(e,t,n,r,a,l,s){try{var i=e[l](s),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(r,a)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var v=function(){var e=(0,m.CU)(),t=(0,x.useRouter)(),n=(0,f.aC)().user,r=(0,o.cI)({defaultValues:{name:"",contentUrl:"",contentType:"text",textContent:"",marketplaceImageUrl:"",monetizationOption:"singlePayment",oneTimeFee:"",description:"",legalTemplate:"",subscriptionFee:""}}),s=r.watch,c=r.register,p=r.clearErrors,g=r.handleSubmit,v=r.formState.isSubmitting,N=s("contentType"),O=s("marketplaceImageUrl"),w=s("monetizationOption");return(0,b.useEffect)((function(){p("text"===N?"contentUrl":"textContent")}),[p,N]),(0,b.useEffect)((function(){p("singlePayment"===w?"subscriptionFee":"oneTimeFee")}),[p,w]),(0,l.jsxs)("div",{className:"w-full max-w-3xl m-auto",children:[(0,l.jsx)("div",{className:"prose dark:prose-invert",children:(0,l.jsx)("h1",{children:"New property"})}),(0,l.jsx)(o.RV,y({},r,{children:(0,l.jsxs)("form",{onSubmit:g(function(){var r,l=(r=a().mark((function r(l){var s;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("DATA SUBMITTED",l),r.next=3,(0,u.ET)((0,u.hJ)(e,"properties"),y({},l,{userId:null===n||void 0===n?void 0:n.uid}));case 3:s=r.sent,t.push("/properties/".concat(s.id));case 5:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var l=r.apply(e,t);function s(e){j(l,n,a,s,i,"next",e)}function i(e){j(l,n,a,s,i,"throw",e)}s(void 0)}))});return function(e){return l.apply(this,arguments)}}()),children:[(0,l.jsxs)("section",{className:"mt-8 p-8 border border-primary rounded-lg",children:[(0,l.jsx)("h3",{className:"text-lg",children:"Content"}),(0,l.jsx)(h.ZP,{className:"max-w-sm",name:"name",label:"Display name",registerOptions:{required:{value:!0,message:"A name must be provided"}}}),(0,l.jsx)("div",{className:"mt-4 form-control",children:(0,l.jsxs)("label",{className:"label cursor-pointer justify-start",children:[(0,l.jsx)("input",y({type:"radio",value:"text",className:"radio checked:bg-primary"},c("contentType"))),(0,l.jsx)("span",{className:"ml-3 label-text",children:"Text"})]})}),(0,l.jsx)("div",{className:"form-control",children:(0,l.jsxs)("label",{className:"label cursor-pointer justify-start",children:[(0,l.jsx)("input",y({type:"radio",value:"external",className:"radio checked:bg-primary"},c("contentType"))),(0,l.jsx)("span",{className:"ml-3 label-text",children:"External link"})]})}),"text"===N?(0,l.jsx)(h.$_,{className:"mt-4",hint:"Text to be used as the content for the NFT",name:"textContent",label:"Text content",placeholder:"e.g. Step 1: Add ..., Step 2: ???, Step 3: Profit",registerOptions:{required:{value:!0,message:"The contents must be provided for embedded content"}}}):null,"external"===N?(0,l.jsx)(h.ZP,{className:"mt-4 max-w-sm",hint:"Link to the content hosted on an external site",name:"contentUrl",label:"Link to external content",placeholder:"e.g. https://google.com",registerOptions:{required:{value:!0,message:"A link to the original content is required"}}}):null,(0,l.jsx)("div",{className:"divider"}),(0,l.jsx)("h3",{className:"text-lg mb-4",children:"Marketplace"}),(0,l.jsx)("img",{src:O||"https://via.placeholder.com/300x300/000000/FFFFFF?text=Image+not+available",alt:"Preview image for new property",className:"m-auto my-8"}),(0,l.jsx)(h.ZP,{hint:"Link to image to be used on the marketplace",name:"marketplaceImageUrl",label:"Marketplace image URL",className:"mt-4 max-w-sm",placeholder:"e.g. https://placekitten.com/g/200/300",showOptionalLabel:!0}),(0,l.jsx)(h.$_,{hint:"Text to be displayed on the marketplace, used by the search",name:"description",label:"Marketplace description",placeholder:"e.g. My family's secret recipe handed down for generations...",className:"mt-4",showOptionalLabel:!0}),(0,l.jsx)("div",{className:"divider"}),(0,l.jsx)("h3",{className:"text-lg mb-4",children:"Monetization"}),(0,l.jsx)("div",{className:"mt-4 form-control",children:(0,l.jsxs)("label",{className:"label cursor-pointer justify-start",children:[(0,l.jsx)("input",y({type:"radio",value:"singlePayment",className:"radio checked:bg-primary"},c("monetizationOption"))),(0,l.jsx)("span",{className:"ml-3 label-text",children:"Single payment"})]})}),(0,l.jsx)("div",{className:"form-control",children:(0,l.jsxs)("label",{className:"label cursor-pointer justify-start",children:[(0,l.jsx)("input",y({type:"radio",value:"recurring",className:"radio checked:bg-primary"},c("monetizationOption"))),(0,l.jsx)("span",{className:"ml-3 label-text",children:"Monthly subscription"})]})}),"singlePayment"===w?(0,l.jsx)(h.ZP,{name:"oneTimeFee",label:"One-time fee",type:"number",min:0,step:"1",placeholder:"e.g. 15",registerOptions:{required:!0},wrapInput:function(e){return(0,l.jsxs)(l.Fragment,{children:[e,(0,l.jsx)("span",{children:(0,l.jsx)("span",{className:"kbd kbd-xs",children:"NEO"})})]})}}):null,"recurring"===w?(0,l.jsx)(h.ZP,{name:"subscriptionFee",label:"Subscription fee",type:"number",min:0,step:"1",placeholder:"e.g. 3",registerOptions:{required:!0},wrapInput:function(e){return(0,l.jsxs)(l.Fragment,{children:[e,(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"kbd kbd-xs",children:"NEO"})," / month"]})]})}}):null,(0,l.jsx)("div",{className:"divider"}),(0,l.jsx)("h3",{className:"text-lg mb-4",children:"Usage"}),(0,l.jsxs)("div",{className:"mt-4 form-control",children:[(0,l.jsx)("label",{htmlFor:"",className:"label",children:(0,l.jsx)("span",{className:"label-text",children:"Pick a template"})}),(0,l.jsxs)("select",y({className:"select w-full max-w-sm"},c("legalTemplate",{required:!0}),{children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Pick one"}),(0,l.jsx)("option",{value:"1",children:"Legal template 1"}),(0,l.jsx)("option",{value:"2",children:"Legal template 2"})]}))]})]}),(0,l.jsxs)("div",{className:"mt-8 flex flex-row justify-end",children:[(0,l.jsx)(i(),{href:"/dashboard",children:(0,l.jsx)("a",{className:"btn btn-ghost",children:"Back to dashboard"})}),(0,l.jsx)("button",{className:d()("ml-4 btn btn-primary",{loading:v}),children:"Create property"})]})]})}))]})};v.applyLayout=c.E,t.default=v}},function(e){e.O(0,[536,774,888,179],(function(){return t=748,e(e.s=t);var t}));var t=e.O();_N_E=t}]);