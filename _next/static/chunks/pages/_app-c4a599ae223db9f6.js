(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{8429:function(e,t,n){"use strict";n.d(t,{$:function(){return rt},A:function(){return c},E:function(){return me},G:function(){return be},I:function(){return Te},K:function(){return J},L:function(){return Ne},M:function(){return Oe},N:function(){return Le},P:function(){return En},Q:function(){return xe},R:function(){return gn},T:function(){return De},U:function(){return Ue},V:function(){return Fe},W:function(){return He},X:function(){return Ze},Y:function(){return Je},Z:function(){return Qe},_:function(){return et},a:function(){return Bt},a0:function(){return st},a1:function(){return at},a2:function(){return ot},a3:function(){return ut},a4:function(){return ct},a5:function(){return lt},a6:function(){return ht},a7:function(){return dt},a8:function(){return ft},a9:function(){return pt},aA:function(){return qn},aB:function(){return Un},aC:function(){return pe},aG:function(){return Kt},aJ:function(){return Me},aa:function(){return gt},ab:function(){return mt},ae:function(){return vt},af:function(){return yt},ag:function(){return bt},aj:function(){return ze},ak:function(){return Ct},am:function(){return Dt},an:function(){return xt},ao:function(){return le},ap:function(){return _},aq:function(){return ce},ar:function(){return ae},as:function(){return m},at:function(){return di},au:function(){return Yn},av:function(){return v},aw:function(){return I},ax:function(){return T},ay:function(){return Q},az:function(){return zn},b:function(){return jt},c:function(){return Rn},d:function(){return Dn},e:function(){return Pn},f:function(){return Vn},g:function(){return Hn},h:function(){return Bn},i:function(){return nn},j:function(){return Kn},k:function(){return pi},l:function(){return yn},m:function(){return mi},n:function(){return Ii},o:function(){return u},r:function(){return bn},s:function(){return vn},t:function(){return At},u:function(){return In},x:function(){return Nt},z:function(){return h}});var i=n(4444),r=n(2238);function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;var a=n(3333),o=n(8463);const u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},c={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=l,f=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new a.Yd("@firebase/auth");function g(e,...t){p.logLevel<=a.in.ERROR&&p.error(`Auth (${r.SDK_VERSION}): ${e}`,...t)}function m(e,...t){throw w(e,...t)}function v(e,...t){return w(e,...t)}function y(e,t,n){const r=Object.assign(Object.assign({},d()),{[t]:n});return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function b(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&m(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w(e,...t){if("string"!==typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return f.create(e,...t)}function I(e,t,...n){if(!e)throw w(t,...n)}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function _(e,t){e||E(t)}const S=new Map;function T(e){_(e instanceof Function,"Expected a class definition");let t=S.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,S.set(e,t),t)}function k(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===A()||"https:"===A()}function A(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class N{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function R(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},O=new N(3e4,6e4);function L(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function x(e,t,n,r,s={}){return M(e,s,(async()=>{let s={},a={};r&&("GET"===t?a=r:s={body:JSON.stringify(r)});const o=(0,i.xO)(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),P.fetch()(F(e,e.config.apiHost,n,o),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))}))}async function M(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},D),t);try{const t=new j(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw V(e,"email-already-in-use",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw y(e,o,a);m(e,o)}}catch(s){if(s instanceof i.ZR)throw s;m(e,"network-request-failed")}}async function U(e,t,n,i,r={}){const s=await x(e,t,n,i,r);return"mfaPendingCredential"in s&&m(e,"multi-factor-auth-required",{_serverResponse:s}),s}function F(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?R(e.config,r):`${e.config.apiScheme}://${r}`}class j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(v(this.auth,"network-request-failed"))),O.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function V(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=v(e,t,i);return r.customData._tokenResponse=n,r}function B(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function H(e){return 1e3*Number(e)}function K(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return g("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(n);return e?JSON.parse(e):(g("Failed to decode base64 JWT payload"),null)}catch(s){return g("Caught error parsing JWT payload as JSON",s),null}}async function q(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof i.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function W(e){var t;const n=e.auth,i=await e.getIdToken(),r=await q(e,async function(e,t){return x(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));I(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const u=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const h=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!h&&d,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new z(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(e,p)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I("undefined"!==typeof e.idToken,"internal-error"),I("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=K(e);return I(t,"internal-error"),I("undefined"!==typeof t.exp,"internal-error"),I("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return I(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await M(e,{},(async()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=F(e,r,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",P.fetch()(a,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new $;return n&&(I("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(I("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(I("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return E("not implemented")}}function Y(e,t){I("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class X{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new z(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await q(this,this.stsTokenManager.getToken(this.auth,e));return I(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,i.m9)(e),r=await n.getIdToken(t),s=K(r);I(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a="object"===typeof s.firebase?s.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:B(H(s.auth_time)),issuedAtTime:B(H(s.iat)),expirationTime:B(H(s.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.m9)(e);await W(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new X(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await W(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await q(this,async function(e,t){return x(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,a,o,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:_}=t;I(y&&_,e,"internal-error");const S=$.fromJSON(this.name,_);I("string"===typeof y,e,"internal-error"),Y(l,e.name),Y(h,e.name),I("boolean"===typeof b,e,"internal-error"),I("boolean"===typeof w,e,"internal-error"),Y(d,e.name),Y(f,e.name),Y(p,e.name),Y(g,e.name),Y(m,e.name),Y(v,e.name);const T=new X({uid:y,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map((e=>Object.assign({},e)))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t,n=!1){const i=new $;i.updateFromServerResponse(t);const r=new X({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await W(r),r}}class Z{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z.type="NONE";const J=Z;function Q(e,t,n){return`firebase:${e}:${t}:${n}`}class ee{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Q(this.userKey,i.apiKey,r),this.fullPersistenceKey=Q("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?X._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ee(T(J),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||T(J);const s=Q(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=X._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(u){}const o=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(u){}}))),new ee(r,e,n)):new ee(r,e,n)}}function te(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(se(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ne(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oe(t))return"Blackberry";if(ue(t))return"Webos";if(ie(t))return"Safari";if((t.includes("chrome/")||re(t))&&!t.includes("edge/"))return"Chrome";if(ae(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ne(e=(0,i.z$)()){return/firefox\//i.test(e)}function ie(e=(0,i.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function re(e=(0,i.z$)()){return/crios\//i.test(e)}function se(e=(0,i.z$)()){return/iemobile/i.test(e)}function ae(e=(0,i.z$)()){return/android/i.test(e)}function oe(e=(0,i.z$)()){return/blackberry/i.test(e)}function ue(e=(0,i.z$)()){return/webos/i.test(e)}function ce(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)}function le(e=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function he(e=(0,i.z$)()){return ce(e)||ae(e)||ue(e)||oe(e)||/windows phone/i.test(e)||se(e)}function de(e,t=[]){let n;switch(e){case"Browser":n=te((0,i.z$)());break;case"Worker":n=`${te((0,i.z$)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.SDK_VERSION}/${s}`}class fe{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ge(this),this.idTokenSubscription=new ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=T(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ee.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e)):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===n||void 0===n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);i&&i!==r||!(null===s||void 0===s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(I(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await W(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,i.m9)(e):null;return t&&I(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&I(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(T(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&T(e)||this._popupRedirectResolver;I(t,this,"argument-error"),this.redirectPersistenceManager=await ee.create(this,[T(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return I(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=de(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function pe(e){return(0,i.m9)(e)}class ge{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)((e=>this.observer=e))}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function me(e,t,n){const i=pe(e);I(i._canInitEmulator,i,"emulator-config-failed"),I(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ve(t),{host:a,port:o}=function(e){const t=ve(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:ye(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:ye(t)}}}(t),u=null===o?"":`:${o}`;i.config.emulator={url:`${s}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ve(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ye(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class be{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function we(e,t){return x(e,"POST","/v1/accounts:resetPassword",L(e,t))}async function Ie(e,t){return x(e,"POST","/v1/accounts:update",t)}async function Ee(e,t){return x(e,"POST","/v1/accounts:sendOobCode",L(e,t))}class _e extends be{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new _e(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new _e(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",L(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",L(e,t))}(e,{email:this._email,oobCode:this._password});default:m(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ie(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",L(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:m(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Se(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",L(e,t))}class Te extends be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Te(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):m("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=s(t,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Te(n,i);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){return Se(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Se(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Se(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}const ke={USER_NOT_FOUND:"user-not-found"};class Ce extends be{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ce({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ce({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",L(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await U(e,"POST","/v1/accounts:signInWithPhoneNumber",L(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",L(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ke)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Ce({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Ae{constructor(e){var t,n,r,s,a,o;const u=(0,i.zd)((0,i.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);I(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=u.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||t||e}(e);try{return new Ae(t)}catch(n){return null}}}class Ne{constructor(){this.providerId=Ne.PROVIDER_ID}static credential(e,t){return _e._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ae.parseLink(t);return I(n,"argument-error"),_e._fromEmailAndCode(e,n.code,n.tenantId)}}Ne.PROVIDER_ID="password",Ne.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ne.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Re{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pe extends Re{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class De extends Pe{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return I("providerId"in t&&"signInMethod"in t,"argument-error"),Te._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return I(e.idToken||e.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return De.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return De.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:a}=e;if(!n&&!i&&!t&&!r)return null;if(!a)return null;try{return new De(a)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:r})}catch(o){return null}}}class Oe extends Pe{constructor(){super("facebook.com")}static credential(e){return Te._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oe.credentialFromTaggedObject(e)}static credentialFromError(e){return Oe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Oe.credential(e.oauthAccessToken)}catch(t){return null}}}Oe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Oe.PROVIDER_ID="facebook.com";class Le extends Pe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Te._fromParams({providerId:Le.PROVIDER_ID,signInMethod:Le.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Le.credentialFromTaggedObject(e)}static credentialFromError(e){return Le.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Le.credential(t,n)}catch(i){return null}}}Le.GOOGLE_SIGN_IN_METHOD="google.com",Le.PROVIDER_ID="google.com";class xe extends Pe{constructor(){super("github.com")}static credential(e){return Te._fromParams({providerId:xe.PROVIDER_ID,signInMethod:xe.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xe.credentialFromTaggedObject(e)}static credentialFromError(e){return xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return xe.credential(e.oauthAccessToken)}catch(t){return null}}}xe.GITHUB_SIGN_IN_METHOD="github.com",xe.PROVIDER_ID="github.com";class Me extends be{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Se(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Se(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Se(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new Me(n,r):null}static _create(e,t){return new Me(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ue extends Re{constructor(e){I(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ue.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ue.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Me.fromJSON(e);return I(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Me._create(n,t)}catch(i){return null}}}class Fe extends Pe{constructor(){super("twitter.com")}static credential(e,t){return Te._fromParams({providerId:Fe.PROVIDER_ID,signInMethod:Fe.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fe.credentialFromTaggedObject(e)}static credentialFromError(e){return Fe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Fe.credential(t,n)}catch(i){return null}}}async function je(e,t){return U(e,"POST","/v1/accounts:signUp",L(e,t))}Fe.TWITTER_SIGN_IN_METHOD="twitter.com",Fe.PROVIDER_ID="twitter.com";class Ve{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await X._fromIdTokenResponse(e,n,i),s=Be(n);return new Ve({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Be(n);return new Ve({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Be(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function He(e){var t;const n=pe(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ve({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await je(n,{returnSecureToken:!0}),r=await Ve._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}class Ke extends i.ZR{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ke.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Ke(e,t,n,i)}}function qe(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ke._fromErrorAndOperation(e,n,t,i);throw n}))}function Ge(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function ze(e,t){const n=(0,i.m9)(e);await $e(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return x(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=Ge(r||[]);return n.providerData=n.providerData.filter((e=>s.has(e.providerId))),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function We(e,t,n=!1){const i=await q(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ve._forOperation(e,"link",i)}async function $e(e,t,n){await W(t);const i=!1===e?"provider-already-linked":"no-such-provider";I(Ge(t.providerData).has(n)===e,t.auth,i)}async function Ye(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const s=await q(e,qe(i,r,t,e),n);I(s.idToken,i,"internal-error");const a=K(s.idToken);I(a,i,"internal-error");const{sub:o}=a;return I(e.uid===o,i,"user-mismatch"),Ve._forOperation(e,r,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&m(i,"user-mismatch"),s}}async function Xe(e,t,n=!1){const i="signIn",r=await qe(e,i,t),s=await Ve._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Ze(e,t){return Xe(pe(e),t)}async function Je(e,t){const n=(0,i.m9)(e);return await $e(!1,n,t.providerId),We(n,t)}async function Qe(e,t){return Ye((0,i.m9)(e),t)}async function et(e,t){const n=pe(e),i=await async function(e,t){return U(e,"POST","/v1/accounts:signInWithCustomToken",L(e,t))}(n,{token:t,returnSecureToken:!0}),r=await Ve._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class tt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?nt._fromServerResponse(e,t):m(e,"internal-error")}}class nt extends tt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new nt(t)}}function it(e,t,n){var i;I((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),I("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(I(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(I(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rt(e,t,n){const r=(0,i.m9)(e),s={requestType:"PASSWORD_RESET",email:t};n&&it(r,s,n),await async function(e,t){return Ee(e,t)}(r,s)}async function st(e,t,n){await we((0,i.m9)(e),{oobCode:t,newPassword:n})}async function at(e,t){await async function(e,t){return x(e,"POST","/v1/accounts:update",L(e,t))}((0,i.m9)(e),{oobCode:t})}async function ot(e,t){const n=(0,i.m9)(e),r=await we(n,{oobCode:t}),s=r.requestType;switch(I(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":I(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":I(r.mfaInfo,n,"internal-error");default:I(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=tt._fromServerResponse(pe(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:a},operation:s}}async function ut(e,t){const{data:n}=await ot((0,i.m9)(e),t);return n.email}async function ct(e,t,n){const i=pe(e),r=await je(i,{returnSecureToken:!0,email:t,password:n}),s=await Ve._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function lt(e,t,n){return Ze((0,i.m9)(e),Ne.credential(t,n))}async function ht(e,t,n){const r=(0,i.m9)(e),s={requestType:"EMAIL_SIGNIN",email:t};I(n.handleCodeInApp,r,"argument-error"),n&&it(r,s,n),await async function(e,t){return Ee(e,t)}(r,s)}function dt(e,t){const n=Ae.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function ft(e,t,n){const r=(0,i.m9)(e),s=Ne.credentialWithLink(t,n||k());return I(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ze(r,s)}async function pt(e,t){const n={identifier:t,continueUri:C()?k():"http://localhost"},{signinMethods:r}=await async function(e,t){return x(e,"POST","/v1/accounts:createAuthUri",L(e,t))}((0,i.m9)(e),n);return r||[]}async function gt(e,t){const n=(0,i.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&it(n.auth,r,t);const{email:s}=await async function(e,t){return Ee(e,t)}(n.auth,r);s!==e.email&&await e.reload()}async function mt(e,t,n){const r=(0,i.m9)(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&it(r.auth,s,n);const{email:a}=await async function(e,t){return Ee(e,t)}(r.auth,s);a!==e.email&&await e.reload()}async function vt(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,i.m9)(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await q(r,async function(e,t){return x(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find((({providerId:e})=>"password"===e));o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function yt(e,t){return wt((0,i.m9)(e),t,null)}function bt(e,t){return wt((0,i.m9)(e),null,t)}async function wt(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await q(e,Ie(i,r));await e._updateTokensIfNecessary(s,!0)}class It{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Et extends It{constructor(e,t,n,i){super(e,t,n),this.username=i}}class _t extends It{constructor(e,t){super(e,"facebook.com",t)}}class St extends Et{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Tt extends It{constructor(e,t){super(e,"google.com",t)}}class kt extends Et{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ct(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null===e||void 0===e?void 0:e.idToken)){const i=null===(n=null===(t=K(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new It(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new _t(s,r);case"github.com":return new St(s,r);case"google.com":return new Tt(s,r);case"twitter.com":return new kt(s,r,e.screenName||null);case"custom":case"anonymous":return new It(s,null);default:return new It(s,i,r)}}(n)}function At(e,t,n,r){return(0,i.m9)(e).onAuthStateChanged(t,n,r)}function Nt(e){return(0,i.m9)(e).signOut()}class Rt{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Rt("enroll",e)}static _fromMfaPendingCredential(e){return new Rt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Rt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Rt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Pt{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=pe(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>tt._fromServerResponse(n,e)));I(i.mfaPendingCredential,n,"internal-error");const s=Rt._fromMfaPendingCredential(i.mfaPendingCredential);return new Pt(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const a=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Ve._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return I(t.user,n,"internal-error"),Ve._forOperation(t.user,t.operationType,a);default:m(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Dt(e,t){var n;const r=(0,i.m9)(e),s=t;return I(t.customData.operationType,r,"argument-error"),I(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Pt._fromError(r,s)}class Ot{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>tt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ot(e)}async getSession(){return Rt._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,i=await this.getSession(),r=await q(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken(),i=await q(this.user,(r=this.user.auth,s={idToken:n,mfaEnrollmentId:t},x(r,"POST","/v2/accounts/mfaEnrollment:withdraw",L(r,s))));var r,s;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}}}const Lt=new WeakMap;function xt(e){const t=(0,i.m9)(e);return Lt.has(t)||Lt.set(t,Ot._fromUser(t)),Lt.get(t)}const Mt="__sak";class Ut{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mt,"1"),this.storage.removeItem(Mt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ft extends Ut{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.z$)();return ie(e)||ce(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=he(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ft.type="LOCAL";const jt=Ft;class Vt extends Ut{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Vt.type="SESSION";const Bt=Vt;class Ht{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ht(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map((async e=>e(t.origin,r))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Kt(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Ht.receivers=[];class qt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((a,o)=>{const u=Kt("",20);i.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Gt(){return window}function zt(){return"undefined"!==typeof Gt().WorkerGlobalScope&&"function"===typeof Gt().importScripts}const Wt="firebaseLocalStorageDb",$t="firebaseLocalStorage",Yt="fbase_key";class Xt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Zt(e,t){return e.transaction([$t],t?"readwrite":"readonly").objectStore($t)}function Jt(){const e=indexedDB.open(Wt,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore($t,{keyPath:Yt})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains($t)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wt);return new Xt(e).toPromise()}(),t(await Jt()))}))}))}async function Qt(e,t,n){const i=Zt(e,!0).put({[Yt]:t,value:n});return new Xt(i).toPromise()}function en(e,t){const n=Zt(e,!0).delete(t);return new Xt(n).toPromise()}class tn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Jt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ht._getInstance(zt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jt();return await Qt(e,Mt,"1"),await en(e,Mt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Qt(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Zt(e,!1).get(t),i=await new Xt(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>en(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Zt(e,!1).getAll();return new Xt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}tn.type="LOCAL";const nn=tn;function rn(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=v("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function sn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const an=1e12;class on{constructor(e){this.auth=e,this.counter=an,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new un(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||an;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||an;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||an;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class un{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;I(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cn=sn("rcb"),ln=new N(3e4,6e4);class hn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gt().grecaptcha}load(e,t=""){return I(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Gt().grecaptcha):new Promise(((n,r)=>{const s=Gt().setTimeout((()=>{r(v(e,"network-request-failed"))}),ln.get());Gt()[cn]=()=>{Gt().clearTimeout(s),delete Gt()[cn];const i=Gt().grecaptcha;if(!i)return void r(v(e,"internal-error"));const a=i.render;i.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};rn(`https://www.google.com/recaptcha/api.js??${(0,i.xO)({onload:cn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(s),r(v(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Gt().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dn{async load(e){return new on(e)}clearedOneInstance(){}}const fn="recaptcha",pn={theme:"light",type:"image"};class gn{constructor(e,t=Object.assign({},pn),n){this.parameters=t,this.type=fn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pe(n),this.isInvisible="invisible"===this.parameters.size,I("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof e?document.getElementById(e):e;I(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dn:new hn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){I(!this.parameters.sitekey,this.auth,"argument-error"),I(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),I("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Gt()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){I(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){I(C()&&!zt(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await x(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);I(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return I(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ce._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function vn(e,t,n){const r=pe(e),s=await wn(r,t,(0,i.m9)(n));return new mn(s,(e=>Ze(r,e)))}async function yn(e,t,n){const r=(0,i.m9)(e);await $e(!1,r,"phone");const s=await wn(r.auth,t,(0,i.m9)(n));return new mn(s,(e=>Je(r,e)))}async function bn(e,t,n){const r=(0,i.m9)(e),s=await wn(r.auth,t,(0,i.m9)(n));return new mn(s,(e=>Qe(r,e)))}async function wn(e,t,n){var i;const r=await n.verify();try{let s;if(I("string"===typeof r,e,"argument-error"),I(n.type===fn,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){I("enroll"===t.type,e,"internal-error");const n=await function(e,t){return x(e,"POST","/v2/accounts/mfaEnrollment:start",L(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{I("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;I(n,e,"missing-multi-factor-info");const a=await function(e,t){return x(e,"POST","/v2/accounts/mfaSignIn:start",L(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return x(e,"POST","/v1/accounts:sendVerificationCode",L(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}async function In(e,t){await We((0,i.m9)(e),t)}class En{constructor(e){this.providerId=En.PROVIDER_ID,this.auth=pe(e)}verifyPhoneNumber(e,t){return wn(this.auth,e,(0,i.m9)(t))}static credential(e,t){return Ce._fromVerification(e,t)}static credentialFromResult(e){const t=e;return En.credentialFromTaggedObject(t)}static credentialFromError(e){return En.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ce._fromTokenResponse(t,n):null}}function _n(e,t){return t?T(t):(I(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}En.PROVIDER_ID="phone",En.PHONE_SIGN_IN_METHOD="phone";class Sn extends be{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Se(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Se(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Se(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tn(e){return Xe(e.auth,new Sn(e),e.bypassAuthState)}function kn(e){const{auth:t,user:n}=e;return I(n,t,"internal-error"),Ye(n,new Sn(e),e.bypassAuthState)}async function Cn(e){const{auth:t,user:n}=e;return I(n,t,"internal-error"),We(n,new Sn(e),e.bypassAuthState)}class An{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tn;case"linkViaPopup":case"linkViaRedirect":return Cn;case"reauthViaPopup":case"reauthViaRedirect":return kn;default:m(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nn=new N(2e3,1e4);async function Rn(e,t,n){const i=pe(e);b(e,t,Re);const r=_n(i,n);return new On(i,"signInViaPopup",t,r).executeNotNull()}async function Pn(e,t,n){const r=(0,i.m9)(e);b(r.auth,t,Re);const s=_n(r.auth,n);return new On(r.auth,"reauthViaPopup",t,s,r).executeNotNull()}async function Dn(e,t,n){const r=(0,i.m9)(e);b(r.auth,t,Re);const s=_n(r.auth,n);return new On(r.auth,"linkViaPopup",t,s,r).executeNotNull()}class On extends An{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,On.currentPopupAction&&On.currentPopupAction.cancel(),On.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return I(e,this.auth,"internal-error"),e}async onExecution(){_(1===this.filter.length,"Popup operations only handle one event");const e=Kt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(v(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,On.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Nn.get())};e()}}On.currentPopupAction=null;const Ln=new Map;class xn extends An{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ln.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=jn(t),i=Fn(e);if(!(await i._isAvailable()))return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ln.set(this.auth._key(),e)}return this.bypassAuthState||Ln.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Mn(e,t){return Fn(e)._set(jn(t),"true")}function Un(){Ln.clear()}function Fn(e){return T(e._redirectPersistence)}function jn(e){return Q("pendingRedirect",e.config.apiKey,e.name)}function Vn(e,t,n){return async function(e,t,n){const i=pe(e);b(e,t,Re);const r=_n(i,n);return await Mn(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}function Bn(e,t,n){return async function(e,t,n){const r=(0,i.m9)(e);b(r.auth,t,Re);const s=_n(r.auth,n);await Mn(s,r.auth);const a=await Gn(r);return s._openRedirect(r.auth,t,"reauthViaRedirect",a)}(e,t,n)}function Hn(e,t,n){return async function(e,t,n){const r=(0,i.m9)(e);b(r.auth,t,Re);const s=_n(r.auth,n);await $e(!1,r,t.providerId),await Mn(s,r.auth);const a=await Gn(r);return s._openRedirect(r.auth,t,"linkViaRedirect",a)}(e,t,n)}async function Kn(e,t){return await pe(e)._initializationPromise,qn(e,t,!1)}async function qn(e,t,n=!1){const i=pe(e),r=_n(i,t),s=new xn(i,r,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}async function Gn(e){const t=Kt(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class zn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $n(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$n(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wn(e))}saveEventToCache(e){this.cachedEventUids.add(Wn(e)),this.lastProcessedEventTime=Date.now()}}function Wn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $n({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}async function Yn(e,t={}){return x(e,"GET","/v1/projects",t)}const Xn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zn=/^https?/;function Jn(e){const t=k(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Zn.test(n))return!1;if(Xn.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Qn=new N(3e4,6e4);function ei(){const e=Gt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ti=null;function ni(e){return ti=ti||function(e){return new Promise(((t,n)=>{var i,r,s;function a(){ei(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ei(),n(v(e,"network-request-failed"))},timeout:Qn.get()})}if(null===(r=null===(i=Gt().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Gt().gapi)||void 0===s?void 0:s.load)){const t=sn("iframefcb");return Gt()[t]=()=>{gapi.load?a():n(v(e,"network-request-failed"))},rn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw ti=null,e}))}(e),ti}const ii=new N(5e3,15e3),ri={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},si=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ai(e){const t=e.config;I(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:r.SDK_VERSION},a=si.get(e.config.apiHost);a&&(s.eid=a);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${(0,i.xO)(s).slice(1)}`}const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ui{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ci(e,t,n,r=500,s=600){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},oi),{width:r.toString(),height:s.toString(),top:a,left:o}),l=(0,i.z$)().toLowerCase();n&&(u=re(l)?"_blank":n),ne(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,i.z$)()){var t;return ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",u),new ui(null);const d=window.open(t||"",u,h);I(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ui(d)}const li="__/auth/handler",hi="emulator/auth/handler";function di(e,t,n,s,a,o){I(e.config.authDomain,e,"auth-domain-config-required"),I(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.SDK_VERSION,eventId:a};if(t instanceof Re){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))u[e]=t}if(t instanceof Pe){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${li}`;return R(e,hi)}(e)}?${(0,i.xO)(c).slice(1)}`}const fi="webStorageSupport";const pi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bt,this._completeRedirectFn=qn}async _openPopup(e,t,n,i){var r;_(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return ci(e,di(e,t,n,k(),i),Kt())}async _openRedirect(e,t,n,i){var r;return await this._originValidation(e),r=di(e,t,n,k(),i),Gt().location.href=r,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await ni(e),n=Gt().gapi;return I(n,e,"internal-error"),t.open({where:document.body,url:ai(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ri,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=v(e,"network-request-failed"),s=Gt().setTimeout((()=>{i(r)}),ii.get());function a(){Gt().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{i(r)}))}))))}(e),n=new zn(e);return t.register("authEvent",(t=>{I(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fi,{type:fi},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&t(!!r),m(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Yn(e);for(const i of t)try{if(Jn(i))return}catch(n){}m(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return he()||ie()||ce()}};class gi extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return E("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gi(e)}_finalizeEnroll(e,t,n){return function(e,t){return x(e,"POST","/v2/accounts/mfaEnrollment:finalize",L(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return x(e,"POST","/v2/accounts/mfaSignIn:finalize",L(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mi{constructor(){}static assertion(e){return gi._fromCredential(e)}}mi.FACTOR_ID="phone";var vi,yi="@firebase/auth",bi="0.19.12";class wi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ii(e=(0,r.getApp)()){const t=(0,r._getProvider)(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=(0,r._getProvider)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!==t&&void 0!==t?t:{}))return e;m(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:pi,persistence:[nn,jt,Bt]})}vi="Browser",(0,r._registerComponent)(new o.wA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:r,authDomain:s}=n.options;return((e,n)=>{I(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),I(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});const i={apiKey:r,authDomain:s,clientPlatform:vi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:de(vi)},a=new fe(e,n,i);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(T);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(a,t),a})(n,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r._registerComponent)(new o.wA("auth-internal",(e=>(e=>new wi(e))(pe(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.registerVersion)(yi,bi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vi)),(0,r.registerVersion)(yi,bi,"esm2017")},4444:function(e,t,n){"use strict";n.d(t,{BH:function(){return u},L:function(){return s},LL:function(){return I},Mn:function(){return v},UG:function(){return h},X3:function(){return j},ZB:function(){return o},ZR:function(){return w},b$:function(){return p},d:function(){return g},eu:function(){return b},hl:function(){return y},jU:function(){return d},m9:function(){return O},ne:function(){return R},pd:function(){return N},r3:function(){return _},ru:function(){return f},tV:function(){return a},uI:function(){return l},vZ:function(){return T},w1:function(){return m},xO:function(){return C},xb:function(){return S},z$:function(){return c},zd:function(){return A}});const i=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,a=s?e[r+1]:0,o=r+2<e.length,u=o?e[r+2]:0,c=t>>2,l=(3&t)<<4|a>>4;let h=(15&a)<<2|u>>6,d=63&u;o||(d=64,s||(h=64)),i.push(n[c],n[l],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const o=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==a||null==o)throw Error();const u=t<<2|s>>4;if(i.push(u),64!==a){const e=s<<4&240|a>>2;if(i.push(e),64!==o){const e=a<<6&192|o;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=i(e);return r.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return r.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=o(e[n],t[n]));return e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function c(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function d(){return"object"===typeof self&&self.self===self}function f(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function p(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){const e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return c().indexOf("MSAppHost/")>=0}function y(){return"object"===typeof indexedDB}function b(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class w extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(E,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new w(i,a,n)}}const E=/\{\$([^}]+)}/g;function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function T(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(k(n)&&k(s)){if(!T(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function k(e){return null!==e&&"object"===typeof e}function C(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function A(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R(e,t){const n=new P(e,t);return n.subscribe.bind(n)}class P{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=D),void 0===i.error&&(i.error=D),void 0===i.complete&&(i.complete=D);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function D(){}function O(e){return e&&e._delegate?e._delegate:e}function L(e,t){return new Promise(((n,i)=>{e.onsuccess=e=>{n(e.target.result)},e.onerror=e=>{var n;i(`${t}: ${null===(n=e.target.error)||void 0===n?void 0:n.message}`)}}))}class x{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t="readonly"){return new M(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new U(this._db.createObjectStore(e,t))}close(){this._db.close()}}class M{constructor(e){this._transaction=e,this.complete=new Promise(((e,t)=>{this._transaction.oncomplete=function(){e()},this._transaction.onerror=()=>{t(this._transaction.error)},this._transaction.onabort=()=>{t(this._transaction.error)}}))}objectStore(e){return new U(this._transaction.objectStore(e))}}class U{constructor(e){this._store=e}index(e){return new F(this._store.index(e))}createIndex(e,t,n){return new F(this._store.createIndex(e,t,n))}get(e){return L(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return L(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return L(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return L(this._store.clear(),"Error clearing IndexedDB object store")}}class F{constructor(e){this._index=e}get(e){return L(this._index.get(e),"Error reading from IndexedDB")}}function j(e,t,n){return new Promise(((i,r)=>{try{const s=indexedDB.open(e,t);s.onsuccess=e=>{i(new x(e.target.result))},s.onerror=e=>{var t;r(`Error opening indexedDB: ${null===(t=e.target.error)||void 0===t?void 0:t.message}`)},s.onupgradeneeded=e=>{n(new x(s.result),e.oldVersion,e.newVersion,new M(s.transaction))}}catch(s){r(`Error opening indexedDB: ${s.message}`)}}))}},4184:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===s)if(n.toString===Object.prototype.toString)for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},7211:function(e,t,n){var i;!function(){var r=window.CustomEvent;function s(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function o(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function u(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var s="DOMNodeRemoved";n|=r.type.substr(0,s.length)===s,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!==typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(l){}if(i)for(var r=0;r<i.length;++r){var s=i[r],a=null;try{a=document.querySelectorAll(s.selectorText)}catch(l){}if(a&&o(a,e)){var u=s.style.getPropertyValue("top"),c=s.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=s(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var f=d.get;d.get=function(){return u(this)?"dialog":f.call(this)};var p=d.set;d.set=function(e){return"string"===typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):p.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&u(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}s(t)&&(l.formSubmitter=t)}}}),!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return g.call(this);var e=s(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(u(t)){e.preventDefault();var n=s(t);if(n){var i=l.formSubmitter;i&&i.form===t?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(i=function(){return l}.call(t,n,t,e))||(e.exports=i):"object"===typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},7702:function(e,t,n){"use strict";n.d(t,{Xb:function(){return i.a4},v0:function(){return i.n},Aj:function(){return i.t},e5:function(){return i.a5},w7:function(){return i.x}});var i=n(8429);n(4444),n(2238),n(3333),n(8463)},1902:function(e,t,n){"use strict";n.d(t,{Z:function(){return i.Z}});var i=n(8180);i.Z.registerVersion("firebase","9.7.0","app-compat")},5321:function(e,t,n){"use strict";n.d(t,{ET:function(){return Ll},hJ:function(){return Gc},JU:function(){return zc},QT:function(){return Rl},PL:function(){return Dl},ad:function(){return Yc},IO:function(){return Cl},pl:function(){return Ol}});var i,r=n(2238),s=n(8463),a=n(3333),o=n(4444),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},c={},l=l||{},h=u||self;function d(){}function f(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function I(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function E(){this.s=this.s,this.o=this.o}var _={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++m)}(this);delete _[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const i=e.length,r="string"===typeof e?e.split(""):e;for(let s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};function k(e){return Array.prototype.concat.apply([],arguments)}function C(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var N,R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}e:{var O=h.navigator;if(O){var L=O.userAgent;if(L){N=L;break e}}N=""}function x(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function M(e){const t={};for(const n in e)t[n]=e[n];return t}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<U.length;t++)n=U[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function j(e){return j[" "](e),e}j[" "]=d;var V,B=P(N,"Opera"),H=P(N,"Trident")||P(N,"MSIE"),K=P(N,"Edge"),q=K||H,G=P(N,"Gecko")&&!(P(N.toLowerCase(),"webkit")&&!P(N,"Edge"))&&!(P(N,"Trident")||P(N,"MSIE"))&&!P(N,"Edge"),z=P(N.toLowerCase(),"webkit")&&!P(N,"Edge");function W(){var e=h.document;return e?e.documentMode:void 0}e:{var $="",Y=function(){var e=N;return G?/rv:([^\);]+)(\)|;)/.exec(e):K?/Edge\/([\d\.]+)/.exec(e):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):z?/WebKit\/(\S+)/.exec(e):B?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Y&&($=Y?Y[1]:""),H){var X=W();if(null!=X&&X>parseFloat($)){V=String(X);break e}}V=$}var Z,J={};function Q(){return function(e){var t=J;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=R(String(V)).split("."),n=R("9").split("."),i=Math.max(t.length,n.length);for(let a=0;0==e&&a<i;a++){var r=t[a]||"",s=n[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=D(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==r[2].length,0==s[2].length)||D(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}))}if(h.document&&H){var ee=W();Z=ee||(parseInt(V,10)||void 0)}else Z=void 0;var te=Z,ne=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",d,t),h.removeEventListener("test",d,t)}catch(n){}return e}();function ie(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function re(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(G){e:{try{j(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:se[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&re.Z.h.call(this)}}ie.prototype.h=function(){this.defaultPrevented=!0},I(re,ie);var se={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ue(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++oe,this.ca=this.fa=!1}function ce(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function le(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=S(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ce(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function de(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}le.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=de(e,t,i,r);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ue(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var fe="closure_lm_"+(1e6*Math.random()|0),pe={};function ge(e,t,n,i,r){if(i&&i.once)return ve(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ge(e,t[s],n,i,r);return null}return n=Se(n),e&&e[ae]?e.N(t,n,p(i)?!!i.capture:!!i,r):me(e,t,n,!1,i,r)}function me(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=p(r)?!!r.capture:!!r,o=Ee(e);if(o||(e[fe]=o=new le(e)),(n=o.add(t,n,i,a,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ie;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)ne||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(we(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ve(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ve(e,t[s],n,i,r);return null}return n=Se(n),e&&e[ae]?e.O(t,n,p(i)?!!i.capture:!!i,r):me(e,t,n,!0,i,r)}function ye(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)ye(e,t[s],n,i,r);else i=p(i)?!!i.capture:!!i,n=Se(n),e&&e[ae]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=de(s=e.g[t],n,i,r))&&(ce(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ee(e))&&(t=e.g[t.toString()],e=-1,t&&(e=de(t,n,i,r)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ae])he(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(we(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Ee(t))?(he(n,e),0==n.h&&(n.src=null,t[fe]=null)):ce(e)}}}function we(e){return e in pe?pe[e]:pe[e]="on"+e}function Ie(e,t){if(e.ca)e=!0;else{t=new re(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&be(e),e=n.call(i,t)}return e}function Ee(e){return(e=e[fe])instanceof le?e:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"===typeof e?e:(e[_e]||(e[_e]=function(t){return e.handleEvent(t)}),e[_e])}function Te(){E.call(this),this.i=new le(this),this.P=this,this.I=null}function ke(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"===typeof t)t=new ie(t,e);else if(t instanceof ie)t.target=t.target||e;else{var r=t;F(t=new ie(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];r=Ce(a,i,!0,t)&&r}if(r=Ce(a=t.g=e,i,!0,t)&&r,r=Ce(a,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Ce(a=t.g=n[s],i,!1,t)&&r}function Ce(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var o=a.listener,u=a.ia||a.src;a.fa&&he(e.i,a),r=!1!==o.call(u,i)&&r}}return r&&!i.defaultPrevented}I(Te,E),Te.prototype[ae]=!0,Te.prototype.removeEventListener=function(e,t,n,i){ye(this,e,t,n,i)},Te.prototype.M=function(){if(Te.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ce(n[i]);delete t.g[e],t.h--}}this.I=null},Te.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},Te.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Ae=h.JSON.stringify;function Ne(){var e=Me;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Re,Pe=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new De),(e=>e.reset()));class De{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oe(e){h.setTimeout((()=>{throw e}),0)}function Le(e,t){Re||function(){var e=h.Promise.resolve(void 0);Re=function(){e.then(Ue)}}(),xe||(Re(),xe=!0),Me.add(e,t)}var xe=!1,Me=new class{constructor(){this.h=this.g=null}add(e,t){const n=Pe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ue(){for(var e;e=Ne();){try{e.h.call(e.g)}catch(n){Oe(n)}var t=Pe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xe=!1}function Fe(e,t){Te.call(this),this.h=e||1,this.g=t||h,this.j=b(this.kb,this),this.l=Date.now()}function je(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ve(e,t,n){if("function"===typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Be(e){e.g=Ve((()=>{e.g=null,e.i&&(e.i=!1,Be(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}I(Fe,Te),(i=Fe.prototype).da=!1,i.S=null,i.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ke(this,"tick"),this.da&&(je(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Fe.Z.M.call(this),je(this),delete this.g};class He extends E{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Be(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(e){E.call(this),this.h=e,this.g={}}I(Ke,E);var qe=[];function Ge(e,t,n,i){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var r=0;r<n.length;r++){var s=ge(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ze(e){x(e.g,(function(e,t){this.g.hasOwnProperty(t)&&be(e)}),e),e.g={}}function We(){this.g=!0}function $e(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Ae(n)}catch(o){return t}}(e,n)+(i?" "+i:"")}))}Ke.prototype.M=function(){Ke.Z.M.call(this),ze(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Aa=function(){this.g=!1},We.prototype.info=function(){};var Ye={},Xe=null;function Ze(){return Xe=Xe||new Te}function Je(e){ie.call(this,Ye.Ma,e)}function Qe(e){const t=Ze();ke(t,new Je(t,e))}function et(e,t){ie.call(this,Ye.STAT_EVENT,e),this.stat=t}function tt(e){const t=Ze();ke(t,new et(t,e))}function nt(e,t){ie.call(this,Ye.Na,e),this.size=t}function it(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Ye.Ma="serverreachability",I(Je,ie),Ye.STAT_EVENT="statevent",I(et,ie),Ye.Na="timingevent",I(nt,ie);var rt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},st={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function at(){}function ot(e){return e.h||(e.h=e.i())}function ut(){}at.prototype.h=null;var ct,lt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ht(){ie.call(this,"d")}function dt(){ie.call(this,"c")}function ft(){}function pt(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Ke(this),this.P=mt,e=q?125:void 0,this.W=new Fe(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}I(ht,ie),I(dt,ie),I(ft,at),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},ct=new ft;var mt=45e3,vt={},yt={};function bt(e,t,n){e.K=1,e.v=Ht(Mt(t)),e.s=n,e.U=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),St(e),e.A=Mt(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),tn(n.h,"t",i),e.C=0,n=e.l.H,e.h=new gt,e.g=ii(e.l,n?t:null,!e.s),0<e.O&&(e.L=new He(b(e.Ia,e,e.g),e.O)),Ge(e.V,e.g,"readystatechange",e.gb),t=e.H?M(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qe(1),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),u=0;u<o.length;u++){var c=o[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function It(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Et(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=_t(e,n),i==yt){4==t&&(e.o=4,tt(14),r=!1),$e(e.j,e.m,null,"[Incomplete Response]");break}if(i==vt){e.o=4,tt(15),$e(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}$e(e.j,e.m,i,null),Nt(e,i)}It(e)&&i!=yt&&i!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(t),t.L=!0,tt(11))):($e(e.j,e.m,n,"[Invalid Chunked Response]"),At(e),Ct(e))}function _t(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?yt:(n=Number(t.substring(n,i)),isNaN(n)?vt:(i+=1)+n>t.length?yt:(t=t.substr(i,n),e.C=i+n,t))}function St(e){e.Y=Date.now()+e.P,Tt(e,e.P)}function Tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=it(b(e.eb,e),t)}function kt(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function Ct(e){0==e.l.G||e.I||Jn(e.l,e)}function At(e){kt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,je(e.W),ze(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Nt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cn(n.i,e)))if(n.I=e.N,!e.J&&cn(n.i,e)&&3==n.G){try{var i=n.Ca.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zn(n),Vn(n)}$n(n),tt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=it(b(n.ab,n),6e3));if(1>=un(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else ei(n,11)}else if((e.J||n.g==e)&&Zn(n),!A(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const r=c[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"===typeof l&&0<l&&(i=1.5*l,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;!s.g&&(P(e,"spdy")||P(e,"quic")||P(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ln(s,s.h),s.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.sa=e,Bt(i.F,i.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var a=e;if((i=n).oa=ni(i,i.H?i.la:null,i.W),a.J){hn(i.i,a);var o=a,u=i.K;u&&o.setTimeout(u),o.B&&(kt(o),St(o)),i.g=a}else Wn(i);0<n.l.length&&Kn(n)}else"stop"!=c[0]&&"close"!=c[0]||ei(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ei(n,7):jn(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Qe(4)}catch(c){}}function Rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(f(e)||"string"===typeof e){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function Pt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Pt)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Dt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Ot(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)Ot(r,i=e.g[t])||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=pt.prototype).setTimeout=function(e){this.P=e},i.gb=function(e){e=e.target;const t=this.L;t&&3==Ln(e)?t.l():this.Ia(e)},i.Ia=function(e){try{if(e==this.g)e:{const l=Ln(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||q||this.g&&(this.h.h||this.g.ga()||xn(this.g)))){this.I||4!=l||7==t||Qe(8==t||0>=d?3:2),kt(this);var n=this.g.ba();this.N=n;t:if(It(this)){var i=xn(this.g);e="";var r=i.length,s=4==Ln(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){At(this),Ct(this);var a="";break t}this.h.i=new h.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,i,r,s,a){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,u=this.g;if((o=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,tt(12),At(this),Ct(this);break e}$e(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nt(this,n)}this.U?(Et(this,l,a),q&&this.i&&3==l&&(Ge(this.V,this.W,"tick",this.fb),this.W.start())):($e(this.j,this.m,a,null),Nt(this,a)),4==l&&At(this),this.i&&!this.I&&(4==l?Jn(this.l,this):(this.i=!1,St(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,tt(12)):(this.o=0,tt(13)),At(this),Ct(this)}}}catch(l){}},i.fb=function(){if(this.g){var e=Ln(this.g),t=this.g.ga();this.C<t.length&&(kt(this),Et(this,e,t),this.i&&4!=e&&St(this))}},i.cancel=function(){this.I=!0,At(this)},i.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qe(3),tt(17)),At(this),this.o=2,Ct(this)):Tt(this,this.Y-e)},(i=Pt.prototype).R=function(){Dt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},i.T=function(){return Dt(this),this.g.concat()},i.get=function(e,t){return Ot(this.h,e)?this.h[e]:t},i.set=function(e,t){Ot(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},i.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};var Lt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof xt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,Ft(this,e.i),jt(this,e.m),this.l=e.l,t=e.h;var n=new Zt;n.i=t.i,t.g&&(n.g=new Pt(t.g),n.h=t.h),Vt(this,n),this.o=e.o}else e&&(n=String(e).match(Lt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Kt(n[2]||""),Ft(this,n[3]||"",!0),jt(this,n[4]),this.l=Kt(n[5]||"",!0),Vt(this,n[6]||"",!0),this.o=Kt(n[7]||"")):(this.g=!!t,this.h=new Zt(null,this.g))}function Mt(e){return new xt(e)}function Ut(e,t,n){e.j=n?Kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ft(e,t,n){e.i=n?Kt(t,!0):t}function jt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vt(e,t,n){t instanceof Zt?(e.h=t,function(e,t){t&&!e.j&&(Jt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),tn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=qt(t,Yt)),e.h=new Zt(t,e.g))}function Bt(e,t,n){e.h.set(t,n)}function Ht(e){return Bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qt(t,zt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qt(t,zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(qt(n,"/"==n.charAt(0)?$t:Wt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qt(n,Xt)),e.join("")};var zt=/[#\/\?@]/g,Wt=/[#\?:]/g,$t=/[#\?]/g,Yt=/[#\?@]/g,Xt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jt(e){e.g||(e.g=new Pt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qt(e,t){Jt(e),t=nn(e,t),Ot(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ot((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dt(e)))}function en(e,t){return Jt(e),t=nn(e,t),Ot(e.g.h,t)}function tn(e,t,n){Qt(e,t),0<n.length&&(e.i=null,e.g.set(nn(e,t),C(n)),e.h+=n.length)}function nn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(i=Zt.prototype).add=function(e,t){Jt(this),this.i=null,e=nn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){Jt(this),this.g.forEach((function(n,i){T(n,(function(n){e.call(t,n,i,this)}),this)}),this)},i.T=function(){Jt(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},i.R=function(e){Jt(this);var t=[];if("string"===typeof e)en(this,e)&&(t=k(t,this.g.get(nn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=k(t,e[n])}return t},i.set=function(e,t){return Jt(this),this.i=null,en(this,e=nn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};function rn(e){this.l=e||an,h.PerformanceNavigationTiming?e=0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn,an=10;function on(e){return!!e.h||!!e.g&&e.g.size>=e.j}function un(e){return e.h?1:e.g?e.g.size:0}function cn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ln(e,t){e.g?e.g.add(t):e.h=t}function hn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return C(e.i)}function fn(){}function pn(){this.g=new fn}function gn(e,t,n){const i=n||"";try{Rt(e,(function(e,n){let r=e;p(e)&&(r=Ae(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function mn(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function vn(e){this.l=e.$b||null,this.j=e.ib||!1}function yn(e,t){Te.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=bn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},fn.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},fn.prototype.parse=function(e){return h.JSON.parse(e,void 0)},I(vn,at),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=(sn={},function(){return sn}),I(yn,Te);var bn=0;function wn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function In(e){e.readyState=4,e.l=null,e.j=null,e.A=null,En(e)}function En(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(i=yn.prototype).open=function(e,t){if(this.readyState!=bn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,En(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||h).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,In(this)),this.readyState=bn},i.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?In(this):En(this),3==this.readyState&&wn(this)}},i.Ua=function(e){this.g&&(this.response=this.responseText=e,In(this))},i.Ta=function(e){this.g&&(this.response=e,In(this))},i.ha=function(){this.g&&In(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _n=h.JSON.parse;function Sn(e){Te.call(this),this.headers=new Pt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}I(Sn,Te);var Tn="",kn=/^https?$/i,Cn=["POST","PUT"];function An(e){return"content-type"==e.toLowerCase()}function Nn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rn(e),Dn(e)}function Rn(e){e.D||(e.D=!0,ke(e,"complete"),ke(e,"error"))}function Pn(e){if(e.h&&"undefined"!=typeof l&&(!e.C[1]||4!=Ln(e)||2!=e.ba()))if(e.v&&4==Ln(e))Ve(e.Fa,0,e);else if(ke(e,"readystatechange"),4==Ln(e)){e.h=!1;try{const u=e.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===u){var r=String(e.H).match(Lt)[1]||null;if(!r&&h.self&&h.self.location){var s=h.self.location.protocol;r=s.substr(0,s.length-1)}i=!kn.test(r?r.toLowerCase():"")}n=i}if(n)ke(e,"complete"),ke(e,"success");else{e.m=6;try{var a=2<Ln(e)?e.g.statusText:""}catch(o){a=""}e.j=a+" ["+e.ba()+"]",Rn(e)}}finally{Dn(e)}}}function Dn(e,t){if(e.g){On(e);const i=e.g,r=e.C[0]?d:null;e.g=null,e.C=null,t||ke(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function On(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function Ln(e){return e.g?e.g.readyState:0}function xn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Mn(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=function(e){let t="";return x(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bt(e,t,n))}function Un(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fn(e){this.za=0,this.l=[],this.h=new We,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,e),this.$a=Un("retryDelaySeedMs",1e4,e),this.Ya=Un("forwardChannelMaxRetries",2,e),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(e&&e.concurrentRequestLimit),this.Ca=new pn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function jn(e){if(Bn(e),3==e.G){var t=e.V++,n=Mt(e.F);Bt(n,"SID",e.J),Bt(n,"RID",t),Bt(n,"TYPE","terminate"),Gn(e,n),(t=new pt(e,e.h,t,void 0)).K=2,t.v=Ht(Mt(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.v.toString(),"")),!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=ii(t.l,null),t.g.ea(t.v)),t.F=Date.now(),St(t)}ti(e)}function Vn(e){e.g&&(Yn(e),e.g.cancel(),e.g=null)}function Bn(e){Vn(e),e.u&&(h.clearTimeout(e.u),e.u=null),Zn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function Hn(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Kn(e)}function Kn(e){on(e.i)||e.m||(e.m=!0,Le(e.Ha,e),e.C=0)}function qn(e,t){var n;n=t?t.m:e.V++;const i=Mt(e.F);Bt(i,"SID",e.J),Bt(i,"RID",n),Bt(i,"AID",e.U),Gn(e,i),e.o&&e.s&&Mn(i,e.o,e.s),n=new pt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ln(e.i,n),bt(n,i,t)}function Gn(e,t){e.j&&Rt({},(function(e,n){Bt(t,n,e)}))}function zn(e,t,n){n=Math.min(e.l.length,n);var i=e.j?b(e.j.Oa,e.j,e):null;e:{var r=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=r[a].h;const o=r[a].g;if(n-=t,0>n)t=Math.max(0,r[a].h-100),s=!1;else try{gn(o,e,"req"+n+"_")}catch(Pi){i&&i(o)}}if(s){i=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,i}function Wn(e){e.g||e.u||(e.Y=1,Le(e.Ga,e),e.A=0)}function $n(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=it(b(e.Ga,e),Qn(e,e.A)),e.A++,!0)}function Yn(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Xn(e){e.g=new pt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mt(e.oa);Bt(t,"RID","rpc"),Bt(t,"SID",e.J),Bt(t,"CI",e.N?"0":"1"),Bt(t,"AID",e.U),Gn(e,t),Bt(t,"TYPE","xmlhttp"),e.o&&e.s&&Mn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ht(Mt(t)),n.s=null,n.U=!0,wt(n,e)}function Zn(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function Jn(e,t){var n=null;if(e.g==t){Zn(e),Yn(e),e.g=null;var i=2}else{if(!cn(e.i,t))return;n=t.D,hn(e.i,t),i=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;ke(i=Ze(),new nt(i,n,t,r)),Kn(e)}else Wn(e);else if(3==(r=t.o)||0==r&&0<e.I||!(1==i&&function(e,t){return!(un(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=it(b(e.Ha,e,t),Qn(e,e.C)),e.C++,!0))}(e,t)||2==i&&$n(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:ei(e,5);break;case 4:ei(e,10);break;case 3:ei(e,6);break;default:ei(e,2)}}function Qn(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ei(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var i=b(e.jb,e);n||(n=new xt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ut(n,"https"),Ht(n)),function(e,t){const n=new We;if(h.Image){const i=new Image;i.onload=w(mn,n,i,"TestLoadImage: loaded",!0,t),i.onerror=w(mn,n,i,"TestLoadImage: error",!1,t),i.onabort=w(mn,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=w(mn,n,i,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else tt(2);e.G=0,e.j&&e.j.va(t),ti(e),Bn(e)}function ti(e){e.G=0,e.I=-1,e.j&&(0==dn(e.i).length&&0==e.l.length||(e.i.i.length=0,C(e.l),e.l.length=0),e.j.ua())}function ni(e,t,n){let i=function(e){return e instanceof xt?Mt(e):new xt(e,void 0)}(n);if(""!=i.i)t&&Ft(i,t+"."+i.i),jt(i,i.m);else{const e=h.location;i=function(e,t,n,i){var r=new xt(null,void 0);return e&&Ut(r,e),t&&Ft(r,t),n&&jt(r,n),i&&(r.l=i),r}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&x(e.aa,(function(e,t){Bt(i,t,e)})),t=e.D,n=e.sa,t&&n&&Bt(i,t,n),Bt(i,"VER",e.ma),Gn(e,i),i}function ii(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Sn(new vn({ib:!0})):new Sn(e.qa)).L=e.H,t}function ri(){}function si(){if(H&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function ai(e,t){Te.call(this),this.g=new Fn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ci(this)}function oi(e){ht.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ui(){dt.call(this),this.status=1}function ci(e){this.g=e}(i=Sn.prototype).ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ct.g(),this.C=this.u?ot(this.u):ot(ct),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Nn(this,s)}e=n||"";const r=new Pt(this.headers);i&&Rt(i,(function(e,t){r.set(t,e)})),i=function(e){e:{var t=An;const n=e.length,i="string"===typeof e?e.split(""):e;for(let r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(r.T()),n=h.FormData&&e instanceof h.FormData,!(0<=S(Cn,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{On(this),0<this.B&&((this.K=function(e){return H&&Q()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=Ve(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Nn(this,s)}},i.pa=function(){"undefined"!=typeof l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ke(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ke(this,"complete"),ke(this,"abort"),Dn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dn(this,!0)),Sn.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},i.cb=function(){Pn(this)},i.ba=function(){try{return 2<Ln(this)?this.g.status:-1}catch(sn){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(sn){return""}},i.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_n(t)}},i.Da=function(){return this.m},i.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(i=Fn.prototype).ma=8,i.G=1,i.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},i.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new pt(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=M(s),F(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=zn(this,r,t),Bt(n=Mt(this.F),"RID",e),Bt(n,"CVER",22),this.D&&Bt(n,"X-HTTP-Session-Id",this.D),Gn(this,n),this.o&&s&&Mn(n,this.o,s),ln(this.i,r),this.Ra&&Bt(n,"TYPE","init"),this.ja?(Bt(n,"$req",t),Bt(n,"SID","null"),r.$=!0,bt(r,n,null)):bt(r,n,t),this.G=2}}else 3==this.G&&(e?qn(this,e):0==this.l.length||on(this.i)||qn(this))},i.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=it(b(this.bb,this),e)}},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tt(10),Vn(this),Xn(this))},i.ab=function(){null!=this.v&&(this.v=null,Vn(this),$n(this),tt(19))},i.jb=function(e){e?(this.h.info("Successfully pinged google.com"),tt(2)):(this.h.info("Failed to ping google.com"),tt(1))},(i=ri.prototype).xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},si.prototype.g=function(e,t){return new ai(e,t)},I(ai,Te),ai.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Le(b(e.hb,e,t))),tt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ni(e,null,e.W),Kn(e)},ai.prototype.close=function(){jn(this.g)},ai.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hn(this.g,t)}else this.v?((t={}).__data__=Ae(e),Hn(this.g,t)):Hn(this.g,e)},ai.prototype.M=function(){this.g.j=null,delete this.j,jn(this.g),delete this.g,ai.Z.M.call(this)},I(oi,ht),I(ui,dt),I(ci,ri),ci.prototype.xa=function(){ke(this.g,"a")},ci.prototype.wa=function(e){ke(this.g,new oi(e))},ci.prototype.va=function(e){ke(this.g,new ui(e))},ci.prototype.ua=function(){ke(this.g,"b")},si.prototype.createWebChannel=si.prototype.g,ai.prototype.send=ai.prototype.u,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,st.COMPLETE="complete",ut.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",Te.prototype.listen=Te.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var li=c.createWebChannelTransport=function(){return new si},hi=c.getStatEventTarget=function(){return Ze()},di=c.ErrorCode=rt,fi=c.EventType=st,pi=c.Event=Ye,gi=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mi=c.FetchXmlHttpFactory=vn,vi=c.WebChannel=ut,yi=c.XhrIo=Sn;n(3454);const bi="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let Ii="9.6.11";const Ei=new a.Yd("@firebase/firestore");function _i(){return Ei.logLevel}function Si(e,...t){if(Ei.logLevel<=a.in.DEBUG){const n=t.map(Ci);Ei.debug(`Firestore (${Ii}): ${e}`,...n)}}function Ti(e,...t){if(Ei.logLevel<=a.in.ERROR){const n=t.map(Ci);Ei.error(`Firestore (${Ii}): ${e}`,...n)}}function ki(e,...t){if(Ei.logLevel<=a.in.WARN){const n=t.map(Ci);Ei.warn(`Firestore (${Ii}): ${e}`,...n)}}function Ci(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ai(e="Unexpected state"){const t=`FIRESTORE (${Ii}) INTERNAL ASSERTION FAILED: `+e;throw Ti(t),new Error(t)}function Ni(e,t){e||Ai()}function Ri(e,t){return e}const Pi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Di extends o.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Li{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wi.UNAUTHENTICATED)))}shutdown(){}}class Mi{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Oi,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},a=e=>{Si("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Si("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Oi)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Si("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ni("string"==typeof t.accessToken),new Li(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ni(null===e||"string"==typeof e),new wi(e)}}class Ui{constructor(e,t,n){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Fi{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ui(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(wi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ji{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vi{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Si("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Si("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{Si("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?i(e):Si("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ni("string"==typeof e.token),this.p=e.token,new ji(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Hi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}Bi.A=-1;class Ki{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Hi(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}function qi(e,t){return e<t?-1:e>t?1:0}function Gi(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}class zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Di(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Di(Pi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Di(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Di(Pi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new zi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qi(this.nanoseconds,e.nanoseconds):qi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wi(e)}static min(){return new Wi(new zi(0,0))}static max(){return new Wi(new zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $i(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Zi{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ai(),void 0===n?n=e.length-t:n>e.length-t&&Ai(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ji extends Zi{construct(e,t,n){return new Ji(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Di(Pi.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Ji(t)}static emptyPath(){return new Ji([])}}const Qi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Zi{construct(e,t,n){return new er(e,t,n)}static isValidIdentifier(e){return Qi.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Di(Pi.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Di(Pi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Di(Pi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new Di(Pi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(t)}static emptyPath(){return new er([])}}class tr{constructor(e){this.fields=e,e.sort(er.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new nr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const ir=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(e){if(Ni(!!e),"string"==typeof e){let t=0;const n=ir.exec(e);if(Ni(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sr(e.seconds),nanos:sr(e.nanos)}}function sr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ar(e){return"string"==typeof e?nr.fromBase64String(e):nr.fromUint8Array(e)}function or(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ur(e){const t=e.mapValue.fields.__previous_value__;return or(t)?ur(t):t}function cr(e){const t=rr(e.mapValue.fields.__local_write_time__.timestampValue);return new zi(t.seconds,t.nanos)}class lr{constructor(e,t,n,i,r,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class hr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hr&&e.projectId===this.projectId&&e.database===this.database}}function dr(e){return null==e}function fr(e){return 0===e&&1/e==-1/0}function pr(e){return"number"==typeof e&&Number.isInteger(e)&&!fr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class gr{constructor(e){this.path=e}static fromPath(e){return new gr(Ji.fromString(e))}static fromName(e){return new gr(Ji.fromString(e).popFirst(5))}static empty(){return new gr(Ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ji.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ji.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gr(new Ji(e.slice()))}}function mr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?or(e)?4:Nr(e)?9:10:Ai()}function vr(e,t){if(e===t)return!0;const n=mr(e);if(n!==mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cr(e).isEqual(cr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=rr(e.timestampValue),i=rr(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ar(e.bytesValue).isEqual(ar(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sr(e.geoPointValue.latitude)===sr(t.geoPointValue.latitude)&&sr(e.geoPointValue.longitude)===sr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sr(e.integerValue)===sr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=sr(e.doubleValue),i=sr(t.doubleValue);return n===i?fr(n)===fr(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return Gi(e.arrayValue.values||[],t.arrayValue.values||[],vr);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if($i(n)!==$i(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!vr(n[r],i[r])))return!1;return!0}(e,t);default:return Ai()}}function yr(e,t){return void 0!==(e.values||[]).find((e=>vr(e,t)))}function br(e,t){if(e===t)return 0;const n=mr(e),i=mr(t);if(n!==i)return qi(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return qi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=sr(e.integerValue||e.doubleValue),i=sr(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return wr(e.timestampValue,t.timestampValue);case 4:return wr(cr(e),cr(t));case 5:return qi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ar(e),i=ar(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=qi(n[r],i[r]);if(0!==e)return e}return qi(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qi(sr(e.latitude),sr(t.latitude));return 0!==n?n:qi(sr(e.longitude),sr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=br(n[r],i[r]);if(e)return e}return qi(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let a=0;a<i.length&&a<s.length;++a){const e=qi(i[a],s[a]);if(0!==e)return e;const t=br(n[i[a]],r[s[a]]);if(0!==t)return t}return qi(i.length,s.length)}(e.mapValue,t.mapValue);default:throw Ai()}}function wr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qi(e,t);const n=rr(e),i=rr(t),r=qi(n.seconds,i.seconds);return 0!==r?r:qi(n.nanos,i.nanos)}function Ir(e){return Er(e)}function Er(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=rr(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ar(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,gr.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Er(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${Er(e.fields[r])}`;return n+"}"}(e.mapValue):Ai();var t,n}function _r(e){return!!e&&"integerValue"in e}function Sr(e){return!!e&&"arrayValue"in e}function Tr(e){return!!e&&"nullValue"in e}function kr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cr(e){return!!e&&"mapValue"in e}function Ar(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yi(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ar(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ar(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Nr(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Cr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ar(t)}setAll(e){let t=er.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=Ar(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Cr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Cr(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Yi(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new Rr(Ar(this.value))}}function Pr(e){const t=[];return Yi(e.fields,((e,n)=>{const i=new er([e]);if(Cr(n)){const e=Pr(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new tr(t)}class Dr{constructor(e,t,n,i,r,s){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.data=r,this.documentState=s}static newInvalidDocument(e){return new Dr(e,0,Wi.min(),Wi.min(),Rr.empty(),0)}static newFoundDocument(e,t,n){return new Dr(e,1,t,Wi.min(),n,0)}static newNoDocument(e,t){return new Dr(e,2,t,Wi.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new Dr(e,3,t,Wi.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Or{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}Or.UNKNOWN_ID=-1;function Lr(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Wi.fromTimestamp(1e9===i?new zi(n+1,0):new zi(n,i));return new Mr(r,gr.empty(),t)}function xr(e){return new Mr(e.readTime,e.key,-1)}class Mr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Mr(Wi.min(),gr.empty(),-1)}static max(){return new Mr(Wi.max(),gr.empty(),-1)}}function Ur(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=gr.comparator(e.documentKey,t.documentKey),0!==n?n:qi(e.largestBatchId,t.largestBatchId))}class Fr{constructor(e,t=null,n=[],i=[],r=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=a,this.P=null}}function jr(e,t=null,n=[],i=[],r=null,s=null,a=null){return new Fr(e,t,n,i,r,s,a)}function Vr(e){const t=Ri(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+Ir(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),dr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ir(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ir(e))).join(",")),t.P=e}return t.P}function Br(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!es(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(n=e.filters[r],i=t.filters[r],n.op!==i.op||!n.field.isEqual(i.field)||!vr(n.value,i.value))return!1;var n,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ns(e.startAt,t.startAt)&&ns(e.endAt,t.endAt)}function Hr(e){return gr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Kr extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new qr(e,t,n):"array-contains"===t?new $r(e,n):"in"===t?new Yr(e,n):"not-in"===t?new Xr(e,n):"array-contains-any"===t?new Zr(e,n):new Kr(e,t,n)}static V(e,t,n){return"in"===t?new Gr(e,n):new zr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(br(t,this.value)):null!==t&&mr(this.value)===mr(t)&&this.v(br(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ai()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qr extends Kr{constructor(e,t,n){super(e,t,n),this.key=gr.fromName(n.referenceValue)}matches(e){const t=gr.comparator(e.key,this.key);return this.v(t)}}class Gr extends Kr{constructor(e,t){super(e,"in",t),this.keys=Wr("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zr extends Kr{constructor(e,t){super(e,"not-in",t),this.keys=Wr("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Wr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>gr.fromName(e.referenceValue)))}class $r extends Kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sr(t)&&yr(t.arrayValue,this.value)}}class Yr extends Kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yr(this.value.arrayValue,t)}}class Xr extends Kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(yr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yr(this.value.arrayValue,t)}}class Zr extends Kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sr(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>yr(this.value.arrayValue,e)))}}class Jr{constructor(e,t){this.position=e,this.inclusive=t}}class Qr{constructor(e,t="asc"){this.field=e,this.dir=t}}function es(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ts(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(i=s.field.isKeyField()?gr.comparator(gr.fromName(a.referenceValue),n.key):br(a,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function ns(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vr(e.position[n],t.position[n]))return!1;return!0}class is{constructor(e,t=null,n=[],i=[],r=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=o,this.D=null,this.C=null,this.startAt,this.endAt}}function rs(e,t,n,i,r,s,a,o){return new is(e,t,n,i,r,s,a,o)}function ss(e){return new is(e)}function as(e){return!dr(e.limit)&&"F"===e.limitType}function os(e){return!dr(e.limit)&&"L"===e.limitType}function us(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cs(e){for(const t of e.filters)if(t.S())return t.field;return null}function ls(e){return null!==e.collectionGroup}function hs(e){const t=Ri(e);if(null===t.D){t.D=[];const e=cs(t),n=us(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new Qr(e)),t.D.push(new Qr(er.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Qr(er.keyField(),e))}}}return t.D}function ds(e){const t=Ri(e);if(!t.C)if("F"===t.limitType)t.C=jr(t.path,t.collectionGroup,hs(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of hs(t)){const t="desc"===r.dir?"asc":"desc";e.push(new Qr(r.field,t))}const n=t.endAt?new Jr(t.endAt.position,!t.endAt.inclusive):null,i=t.startAt?new Jr(t.startAt.position,!t.startAt.inclusive):null;t.C=jr(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t.C}function fs(e,t,n){return new is(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ps(e,t){return Br(ds(e),ds(t))&&e.limitType===t.limitType}function gs(e){return`${Vr(ds(e))}|lt:${e.limitType}`}function ms(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Ir(t.value)}`;var t})).join(", ")}]`),dr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ir(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ir(e))).join(",")),`Target(${t})`}(ds(e))}; limitType=${e.limitType})`}function vs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=ts(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,hs(e),t))&&!(e.endAt&&!function(e,t,n){const i=ts(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,hs(e),t))}(e,t)}function ys(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bs(e){return(t,n)=>{let i=!1;for(const r of hs(e)){const e=ws(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function ws(e,t,n){const i=e.field.isKeyField()?gr.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?br(i,r):Ai()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ai()}}function Is(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fr(t)?"-0":t}}function Es(e){return{integerValue:""+e}}function _s(e,t){return pr(t)?Es(t):Is(e,t)}class Ss{constructor(){this._=void 0}}function Ts(e,t,n){return e instanceof As?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ns?Rs(e,t):e instanceof Ps?Ds(e,t):function(e,t){const n=Cs(e,t),i=Ls(n)+Ls(e.k);return _r(n)&&_r(e.k)?Es(i):Is(e.M,i)}(e,t)}function ks(e,t,n){return e instanceof Ns?Rs(e,t):e instanceof Ps?Ds(e,t):n}function Cs(e,t){return e instanceof Os?_r(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class As extends Ss{}class Ns extends Ss{constructor(e){super(),this.elements=e}}function Rs(e,t){const n=xs(t);for(const i of e.elements)n.some((e=>vr(e,i)))||n.push(i);return{arrayValue:{values:n}}}class Ps extends Ss{constructor(e){super(),this.elements=e}}function Ds(e,t){let n=xs(t);for(const i of e.elements)n=n.filter((e=>!vr(e,i)));return{arrayValue:{values:n}}}class Os extends Ss{constructor(e,t){super(),this.M=e,this.k=t}}function Ls(e){return sr(e.integerValue||e.doubleValue)}function xs(e){return Sr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ms{constructor(e,t){this.version=e,this.transformResults=t}}class Us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Us}static exists(e){return new Us(void 0,e)}static updateTime(e){return new Us(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class js{}function Vs(e,t,n){e instanceof Gs?function(e,t,n){const i=e.value.clone(),r=$s(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof zs?function(e,t,n){if(!Fs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=$s(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Ws(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bs(e,t,n){e instanceof Gs?function(e,t,n){if(!Fs(e.precondition,t))return;const i=e.value.clone(),r=Ys(e.fieldTransforms,n,t);i.setAll(r),t.convertToFoundDocument(qs(t),i).setHasLocalMutations()}(e,t,n):e instanceof zs?function(e,t,n){if(!Fs(e.precondition,t))return;const i=Ys(e.fieldTransforms,n,t),r=t.data;r.setAll(Ws(e)),r.setAll(i),t.convertToFoundDocument(qs(t),r).setHasLocalMutations()}(e,t,n):function(e,t){Fs(e.precondition,t)&&t.convertToNoDocument(Wi.min())}(e,t)}function Hs(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Cs(i.transform,e||null);null!=r&&(null==n&&(n=Rr.empty()),n.set(i.field,r))}return n||null}function Ks(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gi(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ns&&t instanceof Ns||e instanceof Ps&&t instanceof Ps?Gi(e.elements,t.elements,vr):e instanceof Os&&t instanceof Os?vr(e.k,t.k):e instanceof As&&t instanceof As}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function qs(e){return e.isFoundDocument()?e.version:Wi.min()}class Gs extends js{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}}class zs extends js{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}}function Ws(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function $s(e,t,n){const i=new Map;Ni(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,o=t.data.field(s.field);i.set(s.field,ks(a,o,n[r]))}return i}function Ys(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,Ts(e,s,t))}return i}class Xs extends js{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Zs extends js{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Js{constructor(e){this.count=e}}var Qs,ea;function ta(e){switch(e){default:return Ai();case Pi.CANCELLED:case Pi.UNKNOWN:case Pi.DEADLINE_EXCEEDED:case Pi.RESOURCE_EXHAUSTED:case Pi.INTERNAL:case Pi.UNAVAILABLE:case Pi.UNAUTHENTICATED:return!1;case Pi.INVALID_ARGUMENT:case Pi.NOT_FOUND:case Pi.ALREADY_EXISTS:case Pi.PERMISSION_DENIED:case Pi.FAILED_PRECONDITION:case Pi.ABORTED:case Pi.OUT_OF_RANGE:case Pi.UNIMPLEMENTED:case Pi.DATA_LOSS:return!0}}function na(e){if(void 0===e)return Ti("GRPC error has no .code"),Pi.UNKNOWN;switch(e){case Qs.OK:return Pi.OK;case Qs.CANCELLED:return Pi.CANCELLED;case Qs.UNKNOWN:return Pi.UNKNOWN;case Qs.DEADLINE_EXCEEDED:return Pi.DEADLINE_EXCEEDED;case Qs.RESOURCE_EXHAUSTED:return Pi.RESOURCE_EXHAUSTED;case Qs.INTERNAL:return Pi.INTERNAL;case Qs.UNAVAILABLE:return Pi.UNAVAILABLE;case Qs.UNAUTHENTICATED:return Pi.UNAUTHENTICATED;case Qs.INVALID_ARGUMENT:return Pi.INVALID_ARGUMENT;case Qs.NOT_FOUND:return Pi.NOT_FOUND;case Qs.ALREADY_EXISTS:return Pi.ALREADY_EXISTS;case Qs.PERMISSION_DENIED:return Pi.PERMISSION_DENIED;case Qs.FAILED_PRECONDITION:return Pi.FAILED_PRECONDITION;case Qs.ABORTED:return Pi.ABORTED;case Qs.OUT_OF_RANGE:return Pi.OUT_OF_RANGE;case Qs.UNIMPLEMENTED:return Pi.UNIMPLEMENTED;case Qs.DATA_LOSS:return Pi.DATA_LOSS;default:return Ai()}}(ea=Qs||(Qs={}))[ea.OK=0]="OK",ea[ea.CANCELLED=1]="CANCELLED",ea[ea.UNKNOWN=2]="UNKNOWN",ea[ea.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ea[ea.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ea[ea.NOT_FOUND=5]="NOT_FOUND",ea[ea.ALREADY_EXISTS=6]="ALREADY_EXISTS",ea[ea.PERMISSION_DENIED=7]="PERMISSION_DENIED",ea[ea.UNAUTHENTICATED=16]="UNAUTHENTICATED",ea[ea.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ea[ea.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ea[ea.ABORTED=10]="ABORTED",ea[ea.OUT_OF_RANGE=11]="OUT_OF_RANGE",ea[ea.UNIMPLEMENTED=12]="UNIMPLEMENTED",ea[ea.INTERNAL=13]="INTERNAL",ea[ea.UNAVAILABLE=14]="UNAVAILABLE",ea[ea.DATA_LOSS=15]="DATA_LOSS";class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return Xi(this.inner)}size(){return this.innerSize}}class ra{constructor(e,t){this.comparator=e,this.root=t||aa.EMPTY}insert(e,t){return new ra(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,aa.BLACK,null,null))}remove(e){return new ra(this.comparator,this.root.remove(e,this.comparator).copy(null,null,aa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}}class sa{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class aa{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:aa.RED,this.left=null!=i?i:aa.EMPTY,this.right=null!=r?r:aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new aa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return aa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return aa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ai();if(this.right.isRed())throw Ai();const e=this.left.check();if(e!==this.right.check())throw Ai();return e+(this.isRed()?0:1)}}aa.EMPTY=null,aa.RED=!0,aa.BLACK=!1,aa.EMPTY=new class{constructor(){this.size=0}get key(){throw Ai()}get value(){throw Ai()}get color(){throw Ai()}get left(){throw Ai()}get right(){throw Ai()}copy(e,t,n,i,r){return this}insert(e,t,n){return new aa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oa{constructor(e){this.comparator=e,this.data=new ra(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ua(this.data.getIterator())}getIteratorFrom(e){return new ua(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof oa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new oa(this.comparator);return t.data=e,t}}class ua{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ca=new ra(gr.comparator);function la(){return ca}const ha=new ra(gr.comparator);function da(){return ha}function fa(){return new ia((e=>e.toString()),((e,t)=>e.isEqual(t)))}const pa=new ra(gr.comparator),ga=new oa(gr.comparator);function ma(...e){let t=ga;for(const n of e)t=t.add(n);return t}const va=new oa(qi);function ya(){return va}class ba{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,wa.createSynthesizedTargetChangeForCurrentChange(e,t)),new ba(Wi.min(),n,ya(),la(),ma())}}class wa{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wa(nr.EMPTY_BYTE_STRING,t,ma(),ma(),ma())}}class Ia{constructor(e,t,n,i){this.O=e,this.removedTargetIds=t,this.key=n,this.F=i}}class Ea{constructor(e,t){this.targetId=e,this.$=t}}class _a{constructor(e,t,n=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Sa{constructor(){this.B=0,this.L=Ca(),this.U=nr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ma(),t=ma(),n=ma();return this.L.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ai()}})),new wa(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=Ca()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Ta{constructor(e){this.nt=e,this.st=new Map,this.it=la(),this.rt=ka(),this.ot=new oa(qi)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,(t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:Ai()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(((e,n)=>{this.ft(n)&&t(n)}))}_t(e){const t=e.targetId,n=e.$.count,i=this.wt(t);if(i){const e=i.target;if(Hr(e))if(0===n){const n=new gr(e.path);this.ct(t,n,Dr.newNoDocument(n,Wi.min()))}else Ni(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach(((n,i)=>{const r=this.wt(i);if(r){if(n.current&&Hr(r.target)){const t=new gr(r.target.path);null!==this.it.get(t)||this.It(i,t)||this.ct(i,t,Dr.newNoDocument(t,e))}n.j&&(t.set(i,n.H()),n.J())}}));let n=ma();this.rt.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.it.forEach(((t,n)=>n.setReadTime(e)));const i=new ba(e,t,this.ot,this.it,n);return this.it=la(),this.rt=ka(),this.ot=new oa(qi),i}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Sa,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new oa(qi),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Si("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Sa),this.nt.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ka(){return new ra(gr.comparator)}function Ca(){return new ra(gr.comparator)}const Aa={asc:"ASCENDING",desc:"DESCENDING"},Na={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ra{constructor(e,t){this.databaseId=e,this.N=t}}function Pa(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Da(e,t){return e.N?t.toBase64():t.toUint8Array()}function Oa(e,t){return Pa(e,t.toTimestamp())}function La(e){return Ni(!!e),Wi.fromTimestamp(function(e){const t=rr(e);return new zi(t.seconds,t.nanos)}(e))}function xa(e,t){return function(e){return new Ji(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ma(e){const t=Ji.fromString(e);return Ni(no(t)),t}function Ua(e,t){return xa(e.databaseId,t.path)}function Fa(e,t){const n=Ma(t);if(n.get(1)!==e.databaseId.projectId)throw new Di(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Di(Pi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gr(Ha(n))}function ja(e,t){return xa(e.databaseId,t)}function Va(e){const t=Ma(e);return 4===t.length?Ji.emptyPath():Ha(t)}function Ba(e){return new Ji(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ha(e){return Ni(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ka(e,t,n){return{name:Ua(e,t),fields:n.value.mapValue.fields}}function qa(e,t){let n;if(t instanceof Gs)n={update:Ka(e,t.key,t.value)};else if(t instanceof Xs)n={delete:Ua(e,t.key)};else if(t instanceof zs)n={update:Ka(e,t.key,t.data),updateMask:to(t.fieldMask)};else{if(!(t instanceof Zs))return Ai();n={verify:Ua(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof As)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ns)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ps)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Os)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Ai()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Oa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ai()}(e,t.precondition)),n}function Ga(e,t){return{documents:[ja(e,t.path)]}}function za(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=ja(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ja(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(kr(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NAN"}};if(Tr(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kr(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NOT_NAN"}};if(Tr(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(e.field),op:Xa(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Za(e.field),direction:Ya(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.N||dr(t)?t:{value:t}}(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Wa(e){let t=Va(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ni(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=$a(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Qr(Ja(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,dr(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new Jr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Jr(n,t)}(n.endAt)),rs(t,r,a,s,o,"F",u,c)}function $a(e){return e?void 0!==e.unaryFilter?[eo(e)]:void 0!==e.fieldFilter?[Qa(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>$a(e))).reduce(((e,t)=>e.concat(t))):Ai():[]}function Ya(e){return Aa[e]}function Xa(e){return Na[e]}function Za(e){return{fieldPath:e.canonicalString()}}function Ja(e){return er.fromServerFormat(e.fieldPath)}function Qa(e){return Kr.create(Ja(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ai()}}(e.fieldFilter.op),e.fieldFilter.value)}function eo(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ja(e.unaryFilter.field);return Kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ja(e.unaryFilter.field);return Kr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ja(e.unaryFilter.field);return Kr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ja(e.unaryFilter.field);return Kr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ai()}}function to(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function no(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}const io=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ro=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],so="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ao{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class oo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ai(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oo(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oo?t:oo.resolve(t)}catch(e){return oo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oo.reject(t)}static resolve(e){return new oo(((t,n)=>{t(e)}))}static reject(e){return new oo(((t,n)=>{n(e)}))}static waitFor(e){return new oo(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=oo.resolve(!1);for(const n of e)t=t.next((e=>e?oo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}}function uo(e){return"IndexedDbTransactionError"===e.name}class co{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Vs(t,e,n[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Bs(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Bs(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(Wi.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ma())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,((e,t)=>Ks(e,t)))&&Gi(this.baseMutations,e.baseMutations,((e,t)=>Ks(e,t)))}}class lo{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Ni(e.mutations.length===n.length);let i=pa;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new lo(e,t,n,i)}}class ho{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fo{constructor(e,t,n,i,r=Wi.min(),s=Wi.min(),a=nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class po{constructor(e){this.Jt=e}}function go(e){const t=Wa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fs(t,t.limit,"L"):t}class mo{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(sr(e.integerValue));else if("doubleValue"in e){const n=sr(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),fr(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ar(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?Nr(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Ai()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const i of Object.keys(n))this.re(i,t),this.te(n[i],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const i of n)this.te(i,t)}ae(e,t){this.ne(t,37),gr.fromName(e).path.forEach((e=>{this.ne(t,60),this.le(e,t)}))}ne(e,t){e.se(t)}oe(e){e.se(2)}}mo.fe=new mo;class vo{constructor(){this.qe=new yo}addToCollectionParentIndex(e,t){return this.qe.add(t),oo.resolve()}getCollectionParents(e,t){return oo.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return oo.resolve()}deleteFieldIndex(e,t){return oo.resolve()}getDocumentsMatchingTarget(e,t){return oo.resolve(null)}getFieldIndex(e,t){return oo.resolve(null)}getFieldIndexes(e,t){return oo.resolve([])}getNextCollectionGroupToUpdate(e){return oo.resolve(null)}updateCollectionGroup(e,t,n){return oo.resolve()}updateIndexEntries(e,t){return oo.resolve()}}class yo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new oa(Ji.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new oa(Ji.comparator)).toArray()}}new Uint8Array(0);class bo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new bo(e,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class wo{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new wo(0)}static yn(){return new wo(-1)}}async function Io(e){if(e.code!==Pi.FAILED_PRECONDITION||e.message!==so)throw e;Si("LocalStore","Unexpectedly lost primary lease")}class Eo{constructor(){this.changes=new ia((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?oo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _o{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Us(e,t,n)))}Us(e,t,n){return this.ds.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}qs(e,t){e.forEach(((e,n)=>{for(const i of t)i.applyToLocalView(n)}))}Ks(e,t){return this.ds.getEntries(e,t).next((t=>this.Gs(e,t).next((()=>t))))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.qs(t,e)))}Qs(e,t,n){return function(e){return gr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):ls(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new gr(t)).next((e=>{let t=da();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Ws(e,t,n){const i=t.collectionGroup;let r=da();return this.indexManager.getCollectionParents(e,i).next((s=>oo.forEach(s,(s=>{const a=function(e,t){return new is(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.zs(e,a,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}zs(e,t,n){let i;return this.ds.getAllFromCollection(e,t.path,n).next((n=>(i=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t)))).next((e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let r=i.get(n);null==r&&(r=Dr.newInvalidDocument(n),i=i.insert(n,r)),Bs(e,r,t.localWriteTime),r.isFoundDocument()||(i=i.remove(n))}})).next((()=>(i.forEach(((e,n)=>{vs(t,n)||(i=i.remove(e))})),i)))}}class So{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=i}static Ys(e,t){let n=ma(),i=ma();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new So(e,t.fromCache,n,i)}}class To{Xs(e){this.Zs=e}Qs(e,t,n,i){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Wi.min())?this.ti(e,t):this.Zs.Ks(e,i).next((r=>{const s=this.ei(t,r);return(as(t)||os(t))&&this.ni(t.limitType,s,i,n)?this.ti(e,t):(_i()<=a.in.DEBUG&&Si("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ms(t)),this.Zs.Qs(e,t,Lr(n,-1)).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}ei(e,t){let n=new oa(bs(e));return t.forEach(((t,i)=>{vs(e,i)&&(n=n.add(i))})),n}ni(e,t,n,i){if(n.size!==t.size)return!0;const r="F"===e?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ti(e,t){return _i()<=a.in.DEBUG&&Si("QueryEngine","Using full collection scan to execute query:",ms(t)),this.Zs.Qs(e,t,Mr.min())}}class ko{constructor(e,t,n,i){this.persistence=e,this.si=t,this.M=i,this.ii=new ra(qi),this.ri=new ia((e=>Vr(e)),Br),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(n)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new _o(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ii)))}}function Co(e,t,n,i){return new ko(e,t,n,i)}async function Ao(e,t){const n=Ri(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.Bs.getAllMutationBatches(e).next((r=>(i=r,n.ai(t),n.Bs.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let a=ma();for(const e of i){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.ci.Ks(e,a).next((e=>({hi:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function No(e){const t=Ri(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.fs.getLastRemoteSnapshotVersion(e)))}function Ro(e,t,n){let i=ma();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=la();return n.forEach(((n,r)=>{const s=e.get(n);r.isNoDocument()&&r.version.isEqual(Wi.min())?(t.removeEntry(n,r.readTime),i=i.insert(n,r)):!s.isValidDocument()||r.version.compareTo(s.version)>0||0===r.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(r),i=i.insert(n,r)):Si("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",r.version)})),i}))}function Po(e,t){const n=Ri(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t))))}function Do(e,t){const n=Ri(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.fs.getTargetData(e,t).next((r=>r?(i=r,oo.resolve(i)):n.fs.allocateTargetId(e).next((r=>(i=new fo(t,r,0,e.currentSequenceNumber),n.fs.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.ii.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}async function Oo(e,t,n){const i=Ri(e),r=i.ii.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!uo(e))throw e;Si("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.ii=i.ii.remove(t),i.ri.delete(r.target)}function Lo(e,t,n){const i=Ri(e);let r=Wi.min(),s=ma();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=Ri(e),r=i.ri.get(n);return void 0!==r?oo.resolve(i.ii.get(r)):i.fs.getTargetData(t,n)}(i,e,ds(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.si.Qs(e,t,n?r:Wi.min(),n?s:ma()))).next((e=>(xo(i,ys(t),e),{documents:e,li:s})))))}function xo(e,t,n){let i=Wi.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.oi.set(t,i)}class Mo{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return oo.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:La(n.createTime)}),oo.resolve()}getNamedQuery(e,t){return oo.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:go(e.bundledQuery),readTime:La(e.readTime)}}(t)),oo.resolve()}}class Uo{constructor(){this.overlays=new ra(gr.comparator),this.gi=new Map}getOverlay(e,t){return oo.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.Xt(e,t,i)})),oo.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.gi.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.gi.delete(n)),oo.resolve()}getOverlaysForCollection(e,t,n){const i=fa(),r=t.length+1,s=new gr(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return oo.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new ra(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=fa(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=fa(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=i)););return oo.resolve(a)}Xt(e,t,n){if(null===n)return;const i=this.overlays.get(n.key);if(null!==i){const e=this.gi.get(i.largestBatchId).delete(n.key);this.gi.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ho(t,n));let r=this.gi.get(t);void 0===r&&(r=ma(),this.gi.set(t,r)),this.gi.set(t,r.add(n.key))}}class Fo{constructor(){this.yi=new oa(jo.pi),this.Ii=new oa(jo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const n=new jo(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}Ei(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ai(new jo(e,t))}Ri(e,t){e.forEach((e=>this.removeReference(e,t)))}Pi(e){const t=new gr(new Ji([])),n=new jo(t,e),i=new jo(t,e+1),r=[];return this.Ii.forEachInRange([n,i],(e=>{this.Ai(e),r.push(e.key)})),r}bi(){this.yi.forEach((e=>this.Ai(e)))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new gr(new Ji([])),n=new jo(t,e),i=new jo(t,e+1);let r=ma();return this.Ii.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new jo(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jo{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return gr.comparator(e.key,t.key)||qi(e.vi,t.vi)}static Ti(e,t){return qi(e.vi,t.vi)||gr.comparator(e.key,t.key)}}class Vo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new oa(jo.pi)}checkEmpty(e){return oo.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,i){const r=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const s=new co(r,t,n,i);this.Bs.push(s);for(const a of i)this.Di=this.Di.add(new jo(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oo.resolve(s)}lookupMutationBatch(e,t){return oo.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.xi(n),r=i<0?0:i;return oo.resolve(this.Bs.length>r?this.Bs[r]:null)}getHighestUnacknowledgedBatchId(){return oo.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return oo.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jo(t,0),i=new jo(t,Number.POSITIVE_INFINITY),r=[];return this.Di.forEachInRange([n,i],(e=>{const t=this.Ci(e.vi);r.push(t)})),oo.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new oa(qi);return t.forEach((e=>{const t=new jo(e,0),i=new jo(e,Number.POSITIVE_INFINITY);this.Di.forEachInRange([t,i],(e=>{n=n.add(e.vi)}))})),oo.resolve(this.Ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;gr.isDocumentKey(r)||(r=r.child(""));const s=new jo(new gr(r),0);let a=new oa(qi);return this.Di.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.vi)),!0)}),s),oo.resolve(this.Ni(a))}Ni(e){const t=[];return e.forEach((e=>{const n=this.Ci(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ni(0===this.ki(t.batchId,"removed")),this.Bs.shift();let n=this.Di;return oo.forEach(t.mutations,(i=>{const r=new jo(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Di=n}))}_n(e){}containsKey(e,t){const n=new jo(t,0),i=this.Di.firstAfterOrEqual(n);return oo.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.Bs.length,oo.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Bo{constructor(e){this.Mi=e,this.docs=new ra(gr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oo.resolve(n?n.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let n=la();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Dr.newInvalidDocument(e))})),oo.resolve(n)}getAllFromCollection(e,t,n){let i=la();const r=new gr(t.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:e,value:{document:r}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||Ur(xr(r),n)<=0||(i=i.insert(r.key,r.mutableCopy()))}return oo.resolve(i)}getAllFromCollectionGroup(e,t,n,i){Ai()}Oi(e,t){return oo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ho(this)}getSize(e){return oo.resolve(this.size)}}class Ho extends Eo{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(n)})),oo.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Ko{constructor(e){this.persistence=e,this.Fi=new ia((e=>Vr(e)),Br),this.lastRemoteSnapshotVersion=Wi.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Fo,this.targetCount=0,this.Li=wo.gn()}forEachTarget(e,t){return this.Fi.forEach(((e,n)=>t(n))),oo.resolve()}getLastRemoteSnapshotVersion(e){return oo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oo.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),oo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),oo.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,oo.resolve()}updateTargetData(e,t){return this.Tn(t),oo.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,oo.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Fi.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fi.delete(s),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),oo.waitFor(r).next((()=>i))}getTargetCount(e){return oo.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fi.get(t)||null;return oo.resolve(n)}addMatchingKeys(e,t,n){return this.Bi.Ei(t,n),oo.resolve()}removeMatchingKeys(e,t,n){this.Bi.Ri(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),oo.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),oo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Bi.Vi(t);return oo.resolve(n)}containsKey(e,t){return oo.resolve(this.Bi.containsKey(t))}}class qo{constructor(e,t){this.Ui={},this.overlays={},this.es=new Bi(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Ko(this),this.indexManager=new vo,this.ds=function(e){return new Bo(e)}((e=>this.referenceDelegate.qi(e))),this.M=new po(t),this._s=new Mo(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Ui[e.toKey()];return n||(n=new Vo(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){Si("MemoryPersistence","Starting transaction:",e);const i=new Go(this.es.next());return this.referenceDelegate.Ki(),n(i).next((e=>this.referenceDelegate.Gi(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Qi(e,t){return oo.or(Object.values(this.Ui).map((n=>()=>n.containsKey(e,t))))}}class Go extends ao{constructor(e){super(),this.currentSequenceNumber=e}}class zo{constructor(e){this.persistence=e,this.ji=new Fo,this.Wi=null}static zi(e){return new zo(e)}get Hi(){if(this.Wi)return this.Wi;throw Ai()}addReference(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),oo.resolve()}removeReference(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),oo.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),oo.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach((e=>this.Hi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oo.forEach(this.Hi,(n=>{const i=gr.fromPath(n);return this.Ji(e,i).next((e=>{e||t.removeEntry(i,Wi.min())}))})).next((()=>(this.Wi=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ji(e,t).next((e=>{e?this.Hi.delete(t.toString()):this.Hi.add(t.toString())}))}qi(e){return 0}Ji(e,t){return oo.or([()=>oo.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}class Wo{constructor(){this.activeTargetIds=ya()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $o{constructor(){this.$r=new Wo,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,n){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Wo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yo{Lr(e){}shutdown(){}}class Xo{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Si("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Si("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Zo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Jo{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Qo extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.io=t+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,n,i,r){const s=this.uo(e,t);Si("RestConnection","Sending: ",s,n);const a={};return this.ao(a,i,r),this.co(e,s,a,n).then((e=>(Si("RestConnection","Received: ",e),e)),(t=>{throw ki("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ho(e,t,n,i,r){return this.oo(e,t,n,i,r)}ao(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ii,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}uo(e,t){const n=Zo[e];return`${this.io}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,i){return new Promise(((r,s)=>{const a=new yi;a.listenOnce(fi.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case di.NO_ERROR:const t=a.getResponseJson();Si("Connection","XHR received:",JSON.stringify(t)),r(t);break;case di.TIMEOUT:Si("Connection",'RPC "'+e+'" timed out'),s(new Di(Pi.DEADLINE_EXCEEDED,"Request time out"));break;case di.HTTP_ERROR:const n=a.getStatus();if(Si("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){const e=a.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pi).indexOf(t)>=0?t:Pi.UNKNOWN}(e.status);s(new Di(t,e.message))}else s(new Di(Pi.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Di(Pi.UNAVAILABLE,"Connection failed."));break;default:Ai()}}finally{Si("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(i);a.send(t,"POST",o,n,15)}))}lo(e,t,n){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=li(),s=hi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new mi({})),this.ao(a.initMessageHeaders,t,n),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");Si("Connection","Creating WebChannel: "+u,a);const c=r.createWebChannel(u,a);let l=!1,h=!1;const d=new Jo({Wr:e=>{h?Si("Connection","Not sending because WebChannel is closed:",e):(l||(Si("Connection","Opening WebChannel transport."),c.open(),l=!0),Si("Connection","WebChannel sending:",e),c.send(e))},zr:()=>c.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(c,vi.EventType.OPEN,(()=>{h||Si("Connection","WebChannel transport opened.")})),f(c,vi.EventType.CLOSE,(()=>{h||(h=!0,Si("Connection","WebChannel transport closed"),d.no())})),f(c,vi.EventType.ERROR,(e=>{h||(h=!0,ki("Connection","WebChannel transport errored:",e),d.no(new Di(Pi.UNAVAILABLE,"The operation could not be completed")))})),f(c,vi.EventType.MESSAGE,(e=>{var t;if(!h){const n=e.data[0];Ni(!!n);const i=n,r=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(r){Si("Connection","WebChannel received error:",r);const e=r.status;let t=function(e){const t=Qs[e];if(void 0!==t)return na(t)}(e),n=r.message;void 0===t&&(t=Pi.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),h=!0,d.no(new Di(t,n)),c.close()}else Si("Connection","WebChannel received:",n),d.so(n)}})),f(s,pi.STAT_EVENT,(e=>{e.stat===gi.PROXY?Si("Connection","Detected buffering proxy"):e.stat===gi.NOPROXY&&Si("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.eo()}),0),d}}function eu(){return"undefined"!=typeof document?document:null}function tu(e){return new Ra(e,!0)}class nu{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Yn=e,this.timerId=t,this.fo=n,this._o=i,this.wo=r,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),n=Math.max(0,Date.now()-this.po),i=Math.max(0,t-n);i>0&&Si("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(()=>(this.po=Date.now(),e()))),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class iu{constructor(e,t,n,i,r,s,a,o){this.Yn=e,this.Ro=n,this.Po=i,this.bo=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new nu(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(()=>this.Oo())))}Fo(e){this.$o(),this.stream.send(e)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(e,t){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==e?this.Do.reset():t&&t.code===Pi.RESOURCE_EXHAUSTED?(Ti(t.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):t&&t.code===Pi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Yr(t)}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Vo===t&&this.qo(e,n)}),(t=>{e((()=>{const e=new Di(Pi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ko(e)}))}))}qo(e,t){const n=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((()=>{n((()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,(()=>(this.xo()&&(this.state=3),Promise.resolve()))),this.listener.Hr())))})),this.stream.Yr((e=>{n((()=>this.Ko(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}No(){this.state=5,this.Do.To((async()=>{this.state=0,this.start()}))}Ko(e){return Si("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget((()=>this.Vo===e?t():(Si("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ru extends iu{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.M=r}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ai()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.N?(Ni(void 0===t||"string"==typeof t),nr.fromBase64String(t||"")):(Ni(void 0===t||t instanceof Uint8Array),nr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Pi.UNKNOWN:na(e.code);return new Di(t,e.message||"")}(a);n=new _a(i,r,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Fa(e,i.document.name),s=La(i.document.updateTime),a=new Rr({mapValue:{fields:i.document.fields}}),o=Dr.newFoundDocument(r,s,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Ia(u,c,o.key,o)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Fa(e,i.document),s=i.readTime?La(i.readTime):Wi.min(),a=Dr.newNoDocument(r,s),o=i.removedTargetIds||[];n=new Ia([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Fa(e,i.document),s=i.removedTargetIds||[];n=new Ia([],s,r,null)}else{if(!("filter"in t))return Ai();{t.filter;const e=t.filter;e.targetId;const i=e.count||0,r=new Js(i),s=e.targetId;n=new Ea(s,r)}}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Wi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Wi.min():t.readTime?La(t.readTime):Wi.min()}(e);return this.listener.Qo(t,n)}jo(e){const t={};t.database=Ba(this.M),t.addTarget=function(e,t){let n;const i=t.target;return n=Hr(i)?{documents:Ga(e,i)}:{query:za(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Da(e,t.resumeToken):t.snapshotVersion.compareTo(Wi.min())>0&&(n.readTime=Pa(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ai()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}Wo(e){const t={};t.database=Ba(this.M),t.removeTarget=e,this.Fo(t)}}class su extends iu{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.M=r,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Ni(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function(e,t){return e&&e.length>0?(Ni(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?La(e.updateTime):La(t);return n.isEqual(Wi.min())&&(n=La(t)),new Ms(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=La(e.commitTime);return this.listener.Yo(n,t)}return Ni(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Ba(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>qa(this.M,e)))};this.Fo(t)}}class au extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Di(Pi.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.bo.oo(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Di(Pi.UNKNOWN,e.toString())}))}ho(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.bo.ho(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Di(Pi.UNKNOWN,e.toString())}))}terminate(){this.tu=!0}}class ou{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve()))))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Ti(t),this.iu=!1):Si("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class uu{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=r,this._u.Lr((e=>{n.enqueueAndForget((async()=>{vu(this)&&(Si("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ri(e);t.fu.add(4),await lu(t),t.wu.set("Unknown"),t.fu.delete(4),await cu(t)}(this))}))})),this.wu=new ou(n,i)}}async function cu(e){if(vu(e))for(const t of e.du)await t(!0)}async function lu(e){for(const t of e.du)await t(!1)}function hu(e,t){const n=Ri(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),mu(n)?gu(n):xu(n).xo()&&fu(n,t))}function du(e,t){const n=Ri(e),i=xu(n);n.lu.delete(t),i.xo()&&pu(n,t),0===n.lu.size&&(i.xo()?i.Mo():vu(n)&&n.wu.set("Unknown"))}function fu(e,t){e.mu.Z(t.targetId),xu(e).jo(t)}function pu(e,t){e.mu.Z(t),xu(e).Wo(t)}function gu(e){e.mu=new Ta({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.lu.get(t)||null}),xu(e).start(),e.wu.ru()}function mu(e){return vu(e)&&!xu(e).Co()&&e.lu.size>0}function vu(e){return 0===Ri(e).fu.size}function yu(e){e.mu=void 0}async function bu(e){e.lu.forEach(((t,n)=>{fu(e,t)}))}async function wu(e,t){yu(e),mu(e)?(e.wu.au(t),gu(e)):e.wu.set("Unknown")}async function Iu(e,t,n){if(e.wu.set("Online"),t instanceof _a&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.lu.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.lu.delete(i),e.mu.removeTarget(i))}(e,t)}catch(n){Si("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Eu(e,n)}else if(t instanceof Ia?e.mu.ut(t):t instanceof Ea?e.mu._t(t):e.mu.ht(t),!n.isEqual(Wi.min()))try{const t=await No(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.mu.yt(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.lu.get(i);r&&e.lu.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.lu.get(t);if(!n)return;e.lu.set(t,n.withResumeToken(nr.EMPTY_BYTE_STRING,n.snapshotVersion)),pu(e,t);const i=new fo(n.target,t,1,n.sequenceNumber);fu(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Si("RemoteStore","Failed to raise snapshot:",t),await Eu(e,t)}}async function Eu(e,t,n){if(!uo(t))throw t;e.fu.add(1),await lu(e),e.wu.set("Offline"),n||(n=()=>No(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Si("RemoteStore","Retrying IndexedDB access"),await n(),e.fu.delete(1),await cu(e)}))}function _u(e,t){return t().catch((n=>Eu(e,n,t)))}async function Su(e){const t=Ri(e),n=Mu(t);let i=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;Tu(t);)try{const e=await Po(t.localStore,i);if(null===e){0===t.hu.length&&n.Mo();break}i=e.batchId,ku(t,e)}catch(e){await Eu(t,e)}Cu(t)&&Au(t)}function Tu(e){return vu(e)&&e.hu.length<10}function ku(e,t){e.hu.push(t);const n=Mu(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function Cu(e){return vu(e)&&!Mu(e).Co()&&e.hu.length>0}function Au(e){Mu(e).start()}async function Nu(e){Mu(e).Zo()}async function Ru(e){const t=Mu(e);for(const n of e.hu)t.Jo(n.mutations)}async function Pu(e,t,n){const i=e.hu.shift(),r=lo.from(i,t,n);await _u(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await Su(e)}async function Du(e,t){t&&Mu(e).Ho&&await async function(e,t){if(ta(n=t.code)&&n!==Pi.ABORTED){const n=e.hu.shift();Mu(e).ko(),await _u(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Su(e)}var n}(e,t),Cu(e)&&Au(e)}async function Ou(e,t){const n=Ri(e);n.asyncQueue.verifyOperationInProgress(),Si("RemoteStore","RemoteStore received new credentials");const i=vu(n);n.fu.add(3),await lu(n),i&&n.wu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.fu.delete(3),await cu(n)}async function Lu(e,t){const n=Ri(e);t?(n.fu.delete(2),await cu(n)):t||(n.fu.add(2),await lu(n),n.wu.set("Unknown"))}function xu(e){return e.gu||(e.gu=function(e,t,n){const i=Ri(e);return i.eu(),new ru(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,n)}(e.datastore,e.asyncQueue,{Hr:bu.bind(null,e),Yr:wu.bind(null,e),Qo:Iu.bind(null,e)}),e.du.push((async t=>{t?(e.gu.ko(),mu(e)?gu(e):e.wu.set("Unknown")):(await e.gu.stop(),yu(e))}))),e.gu}function Mu(e){return e.yu||(e.yu=function(e,t,n){const i=Ri(e);return i.eu(),new su(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,n)}(e.datastore,e.asyncQueue,{Hr:Nu.bind(null,e),Yr:Du.bind(null,e),Xo:Ru.bind(null,e),Yo:Pu.bind(null,e)}),e.du.push((async t=>{t?(e.yu.ko(),await Su(e)):(await e.yu.stop(),e.hu.length>0&&(Si("RemoteStore",`Stopping write stream with ${e.hu.length} pending writes`),e.hu=[]))}))),e.yu}class Uu{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,a=new Uu(e,t,s,i,r);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Di(Pi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fu(e,t){if(Ti("AsyncQueue",`${t}: ${e}`),uo(e))return new Di(Pi.UNAVAILABLE,`${t}: ${e}`);throw e}class ju{constructor(e){this.comparator=e?(t,n)=>e(t,n)||gr.comparator(t.key,n.key):(e,t)=>gr.comparator(e.key,t.key),this.keyedMap=da(),this.sortedSet=new ra(this.comparator)}static emptySet(e){return new ju(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ju))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ju;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Vu{constructor(){this.pu=new ra(gr.comparator)}track(e){const t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Ai():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Bu{constructor(e,t,n,i,r,s,a,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,i){const r=[];return t.forEach((e=>{r.push({type:0,doc:e})})),new Bu(e,t,ju.emptySet(t),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ps(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class Hu{constructor(){this.Tu=void 0,this.listeners=[]}}class Ku{constructor(){this.queries=new ia((e=>gs(e)),ps),this.onlineState="Unknown",this.Eu=new Set}}async function qu(e,t){const n=Ri(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new Hu),r)try{s.Tu=await n.onListen(i)}catch(e){const n=Fu(e,`Initialization of query '${ms(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.Au(n.onlineState),s.Tu&&t.Ru(s.Tu)&&$u(n)}async function Gu(e,t){const n=Ri(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function zu(e,t){const n=Ri(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Ru(r)&&(i=!0);t.Tu=r}}i&&$u(n)}function Wu(e,t,n){const i=Ri(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function $u(e){e.Eu.forEach((e=>{e.next()}))}class Yu{constructor(e,t,n){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=n||{}}Ru(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Bu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}vu(e){if(e.docChanges.length>0)return!0;const t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Du(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Xu{constructor(e){this.key=e}}class Zu{constructor(e){this.key=e}}class Ju{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=ma(),this.mutatedKeys=ma(),this.Uu=bs(e),this.qu=new ju(this.Uu)}get Ku(){return this.$u}Gu(e,t){const n=t?t.Qu:new Vu,i=t?t.qu:this.qu;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const o=as(this.query)&&i.size===this.query.limit?i.last():null,u=os(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),l=vs(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.ju(c,l)||(n.track({type:2,doc:l}),f=!0,(o&&this.Uu(l,o)>0||u&&this.Uu(l,u)<0)&&(a=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(o||u)&&(a=!0)),f&&(l?(s=s.add(l),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),as(this.query)||os(this.query))for(;s.size>this.query.limit;){const e=as(this.query)?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{qu:s,Qu:n,ni:a,mutatedKeys:r}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const r=e.Qu.Iu();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ai()}};return n(e)-n(t)}(e.type,t.type)||this.Uu(e.doc,t.doc))),this.Wu(n);const s=t?this.zu():[],a=0===this.Lu.size&&this.current?1:0,o=a!==this.Bu;return this.Bu=a,0!==r.length||o?{snapshot:new Bu(this.query,e.qu,i,r,e.mutatedKeys,0===a,o,!1),Hu:s}:{Hu:s}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Vu,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach((e=>this.$u=this.$u.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.$u=this.$u.delete(e))),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=ma(),this.qu.forEach((e=>{this.Ju(e.key)&&(this.Lu=this.Lu.add(e.key))}));const t=[];return e.forEach((e=>{this.Lu.has(e)||t.push(new Zu(e))})),this.Lu.forEach((n=>{e.has(n)||t.push(new Xu(n))})),t}Yu(e){this.$u=e.li,this.Lu=ma();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Bu.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Qu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ec{constructor(e){this.key=e,this.Zu=!1}}class tc{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.ta={},this.ea=new ia((e=>gs(e)),ps),this.na=new Map,this.sa=new Set,this.ia=new ra(gr.comparator),this.ra=new Map,this.oa=new Fo,this.ua={},this.aa=new Map,this.ca=wo.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}async function nc(e,t){const n=wc(e);let i,r;const s=n.ea.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Xu();else{const e=await Do(n.localStore,ds(t));n.isPrimaryClient&&hu(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await ic(n,t,i,"current"===s)}return r}async function ic(e,t,n,i){e.la=(t,n,i)=>async function(e,t,n,i){let r=t.view.Gu(n);r.ni&&(r=await Lo(e.localStore,t.query,!1).then((({documents:e})=>t.view.Gu(e,r))));const s=i&&i.targetChanges.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,s);return pc(e,t.targetId,a.Hu),a.snapshot}(e,t,n,i);const r=await Lo(e.localStore,t,!0),s=new Ju(t,r.li),a=s.Gu(r.documents),o=wa.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),u=s.applyChanges(a,e.isPrimaryClient,o);pc(e,n,u.Hu);const c=new Qu(t,n,s);return e.ea.set(t,c),e.na.has(n)?e.na.get(n).push(t):e.na.set(n,[t]),u.snapshot}async function rc(e,t){const n=Ri(e),i=n.ea.get(t),r=n.na.get(i.targetId);if(r.length>1)return n.na.set(i.targetId,r.filter((e=>!ps(e,t)))),void n.ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Oo(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),du(n.remoteStore,i.targetId),dc(n,i.targetId)})).catch(Io)):(dc(n,i.targetId),await Oo(n.localStore,i.targetId,!0))}async function sc(e,t){const n=Ri(e);try{const e=await function(e,t){const n=Ri(e),i=t.snapshotVersion;let r=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ui.newChangeBuffer({trackRemovals:!0});r=n.ii;const a=[];t.targetChanges.forEach(((s,o)=>{const u=r.get(o);if(!u)return;a.push(n.fs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.fs.addMatchingKeys(e,s.addedDocuments,o))));let c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?c=c.withResumeToken(nr.EMPTY_BYTE_STRING,Wi.min()).withLastLimboFreeSnapshotVersion(Wi.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,s)&&a.push(n.fs.updateTargetData(e,c))}));let o=la();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),a.push(Ro(e,s,t.documentUpdates).next((e=>{o=e}))),!i.isEqual(Wi.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next((t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,i)));a.push(t)}return oo.waitFor(a).next((()=>s.apply(e))).next((()=>n.ci.Gs(e,o))).next((()=>o))})).then((e=>(n.ii=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.ra.get(t);i&&(Ni(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.Zu=!0:e.modifiedDocuments.size>0?Ni(i.Zu):e.removedDocuments.size>0&&(Ni(i.Zu),i.Zu=!1))})),await vc(n,e,t)}catch(e){await Io(e)}}function ac(e,t,n){const i=Ri(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ea.forEach(((n,i)=>{const r=i.view.Au(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Ri(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.Au(t)&&(i=!0)})),i&&$u(n)}(i.eventManager,t),e.length&&i.ta.Qo(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function oc(e,t,n){const i=Ri(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.ra.get(t),s=r&&r.key;if(s){let e=new ra(gr.comparator);e=e.insert(s,Dr.newNoDocument(s,Wi.min()));const n=ma().add(s),r=new ba(Wi.min(),new Map,new oa(qi),e,n);await sc(i,r),i.ia=i.ia.remove(s),i.ra.delete(t),mc(i)}else await Oo(i.localStore,t,!1).then((()=>dc(i,t,n))).catch(Io)}async function uc(e,t){const n=Ri(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Ri(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let a=oo.resolve();return s.forEach((e=>{a=a.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ni(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),a.next((()=>e.Bs.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.ci.Ks(e,i)))}))}(n.localStore,t);hc(n,i,null),lc(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await vc(n,e)}catch(e){await Io(e)}}async function cc(e,t,n){const i=Ri(e);try{const e=await function(e,t){const n=Ri(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.Bs.lookupMutationBatch(e,t).next((t=>(Ni(null!==t),i=t.keys(),n.Bs.removeMutationBatch(e,t)))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.ci.Ks(e,i)))}))}(i.localStore,t);hc(i,t,n),lc(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await vc(i,e)}catch(n){await Io(n)}}function lc(e,t){(e.aa.get(t)||[]).forEach((e=>{e.resolve()})),e.aa.delete(t)}function hc(e,t,n){const i=Ri(e);let r=i.ua[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.ua[i.currentUser.toKey()]=r}}function dc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.na.get(t))e.ea.delete(i),n&&e.ta.fa(i,n);e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((t=>{e.oa.containsKey(t)||fc(e,t)}))}function fc(e,t){e.sa.delete(t.path.canonicalString());const n=e.ia.get(t);null!==n&&(du(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),mc(e))}function pc(e,t,n){for(const i of n)i instanceof Xu?(e.oa.addReference(i.key,t),gc(e,i)):i instanceof Zu?(Si("SyncEngine","Document no longer in limbo: "+i.key),e.oa.removeReference(i.key,t),e.oa.containsKey(i.key)||fc(e,i.key)):Ai()}function gc(e,t){const n=t.key,i=n.path.canonicalString();e.ia.get(n)||e.sa.has(i)||(Si("SyncEngine","New document in limbo: "+n),e.sa.add(i),mc(e))}function mc(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){const t=e.sa.values().next().value;e.sa.delete(t);const n=new gr(Ji.fromString(t)),i=e.ca.next();e.ra.set(i,new ec(n)),e.ia=e.ia.insert(n,i),hu(e.remoteStore,new fo(ds(ss(n.path)),i,2,Bi.A))}}async function vc(e,t,n){const i=Ri(e),r=[],s=[],a=[];i.ea.isEmpty()||(i.ea.forEach(((e,o)=>{a.push(i.la(o,t,n).then((e=>{if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(o.targetId,e.fromCache?"not-current":"current"),r.push(e);const t=So.Ys(o.targetId,e);s.push(t)}})))})),await Promise.all(a),i.ta.Qo(r),await async function(e,t){const n=Ri(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>oo.forEach(t,(t=>oo.forEach(t.Hs,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>oo.forEach(t.Js,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!uo(e))throw e;Si("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.ii.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.ii=n.ii.insert(e,r)}}}(i.localStore,s))}async function yc(e,t){const n=Ri(e);if(!n.currentUser.isEqual(t)){Si("SyncEngine","User change. New user:",t.toKey());const e=await Ao(n.localStore,t);n.currentUser=t,function(e,t){e.aa.forEach((e=>{e.forEach((e=>{e.reject(new Di(Pi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vc(n,e.hi)}}function bc(e,t){const n=Ri(e),i=n.ra.get(t);if(i&&i.Zu)return ma().add(i.key);{let e=ma();const i=n.na.get(t);if(!i)return e;for(const t of i){const i=n.ea.get(t);e=e.unionWith(i.view.Ku)}return e}}function wc(e){const t=Ri(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oc.bind(null,t),t.ta.Qo=zu.bind(null,t.eventManager),t.ta.fa=Wu.bind(null,t.eventManager),t}function Ic(e){const t=Ri(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cc.bind(null,t),t}class Ec{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=tu(e.databaseInfo.databaseId),this.sharedClientState=this._a(e),this.persistence=this.wa(e),await this.persistence.start(),this.gcScheduler=this.ma(e),this.localStore=this.ga(e)}ma(e){return null}ga(e){return Co(this.persistence,new To,e.initialUser,this.M)}wa(e){return new qo(zo.zi,this.M)}_a(e){return new $o}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _c{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ac(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=yc.bind(null,this.syncEngine),await Lu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ku}createDatastore(e){const t=tu(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new Qo(i));var i;return function(e,t,n,i){return new au(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>ac(this.syncEngine,e,0),s=Xo.vt()?new Xo:new Yo,new uu(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,a){const o=new tc(e,t,n,i,r,s);return a&&(o.ha=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ri(e);Si("RemoteStore","RemoteStore shutting down."),t.fu.add(5),await lu(t),t._u.shutdown(),t.wu.set("Unknown")}(this.remoteStore)}}class Sc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Tc{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=wi.UNAUTHENTICATED,this.clientId=Ki.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Si("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Si("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Di(Pi.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Fu(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kc(e,t){e.asyncQueue.verifyOperationInProgress(),Si("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Ao(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Cc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ac(e);Si("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>Ou(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ou(t.remoteStore,n))),e.onlineComponents=t}async function Ac(e){return e.offlineComponents||(Si("FirestoreClient","Using default OfflineComponentProvider"),await kc(e,new Ec)),e.offlineComponents}async function Nc(e){return e.onlineComponents||(Si("FirestoreClient","Using default OnlineComponentProvider"),await Cc(e,new _c)),e.onlineComponents}function Rc(e){return Nc(e).then((e=>e.syncEngine))}async function Pc(e){const t=await Nc(e),n=t.eventManager;return n.onListen=nc.bind(null,t.syncEngine),n.onUnlisten=rc.bind(null,t.syncEngine),n}function Dc(e,t,n={}){const i=new Oi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new Sc({next:s=>{t.enqueueAndForget((()=>Gu(e,a)));const o=s.docs.has(n);!o&&s.fromCache?r.reject(new Di(Pi.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&i&&"server"===i.source?r.reject(new Di(Pi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),a=new Yu(ss(n.path),s,{includeMetadataChanges:!0,Cu:!0});return qu(e,a)}(await Pc(e),e.asyncQueue,t,n,i))),i.promise}function Oc(e,t,n={}){const i=new Oi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new Sc({next:n=>{t.enqueueAndForget((()=>Gu(e,a))),n.fromCache&&"server"===i.source?r.reject(new Di(Pi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),a=new Yu(n,s,{includeMetadataChanges:!0,Cu:!0});return qu(e,a)}(await Pc(e),e.asyncQueue,t,n,i))),i.promise}const Lc=new Map;function xc(e,t,n){if(!n)throw new Di(Pi.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Mc(e){if(!gr.isDocumentKey(e))throw new Di(Pi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Uc(e){if(gr.isDocumentKey(e))throw new Di(Pi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Fc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ai()}function jc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Di(Pi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fc(e);throw new Di(Pi.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Vc{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Di(Pi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Di(Pi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,i){if(!0===t&&!0===i)throw new Di(Pi.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vc({}),this._settingsFrozen=!1,e instanceof hr?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Di(Pi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hr(e.options.projectId)}(e))}get app(){if(!this._app)throw new Di(Pi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Di(Pi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xi;switch(e.type){case"gapi":const t=e.client;return Ni(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Fi(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Di(Pi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Lc.get(e);t&&(Si("ComponentProvider","Removing Datastore"),Lc.delete(e),t.terminate())}(this),Promise.resolve()}}class Hc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hc(this.firestore,e,this._key)}}class Kc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Kc(this.firestore,e,this._query)}}class qc extends Kc{constructor(e,t,n){super(e,t,ss(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hc(this.firestore,null,new gr(e))}withConverter(e){return new qc(this.firestore,e,this._path)}}function Gc(e,t,...n){if(e=(0,o.m9)(e),xc("collection","path",t),e instanceof Bc){const i=Ji.fromString(t,...n);return Uc(i),new qc(e,null,i)}{if(!(e instanceof Hc||e instanceof qc))throw new Di(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ji.fromString(t,...n));return Uc(i),new qc(e.firestore,null,i)}}function zc(e,t,...n){if(e=(0,o.m9)(e),1===arguments.length&&(t=Ki.R()),xc("doc","path",t),e instanceof Bc){const i=Ji.fromString(t,...n);return Mc(i),new Hc(e,null,new gr(i))}{if(!(e instanceof Hc||e instanceof qc))throw new Di(Pi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ji.fromString(t,...n));return Mc(i),new Hc(e.firestore,e instanceof qc?e.converter:null,new gr(i))}}class Wc{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new nu(this,"async_queue_retry"),this.qa=()=>{const e=eu();e&&Si("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const e=eu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=eu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise((()=>{}));const t=new Oi;return this.Ga((()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ma.push(e),this.Qa())))}async Qa(){if(0!==this.Ma.length){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(I){if(!uo(I))throw I;Si("AsyncQueue","Operation failed with retryable error: "+I)}this.Ma.length>0&&this.Do.To((()=>this.Qa()))}}Ga(e){const t=this.ka.then((()=>(this.Ba=!0,e().catch((e=>{this.$a=e,this.Ba=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ti("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ba=!1,e))))));return this.ka=t,t}enqueueAfterDelay(e,t,n){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=Uu.createAndSchedule(this,e,t,n,(e=>this.ja(e)));return this.Fa.push(i),i}Ka(){this.$a&&Ai()}verifyOperationInProgress(){}async Wa(){let e;do{e=this.ka,await e}while(e!==this.ka)}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then((()=>{this.Fa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()}))}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}class $c extends Bc{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Wc,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Zc(this),this._firestoreClient.terminate()}}function Yc(e=(0,r.getApp)()){return(0,r._getProvider)(e,"firestore").getImmediate()}function Xc(e){return e._firestoreClient||Zc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zc(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new lr(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Tc(e._authCredentials,e._appCheckCredentials,e._queue,i)}class Jc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Di(Pi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(nr.fromBase64String(e))}catch(e){throw new Di(Pi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Qc(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class el{constructor(e){this._methodName=e}}class tl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Di(Pi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Di(Pi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qi(this._lat,e._lat)||qi(this._long,e._long)}}const nl=/^__.*__$/;class il{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gs(e,this.data,t,this.fieldTransforms)}}function rl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ai()}}class sl{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Ya(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new sl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:n,ec:!1});return i.nc(e),i}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:n,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return ml(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(rl(this.Xa)&&nl.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class al{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||tu(e)}ac(e,t,n,i=!1){return new sl({Xa:e,methodName:t,uc:n,path:er.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ol(e){const t=e._freezeSettings(),n=tu(e._databaseId);return new al(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ul(e,t,n,i,r,s={}){const a=e.ac(s.merge||s.mergeFields?2:0,t,n,r);dl("Data must be an object, but it was:",a,i);const o=ll(i,a);let u,c;if(s.merge)u=new tr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=fl(t,i,n);if(!a.contains(r))throw new Di(Pi.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);vl(e,r)||e.push(r)}u=new tr(e),c=a.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,c=a.fieldTransforms;return new il(new Rr(o),u,c)}function cl(e,t){if(hl(e=(0,o.m9)(e)))return dl("Unsupported field value:",t,e),ll(e,t);if(e instanceof el)return function(e,t){if(!rl(t.Xa))throw t.rc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.rc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=cl(r,t.ic(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,o.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _s(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=zi.fromDate(e);return{timestampValue:Pa(t.M,n)}}if(e instanceof zi){const n=new zi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pa(t.M,n)}}if(e instanceof tl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Qc)return{bytesValue:Da(t.M,e._byteString)};if(e instanceof Hc){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.rc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:xa(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc(`Unsupported field value: ${Fc(e)}`)}(e,t)}function ll(e,t){const n={};return Xi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yi(e,((e,i)=>{const r=cl(i,t.tc(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function hl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zi||e instanceof tl||e instanceof Qc||e instanceof Hc||e instanceof el)}function dl(e,t,n){if(!hl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=Fc(n);throw"an object"===i?t.rc(e+" a custom object"):t.rc(e+" "+i)}}function fl(e,t,n){if((t=(0,o.m9)(t))instanceof Jc)return t._internalPath;if("string"==typeof t)return gl(e,t);throw ml("Field path arguments must be of type string or ",e,!1,void 0,n)}const pl=new RegExp("[~\\*/\\[\\]]");function gl(e,t,n){if(t.search(pl)>=0)throw ml(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jc(...t.split("."))._internalPath}catch(i){throw ml(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ml(e,t,n,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new Di(Pi.INVALID_ARGUMENT,o+e+u)}function vl(e,t){return e.some((e=>e.isEqual(t)))}class yl{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Hc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bl extends yl{data(){return super.data()}}function wl(e,t){return"string"==typeof t?gl(e,t):t instanceof Jc?t._internalPath:t._delegate._internalPath}class Il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class El extends yl{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(wl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class _l extends El{data(e={}){return super.data(e)}}class Sl{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Il(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new _l(this._firestore,this._userDataWriter,n.key,n,new Il(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Di(Pi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new _l(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Il(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new _l(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Il(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Tl(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Tl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ai()}}function kl(e){if(os(e)&&0===e.explicitOrderBy.length)throw new Di(Pi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Cl(e,...t){for(const n of t)e=n._apply(e);return e}class Al{convertValue(e,t="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ai()}}convertObject(e,t){const n={};return Yi(e.fields,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new tl(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ur(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cr(e));default:return null}}convertTimestamp(e){const t=rr(e);return new zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ji.fromString(e);Ni(no(n));const i=new hr(n.get(1),n.get(3)),r=new gr(n.popFirst(5));return i.isEqual(t)||Ti(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}function Nl(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}function Rl(e){e=jc(e,Hc);const t=jc(e.firestore,$c);return Dc(Xc(t),e._key).then((n=>Ml(t,e,n)))}class Pl extends Al{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hc(this.firestore,null,t)}}function Dl(e){e=jc(e,Kc);const t=jc(e.firestore,$c),n=Xc(t),i=new Pl(t);return kl(e._query),Oc(n,e._query).then((n=>new Sl(t,i,e,n)))}function Ol(e,t,n){e=jc(e,Hc);const i=jc(e.firestore,$c),r=Nl(e.converter,t,n);return xl(i,[ul(ol(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Us.none())])}function Ll(e,t){const n=jc(e.firestore,$c),i=zc(e),r=Nl(e.converter,t);return xl(n,[ul(ol(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Us.exists(!1))]).then((()=>i))}function xl(e,t){return function(e,t){const n=new Oi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=Ic(e);try{const e=await function(e,t){const n=Ri(e),i=zi.now(),r=t.reduce(((e,t)=>e.add(t.key)),ma());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.ci.Ks(e,r).next((r=>{s=r;const a=[];for(const e of t){const t=Hs(e,s.get(e.key));null!=t&&a.push(new zs(e.key,t,Pr(t.value.mapValue),Us.exists(!0)))}return n.Bs.addMutationBatch(e,i,a,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.ua[e.currentUser.toKey()];i||(i=new ra(qi)),i=i.insert(t,n),e.ua[e.currentUser.toKey()]=i}(i,e.batchId,n),await vc(i,e.changes),await Su(i.remoteStore)}catch(e){const t=Fu(e,"Failed to persist write");n.reject(t)}}(await Rc(e),t,n))),n.promise}(Xc(e),t)}function Ml(e,t,n){const i=n.docs.get(t._key),r=new Pl(e);return new El(e,r,t._key,i,new Il(n.hasPendingWrites,n.fromCache),t.converter)}!function(e,t=!0){!function(e){Ii=e}(r.SDK_VERSION),(0,r._registerComponent)(new s.wA("firestore",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=new $c(i,new Mi(e.getProvider("auth-internal")),new Vi(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),r._setSettings(n),r}),"PUBLIC")),(0,r.registerVersion)(bi,"3.4.8",e),(0,r.registerVersion)(bi,"3.4.8","esm2017")}()},669:function(e,t,n){"use strict";n.r(t),n.d(t,{auth:function(){return Y}});var i=n(1902),r=n(8180),s=n(8429),a=n(4444),o=(n(2238),n(3333),n(8463));function u(){return window}async function c(e,t,n){var i;const{BuildInfo:r}=u();(0,s.ap)(t.sessionId,"AuthEvent did not contain a session ID");const a=await async function(e){const t=function(e){if((0,s.ap)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return(0,s.aq)()?o.ibi=r.packageName:(0,s.ar)()?o.apn=r.packageName:(0,s.as)(e,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=a,(0,s.at)(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,o)}class l extends s.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function h(e){const t=await p()._get(g(e));return t&&await p()._remove(g(e)),t}function d(e,t){var n,i;const r=function(e){const t=m(e),n=t.link?decodeURIComponent(t.link):void 0,i=m(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return m(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=m(r),a=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(i=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],u=o?(0,s.av)(o):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}function f(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function p(){return(0,s.ax)(s.b)}function g(e){return(0,s.ay)("authEvent",e.config.apiKey,e.name)}function m(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,a.zd)(n.join("?"))}const v=class{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aA}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new l(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){(0,s.as)(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,a,o,c,l,h,d;const f=u();(0,s.aw)("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aw)("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aw)("function"===typeof(null===(a=null===(r=null===(i=null===f||void 0===f?void 0:f.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aw)("function"===typeof(null===(l=null===(c=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===c?void 0:c.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aw)("function"===typeof(null===(d=null===(h=null===f||void 0===f?void 0:f.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),(0,s.aB)(),await this._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:f(),postBody:null,tenantId:e.tenantId,error:(0,s.av)(e,"no-auth-event")}}(e,n,i);await function(e,t){return p()._set(g(e),t)}(e,a);const o=await c(e,a,t);return async function(e,t,n){const{cordova:i}=u();let r=()=>{};try{await new Promise(((a,o)=>{let u=null;function c(){var e;a();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){u||(u=window.setTimeout((()=>{o((0,s.av)(e,"redirect-cancelled-by-user"))}),2e3))}function h(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),(0,s.ar)()&&document.addEventListener("visibilitychange",h,!1),r=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",h,!1),u&&window.clearTimeout(u)}}))}finally{r()}}(e,r,await function(e){const{cordova:t}=u();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,(0,s.ao)()?"_blank":"_system","location=yes"),n(r)}))}))}(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=u(),n={};(0,s.aq)()?n.iosBundleId=t.packageName:(0,s.ar)()?n.androidPackageName=t.packageName:(0,s.as)(e,"operation-not-supported-in-this-environment"),await(0,s.au)(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=u(),s=setTimeout((async()=>{await h(e),t.onEvent(y())}),500),a=async n=>{clearTimeout(s);const i=await h(e);let r=null;i&&(null===n||void 0===n?void 0:n.url)&&(r=d(i,n.url)),t.onEvent(r||y())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=i,c=`${r.packageName.toLowerCase()}://`;u().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"===typeof o)try{o(e)}catch(t){console.error(t)}}}};function y(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.av)("no-auth-event")}}function b(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function w(e=(0,a.z$)()){return!("file:"!==b()&&"ionic:"!==b()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function I(e=(0,a.z$)()){return(0,a.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,a.z$)()){return/Edge\/\d+/.test(e)}(e)}function E(){try{const e=self.localStorage,t=s.aG();if(e)return e.setItem(t,"1"),e.removeItem(t),!I()||(0,a.hl)()}catch(e){return _()&&(0,a.hl)()}return!1}function _(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function S(){return("http:"===b()||"https:"===b()||(0,a.ru)()||w())&&!((0,a.b$)()||(0,a.UG)())&&E()&&!_()}function T(){return w()&&"undefined"!==typeof document}const k={LOCAL:"local",NONE:"none",SESSION:"session"},C=s.aw,A="persistence";async function N(e){await e._initializationPromise;const t=R(),n=s.ay(A,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function R(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const P=s.aw;class D{constructor(){this.browserResolver=s.ax(s.k),this.cordovaResolver=s.ax(v),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aA}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return T()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return P(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!T()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function O(e){return e.unwrap()}function L(e){const{_tokenResponse:t}=e instanceof a.ZR?e.customData:e;if(!t)return null;if(!(e instanceof a.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return s.P.credentialFromResult(e);const n=t.providerId;if(!n||n===s.o.PASSWORD)return null;let i;switch(n){case s.o.GOOGLE:i=s.N;break;case s.o.FACEBOOK:i=s.M;break;case s.o.GITHUB:i=s.Q;break;case s.o.TWITTER:i=s.V;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:a,pendingToken:o,nonce:u}=t;return r||a||e||o?o?n.startsWith("saml.")?s.aJ._create(n,o):s.I._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:r}):new s.T(n).credential({idToken:e,accessToken:r,rawNonce:u}):null}return e instanceof a.ZR?i.credentialFromError(e):i.credentialFromResult(e)}function x(e,t){return t.catch((t=>{throw t instanceof a.ZR&&function(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new U(e,s.am(e,t));else if(i){const e=L(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,L(i)),additionalUserInfo:s.ak(e),user:F.getOrCreate(n)};var i}))}async function M(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>x(e,n.confirm(t))}}class U{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return x(O(this.auth),this.resolver.resolveSignIn(e))}}class F{constructor(e){this._delegate=e,this.multiFactor=s.an(e)}static getOrCreate(e){return F.USER_MAP.has(e)||F.USER_MAP.set(e,new F(e)),F.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return x(this.auth,s.Y(this._delegate,e))}async linkWithPhoneNumber(e,t){return M(this.auth,s.l(this._delegate,e,t))}async linkWithPopup(e){return x(this.auth,s.d(this._delegate,e,D))}async linkWithRedirect(e){return await N(s.aC(this.auth)),s.g(this._delegate,e,D)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return x(this.auth,s.Z(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return M(this.auth,s.r(this._delegate,e,t))}reauthenticateWithPopup(e){return x(this.auth,s.e(this._delegate,e,D))}async reauthenticateWithRedirect(e){return await N(s.aC(this.auth)),s.h(this._delegate,e,D)}sendEmailVerification(e){return s.aa(this._delegate,e)}async unlink(e){return await s.aj(this._delegate,e),this}updateEmail(e){return s.af(this._delegate,e)}updatePassword(e){return s.ag(this._delegate,e)}updatePhoneNumber(e){return s.u(this._delegate,e)}updateProfile(e){return s.ae(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return s.ab(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}F.USER_MAP=new WeakMap;const j=s.aw;class V{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;j(n,"invalid-api-key",{appName:e.name}),j(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?D:void 0;this._delegate=t.initialize({options:{persistence:H(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(s.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?F.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){s.E(this._delegate,e,t)}applyActionCode(e){return s.a1(this._delegate,e)}checkActionCode(e){return s.a2(this._delegate,e)}confirmPasswordReset(e,t){return s.a0(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return x(this._delegate,s.a4(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return s.a9(this._delegate,e)}isSignInWithEmailLink(e){return s.a7(this._delegate,e)}async getRedirectResult(){j(S(),this._delegate,"operation-not-supported-in-this-environment");const e=await s.j(this._delegate,D);return e?x(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){(0,s.aC)(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=B(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=B(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return s.a6(this._delegate,e,t)}sendPasswordResetEmail(e,t){return s.$(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){C(Object.values(k).includes(t),e,"invalid-persistence-type"),(0,a.b$)()?C(t!==k.SESSION,e,"unsupported-persistence-type"):(0,a.UG)()?C(t===k.NONE,e,"unsupported-persistence-type"):_()?C(t===k.NONE||t===k.LOCAL&&(0,a.hl)(),e,"unsupported-persistence-type"):C(t===k.NONE||E(),e,"unsupported-persistence-type")}(this._delegate,e),e){case k.SESSION:t=s.a;break;case k.LOCAL:t=await s.ax(s.i)._isAvailable()?s.i:s.b;break;case k.NONE:t=s.K;break;default:return s.as("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return x(this._delegate,s.W(this._delegate))}signInWithCredential(e){return x(this._delegate,s.X(this._delegate,e))}signInWithCustomToken(e){return x(this._delegate,s._(this._delegate,e))}signInWithEmailAndPassword(e,t){return x(this._delegate,s.a5(this._delegate,e,t))}signInWithEmailLink(e,t){return x(this._delegate,s.a8(this._delegate,e,t))}signInWithPhoneNumber(e,t){return M(this._delegate,s.s(this._delegate,e,t))}async signInWithPopup(e){return j(S(),this._delegate,"operation-not-supported-in-this-environment"),x(this._delegate,s.c(this._delegate,e,D))}async signInWithRedirect(e){return j(S(),this._delegate,"operation-not-supported-in-this-environment"),await N(this._delegate),s.f(this._delegate,e,D)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return s.a3(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function B(e,t,n){let i=e;"function"!==typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&F.getOrCreate(e)),error:t,complete:n}}function H(e,t){const n=function(e,t){const n=R();if(!n)return[];const i=s.ay(A,e,t);switch(n.getItem(i)){case k.NONE:return[s.K];case k.LOCAL:return[s.i,s.a];case k.SESSION:return[s.a];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(s.i)||n.push(s.i),"undefined"!==typeof window)for(const i of[s.b,s.a])n.includes(i)||n.push(i);return n.includes(s.K)||n.push(s.K),n}V.Persistence=k;class K{constructor(){this.providerId="phone",this._delegate=new s.P(O(r.Z.auth()))}static credential(e,t){return s.P.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}K.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,K.PROVIDER_ID=s.P.PROVIDER_ID;const q=s.aw;class G{constructor(e,t,n=r.Z.app()){var i;q(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new s.R(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var z;(z=r.Z).INTERNAL.registerComponent(new o.wA("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new V(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.L,FacebookAuthProvider:s.M,GithubAuthProvider:s.Q,GoogleAuthProvider:s.N,OAuthProvider:s.T,SAMLAuthProvider:s.U,PhoneAuthProvider:K,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:G,TwitterAuthProvider:s.V,Auth:V,AuthCredential:s.G,Error:a.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.2.12");var W=n(7211),$=n.n(W);n(3544),n(4997),n(4210),n(5634),n(6573);(function(){(function(){var e,t,r="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var s;e:{var a={};try{a.__proto__={xb:!0},s=a.xb;break e}catch(Jh){}s=!1}t=s?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var o=t;function u(e,t){if(e.prototype=r(t.prototype),e.prototype.constructor=e,o)o(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.K=t.prototype}var c="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof n.g&&null!=n.g?n.g:this;function h(e,t){if(t){var n=l;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&c(n,e,{configurable:!0,writable:!0,value:t})}}h("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),h("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}));var d=this;function f(e){return void 0!==e}function p(e){return"string"==typeof e}var g=/^[\w+/_-]+[=]{0,2}$/,m=null;function v(){}function y(e){e.W=void 0,e.Xa=function(){return e.W?e.W:e.W=new e}}function b(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function w(e){return"array"==b(e)}function I(e){var t=b(e);return"array"==t||"object"==t&&"number"==typeof e.length}function E(e){return"function"==b(e)}function _(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var S="closure_uid_"+(1e9*Math.random()>>>0),T=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function C(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function A(e,t,n){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:C).apply(null,arguments)}function N(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function R(e,t){for(var n in t)e[n]=t[n]}var P,D=Date.now||function(){return+new Date};function O(e,t){e=e.split(".");var n,i=d;e[0]in i||"undefined"==typeof i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)!e.length&&f(t)?i[n]=t:i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}}function L(e,t){function n(){}n.prototype=t.prototype,e.K=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.vc=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function x(e){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");x.call(this,n+e[i])}function U(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}L(x,Error),x.prototype.name="CustomError",L(M,x),M.prototype.name="AssertionError";var F=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(p(e))return p(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},j=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=p(e)?e.split(""):e,s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};var V=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=[],r=0,s=p(e)?e.split(""):e,a=0;a<n;a++)if(a in s){var o=s[a];t.call(void 0,o,a,e)&&(i[r++]=o)}return i},B=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=p(e)?e.split(""):e,s=0;s<n;s++)s in r&&(i[s]=t.call(void 0,r[s],s,e));return i},H=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=p(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function K(e,t){return 0<=F(e,t)}function q(e,t){var n;return(n=0<=(t=F(e,t)))&&G(e,t),n}function G(e,t){return 1==Array.prototype.splice.call(e,t,1).length}function z(e,t){!function(e,t){for(var n=p(e)?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(e,(function(n,i){t.call(void 0,n,i,e)&&G(e,i)&&0}))}function W(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Y(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}var X=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Z=/&/g,J=/</g,Q=/>/g,ee=/"/g,te=/'/g,ne=/\x00/g,ie=/[\x00&<>"']/;function re(e,t){return e<t?-1:e>t?1:0}function se(e){return ie.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Z,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(J,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Q,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ee,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(te,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ne,"&#0;"))),e}function ae(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function oe(e){var t,n={};for(t in e)n[t]=e[t];return n}var ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var s=0;s<ue.length;s++)n=ue[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}var le="StopIteration"in d?d.StopIteration:{message:"StopIteration",stack:""};function he(){}function de(e){if(e instanceof he)return e;if("function"==typeof e.ha)return e.ha(!1);if(I(e)){var t=0,n=new he;return n.next=function(){for(;;){if(t>=e.length)throw le;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")}function fe(e){if(I(e))return $(e);e=de(e);var t=[];return function(e,t){if(I(e))try{j(e,t,void 0)}catch(n){if(n!==le)throw n}else{e=de(e);try{for(;;)t.call(void 0,e.next(),void 0,e)}catch(i){if(i!==le)throw i}}}(e,(function(e){t.push(e)})),t}function pe(e,t){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof pe)for(n=e.ja(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function ge(e){if(e.h!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];me(e.g,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.h!=e.a.length){var r={};for(n=t=0;t<e.a.length;)me(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}he.prototype.next=function(){throw le},he.prototype.ha=function(){return this},(e=pe.prototype).la=function(){ge(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.g[this.a[t]]);return e},e.ja=function(){return ge(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0},e.get=function(e,t){return me(this.g,e)?this.g[e]:t},e.set=function(e,t){me(this.g,e)||(this.h++,this.a.push(e),this.j++),this.g[e]=t},e.forEach=function(e,t){for(var n=this.ja(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}},e.ha=function(e){ge(this);var t=0,n=this.j,i=this,r=new he;return r.next=function(){if(n!=i.j)throw Error("The map has changed since the iterator was created");if(t>=i.a.length)throw le;var r=i.a[t++];return e?r:i.g[r]},r};var ve=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ye(e,t,n,i){for(var r=n.length;0<=(t=e.indexOf(n,t))&&t<i;){var s=e.charCodeAt(t-1);if((38==s||63==s)&&(!(s=e.charCodeAt(t+r))||61==s||38==s||35==s))return t;t+=r+1}return-1}var be=/#|$/;function we(e,t){var n=e.search(be),i=ye(e,0,t,n);if(0>i)return null;var r=e.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=t.length+1,decodeURIComponent(e.substr(i,r-i).replace(/\+/g," "))}var Ie=/[?&]($|#)/;function Ee(e,t){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,e instanceof Ee?(this.i=f(t)?t:e.i,_e(this,e.j),this.A=e.A,this.h=e.h,Se(this,e.C),this.g=e.g,Te(this,je(e.a)),this.s=e.s):e&&(n=String(e).match(ve))?(this.i=!!t,_e(this,n[1]||"",!0),this.A=Ce(n[2]||""),this.h=Ce(n[3]||"",!0),Se(this,n[4]),this.g=Ce(n[5]||"",!0),Te(this,n[6]||"",!0),this.s=Ce(n[7]||"")):(this.i=!!t,this.a=new xe(null,this.i))}function _e(e,t,n){e.j=n?Ce(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Se(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.C=t}else e.C=null}function Te(e,t,n){t instanceof xe?(e.a=t,function(e,t){t&&!e.j&&(Me(e),e.h=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ue(this,t),Ue(this,n),0<e.length&&(this.h=null,this.a.set(Ve(this,n),$(e)),this.g+=e.length))}),e)),e.j=t}(e.a,e.i)):(n||(t=Ae(t,Oe)),e.a=new xe(t,e.i))}function ke(e){return e instanceof Ee?new Ee(e):new Ee(e,void 0)}function Ce(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ae(e,t,n){return p(e)?(e=encodeURI(e).replace(t,Ne),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ne(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ee.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ae(t,Re,!0),":");var n=this.h;return(n||"file"==t)&&(e.push("//"),(t=this.A)&&e.push(Ae(t,Re,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&e.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ae(n,"/"==n.charAt(0)?De:Pe,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.s)&&e.push("#",Ae(n,Le)),e.join("")};var Re=/[#\/\?@]/g,Pe=/[#\?:]/g,De=/[#\?]/g,Oe=/[#\?@]/g,Le=/#/g;function xe(e,t){this.g=this.a=null,this.h=e||null,this.j=!!t}function Me(e){e.a||(e.a=new pe,e.g=0,e.h&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.h,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ue(e,t){Me(e),t=Ve(e,t),me(e.a.g,t)&&(e.h=null,e.g-=e.a.get(t).length,me((e=e.a).g,t)&&(delete e.g[t],e.h--,e.j++,e.a.length>2*e.h&&ge(e)))}function Fe(e,t){return Me(e),t=Ve(e,t),me(e.a.g,t)}function je(e){var t=new xe;return t.h=e.h,e.a&&(t.a=new pe(e.a),t.g=e.g),t}function Ve(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Be(e){this.a=ke(e)}function He(e){return e.a.a.get(Ge.Pa)||null}function Ke(e,t){t?e.a.a.set(Ge.PROVIDER_ID,t):Ue(e.a.a,Ge.PROVIDER_ID)}(e=xe.prototype).add=function(e,t){Me(this),this.h=null,e=Ve(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.g+=1,this},e.clear=function(){this.a=this.h=null,this.g=0},e.forEach=function(e,t){Me(this),this.a.forEach((function(n,i){j(n,(function(n){e.call(t,n,i,this)}),this)}),this)},e.ja=function(){Me(this);for(var e=this.a.la(),t=this.a.ja(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},e.la=function(e){Me(this);var t=[];if(p(e))Fe(this,e)&&(t=W(t,this.a.get(Ve(this,e))));else{e=this.a.la();for(var n=0;n<e.length;n++)t=W(t,e[n])}return t},e.set=function(e,t){return Me(this),this.h=null,Fe(this,e=Ve(this,e))&&(this.g-=this.a.get(e).length),this.a.set(e,[t]),this.g+=1,this},e.get=function(e,t){return e&&0<(e=this.la(e)).length?String(e[0]):t},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var e=[],t=this.a.ja(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.la(i);for(var s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.h=e.join("&")},Be.prototype.toString=function(){return this.a.toString()};var qe,Ge={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var ze=d.navigator;if(ze){var We=ze.userAgent;if(We){qe=We;break e}}qe=""}function $e(e){return-1!=qe.indexOf(e)}function Ye(){return($e("Chrome")||$e("CriOS"))&&!$e("Edge")}function Xe(e){return Xe[" "](e),e}Xe[" "]=v;var Ze,Je=$e("Opera"),Qe=$e("Trident")||$e("MSIE"),et=$e("Edge"),tt=et||Qe,nt=$e("Gecko")&&!(-1!=qe.toLowerCase().indexOf("webkit")&&!$e("Edge"))&&!($e("Trident")||$e("MSIE"))&&!$e("Edge"),it=-1!=qe.toLowerCase().indexOf("webkit")&&!$e("Edge"),rt=it&&$e("Mobile"),st=$e("Macintosh");function at(){var e=d.document;return e?e.documentMode:void 0}e:{var ot="",ut=function(){var e=qe;return nt?/rv:([^\);]+)(\)|;)/.exec(e):et?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):it?/WebKit\/(\S+)/.exec(e):Je?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ut&&(ot=ut?ut[1]:""),Qe){var ct=at();if(null!=ct&&ct>parseFloat(ot)){Ze=String(ct);break e}}Ze=ot}var lt,ht={};function dt(e){return function(e,t){var n=ht;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=X(String(Ze)).split("."),i=X(String(e)).split("."),r=Math.max(n.length,i.length),s=0;0==t&&s<r;s++){var a=n[s]||"",o=i[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;t=re(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||re(0==a[2].length,0==o[2].length)||re(a[2],o[2]),a=a[3],o=o[3]}while(0==t)}return 0<=t}))}var ft=d.document;function pt(e,t){this.a=e===mt&&t||"",this.g=gt}lt=ft&&Qe?at()||("CSS1Compat"==ft.compatMode?parseInt(Ze,10):5):void 0,pt.prototype.ma=!0,pt.prototype.ka=function(){return this.a},pt.prototype.toString=function(){return"Const{"+this.a+"}"};var gt={},mt={};function vt(){this.a="",this.h=bt}function yt(e){return e instanceof vt&&e.constructor===vt&&e.h===bt?e.a:(U("expected object of type TrustedResourceUrl, got '"+e+"' of type "+b(e)),"type_error:TrustedResourceUrl")}vt.prototype.ma=!0,vt.prototype.ka=function(){return this.a.toString()},vt.prototype.g=function(){return 1},vt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var bt={};function wt(){this.a="",this.h=Tt}function It(e){return e instanceof wt&&e.constructor===wt&&e.h===Tt?e.a:(U("expected object of type SafeUrl, got '"+e+"' of type "+b(e)),"type_error:SafeUrl")}wt.prototype.ma=!0,wt.prototype.ka=function(){return this.a.toString()},wt.prototype.g=function(){return 1},wt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Et=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function _t(e){return e instanceof wt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),Et.test(e)||(e="about:invalid#zClosurez"),kt(e))}function St(e){return e instanceof wt?e:(e="object"==typeof e&&e.ma?e.ka():String(e),Et.test(e)||(e="about:invalid#zClosurez"),kt(e))}var Tt={};function kt(e){var t=new wt;return t.a=e,t}function Ct(){this.a="",this.g=At}kt("about:blank"),Ct.prototype.ma=!0;var At={};function Nt(){this.a="",this.j=Pt,this.h=null}function Rt(e){return e instanceof Nt&&e.constructor===Nt&&e.j===Pt?e.a:(U("expected object of type SafeHtml, got '"+e+"' of type "+b(e)),"type_error:SafeHtml")}Ct.prototype.ka=function(){return this.a},Ct.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Nt.prototype.g=function(){return this.h},Nt.prototype.ma=!0,Nt.prototype.ka=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pt={};function Dt(e,t){var n=new Nt;return n.a=e,n.h=t,n}Dt("<!DOCTYPE html>",0);var Ot=Dt("",0);Dt("<br>",0);var Lt=function(e){var t,n=!1;return function(){return n||(t=function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Rt(Ot),!t.parentElement)}(),n=!0),t}}();function xt(e,t){t=t instanceof wt?t:St(t),e.assign(It(t))}function Mt(e,t){this.a=f(e)?e:0,this.g=f(t)?t:0}function Ut(e,t){this.width=e,this.height=t}function Ft(e){return e?new $t(Gt(e)):P||(P=new $t)}function jt(e,t){var n=t||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+e):Bt(document,e,t)}function Vt(e,t){var n=t||document;if(n.getElementsByClassName)e=n.getElementsByClassName(e)[0];else{n=document;var i=t||n;e=i.querySelectorAll&&i.querySelector&&e?i.querySelector(e?"."+e:""):Bt(n,e,t)[0]||null}return e||null}function Bt(e,t,n){var i;if((e=n||e).querySelectorAll&&e.querySelector&&t)return e.querySelectorAll(t?"."+t:"");if(t&&e.getElementsByClassName){var r=e.getElementsByClassName(t);return r}if(r=e.getElementsByTagName("*"),t){var s={};for(n=i=0;e=r[n];n++){var a=e.className;"function"==typeof a.split&&K(a.split(/\s+/),t)&&(s[i++]=e)}return s.length=i,s}return r}Mt.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Mt.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Mt.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Mt.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(e=Ut.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kt(e){return e.scrollingElement?e.scrollingElement:(it||"CSS1Compat"!=e.compatMode)&&e.body||e.documentElement}function qt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Gt(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function zt(e,t){if("textContent"in e)e.textContent=t;else if(3==e.nodeType)e.data=String(t);else if(e.firstChild&&3==e.firstChild.nodeType){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{for(var n;n=e.firstChild;)e.removeChild(n);e.appendChild(Gt(e).createTextNode(String(t)))}}function Wt(e,t){return t?function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}(e,(function(e){return!t||p(e.className)&&K(e.className.split(/\s+/),t)})):null}function $t(e){this.a=e||d.document||document}$t.prototype.N=function(){return p(void 0)?this.a.getElementById(void 0):void 0};var Yt={Fc:!0},Xt={Hc:!0},Zt={Ec:!0},Jt={Gc:!0};function Qt(){throw Error("Do not instantiate directly")}function en(e,t,n,i){if(e=e(t||nn,void 0,n),i=(i||Ft()).a.createElement("DIV"),(e=function(e){if(!_(e))return se(String(e));if(e instanceof Qt){if(e.fa===Yt)return e.content;if(e.fa===Jt)return se(e.content)}return U("Soy template output is unsafe for use as HTML: "+e),"zSoyz"}(e)).match(tn),e=Dt(e,null),Lt())for(;i.lastChild;)i.removeChild(i.lastChild);return i.innerHTML=Rt(e),1==i.childNodes.length&&(1==(e=i.firstChild).nodeType&&(i=e)),i}Qt.prototype.va=null,Qt.prototype.toString=function(){return this.content};var tn=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,nn={};function rn(){Qt.call(this)}function sn(e){return null!=e&&e.fa===Yt?e:e instanceof Nt?cn(Rt(e).toString(),e.g()):cn(se(String(String(e))),function(e){if(null!=e)switch(e.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(e))}function an(){Qt.call(this)}function on(e,t){this.content=String(e),this.va=null!=t?t:null}function un(e){return new on(e,void 0)}L(rn,Qt),rn.prototype.fa=Yt,L(an,Qt),an.prototype.fa=Xt,an.prototype.va=1,L(on,Qt),on.prototype.fa=Jt;var cn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return e=new t(String(e)),void 0!==n&&(e.va=n),e}}(rn),ln=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e){return new t(String(e))}}(an);function hn(e){return(e=String(e))?new on(e,void 0):""}var dn=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){return(e=String(e))?(e=new t(e),void 0!==n&&(e.va=n),e):""}}(rn);function fn(e){return null!=e&&e.fa===Yt?String(String(e.content).replace(Sn,"").replace(Tn,"&lt;")).replace(wn,vn):se(String(e))}function pn(e){return null!=e&&e.fa===Xt?e=String(e).replace(In,bn):e instanceof wt?e=String(It(e).toString()).replace(In,bn):(e=String(e),_n.test(e)?e=e.replace(In,bn):(U("Bad value `%s` for |filterNormalizeUri",[e]),e="#zSoyz")),e}function gn(e){return null!=e&&e.fa===Zt?e=e.content:null==e?e="":e instanceof Ct?e instanceof Ct&&e.constructor===Ct&&e.g===At?e=e.a:(U("expected object of type SafeStyle, got '"+e+"' of type "+b(e)),e="type_error:SafeStyle"):(e=String(e),En.test(e)||(U("Bad value `%s` for |filterCssValue",[e]),e="zSoyz")),e}var mn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function vn(e){return mn[e]}var yn={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function bn(e){return yn[e]}var wn=/[\x00\x22\x27\x3c\x3e]/g,In=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,En=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,_n=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Sn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Tn=/</g;function kn(){return un("Enter a valid phone number")}function Cn(){return un("Unable to send password reset code to specified email")}function An(){return un("Something went wrong. Please try again.")}function Nn(){return un("This email already exists without any means of sign-in. Please reset the password to recover.")}function Rn(e){var t="";switch((e=e||{}).code){case"invalid-argument":t+="Client specified an invalid argument.";break;case"invalid-configuration":t+="Client specified an invalid project configuration.";break;case"failed-precondition":t+="Request can not be executed in the current system state.";break;case"out-of-range":t+="Client specified an invalid range.";break;case"unauthenticated":t+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":t+="Client does not have sufficient permission.";break;case"not-found":t+="Specified resource is not found.";break;case"aborted":t+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":t+="The resource that a client tried to create already exists.";break;case"resource-exhausted":t+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":t+="Request cancelled by the client.";break;case"data-loss":t+="Unrecoverable data loss or data corruption.";break;case"unknown":t+="Unknown server error.";break;case"internal":t+="Internal server error.";break;case"not-implemented":t+="API method not implemented by the server.";break;case"unavailable":t+="Service unavailable.";break;case"deadline-exceeded":t+="Request deadline exceeded.";break;case"auth/user-disabled":t+="The user account has been disabled by an administrator.";break;case"auth/timeout":t+="The operation has timed out.";break;case"auth/too-many-requests":t+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":t+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":t+="A network error has occurred. Try again later.";break;case"restart-process":t+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":t+="No sign-in provider is available for the given email, please try with a different email."}return un(t)}function Pn(){return un("Please login again to perform this operation")}function Dn(e,t,n){var i=Error.call(this);if(this.message=i.message,"stack"in i&&(this.stack=i.stack),this.code=On+e,!(e=t)){if(e="","firebaseui/merge-conflict"===this.code)e+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";else e+=An();e=un(e).toString()}this.message=e||"",this.credential=n||null}u(Dn,Error),Dn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var On="firebaseui/";function Ln(){0!=xn&&(Mn[this[S]||(this[S]=++T)]=this),this.T=this.T,this.C=this.C}var xn=0,Mn={};function Un(e,t){e.T?f(void 0)?t.call(void 0):t():(e.C||(e.C=[]),e.C.push(f(void 0)?A(t,void 0):t))}function Fn(e){e&&"function"==typeof e.m&&e.m()}Ln.prototype.T=!1,Ln.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=xn)){var e=this[S]||(this[S]=++T);if(0!=xn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Mn[e]}},Ln.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var jn=Object.freeze||function(e){return e},Vn=!Qe||9<=Number(lt),Bn=Qe&&!dt("9"),Hn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",v,t),d.removeEventListener("test",v,t)}catch(n){}return e}();function Kn(e,t){this.type=e,this.g=this.target=t,this.h=!1,this.qb=!0}function qn(e,t){if(Kn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nt){e:{try{Xe(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.j=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=p(e.pointerType)?e.pointerType:Gn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Kn.prototype.stopPropagation=function(){this.h=!0},Kn.prototype.preventDefault=function(){this.qb=!1},L(qn,Kn);var Gn=jn({2:"touch",3:"pen",4:"mouse"});qn.prototype.stopPropagation=function(){qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},qn.prototype.preventDefault=function(){qn.K.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Bn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var zn="closure_listenable_"+(1e6*Math.random()|0),Wn=0;function $n(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.La=r,this.key=++Wn,this.sa=this.Ia=!1}function Yn(e){e.sa=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Xn(e){this.src=e,this.a={},this.g=0}function Zn(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(Yn(t),0==e.a[n].length&&(delete e.a[n],e.g--))}function Jn(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.sa&&s.listener==t&&s.capture==!!n&&s.La==i)return r}return-1}Xn.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.g++);var a=Jn(e,t,i,r);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new $n(t,this.src,s,!!i,r)).Ia=n,e.push(t)),t};var Qn="closure_lm_"+(1e6*Math.random()|0),ei={};function ti(e,t,n,i,r){if(i&&i.once)return ii(e,t,n,i,r);if(w(t)){for(var s=0;s<t.length;s++)ti(e,t[s],n,i,r);return null}return n=di(n),e&&e[zn]?e.J.add(String(t),n,!1,_(i)?!!i.capture:!!i,r):ni(e,t,n,!1,i,r)}function ni(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=_(r)?!!r.capture:!!r,o=li(e);if(o||(e[Qn]=o=new Xn(e)),(n=o.add(t,n,i,a,s)).proxy)return n;if(i=function(){var e=ci,t=Vn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Hn||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(ai(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ii(e,t,n,i,r){if(w(t)){for(var s=0;s<t.length;s++)ii(e,t[s],n,i,r);return null}return n=di(n),e&&e[zn]?e.J.add(String(t),n,!0,_(i)?!!i.capture:!!i,r):ni(e,t,n,!0,i,r)}function ri(e,t,n,i,r){if(w(t))for(var s=0;s<t.length;s++)ri(e,t[s],n,i,r);else i=_(i)?!!i.capture:!!i,n=di(n),e&&e[zn]?(e=e.J,(t=String(t).toString())in e.a&&(-1<(n=Jn(s=e.a[t],n,i,r))&&(Yn(s[n]),G(s,n),0==s.length&&(delete e.a[t],e.g--)))):e&&(e=li(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Jn(t,n,i,r)),(n=-1<e?t[e]:null)&&si(n))}function si(e){if("number"!=typeof e&&e&&!e.sa){var t=e.src;if(t&&t[zn])Zn(t.J,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ai(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=li(t))?(Zn(n,e),0==n.g&&(n.src=null,t[Qn]=null)):Yn(e)}}}function ai(e){return e in ei?ei[e]:ei[e]="on"+e}function oi(e,t,n,i){var r=!0;if((e=li(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==n&&!s.sa&&(s=ui(s,i),r=r&&!1!==s)}return r}function ui(e,t){var n=e.listener,i=e.La||e.src;return e.Ia&&si(e),n.call(i,t)}function ci(e,t){if(e.sa)return!0;if(!Vn){if(!t)e:{t=["window","event"];for(var n=d,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new qn(i=t,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(a){r=!0}(r||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.g;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;!t.h&&0<=r;r--){t.g=i[r];var s=oi(i[r],e,!0,t);n=n&&s}for(r=0;!t.h&&r<i.length;r++)t.g=i[r],s=oi(i[r],e,!1,t),n=n&&s}return n}return ui(e,new qn(t,this))}function li(e){return(e=e[Qn])instanceof Xn?e:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(e){return E(e)?e:(e[hi]||(e[hi]=function(t){return e.handleEvent(t)}),e[hi])}function fi(){Ln.call(this),this.J=new Xn(this),this.wb=this,this.Ha=null}function pi(e,t){var n,i=e.Ha;if(i)for(n=[];i;i=i.Ha)n.push(i);if(e=e.wb,i=t.type||t,p(t))t=new Kn(t,e);else if(t instanceof Kn)t.target=t.target||e;else{var r=t;ce(t=new Kn(i,e),r)}if(r=!0,n)for(var s=n.length-1;!t.h&&0<=s;s--){var a=t.g=n[s];r=gi(a,i,!0,t)&&r}if(t.h||(r=gi(a=t.g=e,i,!0,t)&&r,t.h||(r=gi(a,i,!1,t)&&r)),n)for(s=0;!t.h&&s<n.length;s++)r=gi(a=t.g=n[s],i,!1,t)&&r;return r}function gi(e,t,n,i){if(!(t=e.J.a[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.sa&&a.capture==n){var o=a.listener,u=a.La||a.src;a.Ia&&Zn(e.J,a),r=!1!==o.call(u,i)&&r}}return r&&0!=i.qb}L(fi,Ln),fi.prototype[zn]=!0,fi.prototype.Za=function(e){this.Ha=e},fi.prototype.removeEventListener=function(e,t,n,i){ri(this,e,t,n,i)},fi.prototype.o=function(){if(fi.K.o.call(this),this.J){var e,t=this.J;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)Yn(n[i]);delete t.a[e],t.g--}}this.Ha=null};var mi={},vi=0;function yi(e,t){if(!e)throw Error("Event target element must be provided!");if(e=wi(e),mi[e]&&mi[e].length)for(var n=0;n<mi[e].length;n++)pi(mi[e][n],t)}function bi(e){var t=wi(e.N());mi[t]&&mi[t].length&&(function(e,t){e:{for(var n=e.length,i=p(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}0<=t&&G(e,t)}(mi[t],(function(t){return t==e})),mi[t].length||delete mi[t])}function wi(e){return"undefined"===typeof e.a&&(e.a=vi,vi++),e.a}function Ii(e){if(!e)throw Error("Event target element must be provided!");fi.call(this),this.a=e}function Ei(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function _i(e,t){this.h=e,this.j=t,this.g=0,this.a=null}function Si(e,t){e.j(t),100>e.g&&(e.g++,t.next=e.a,e.a=t)}function Ti(){this.g=this.a=null}u(Ii,fi),Ii.prototype.N=function(){return this.a},Ii.prototype.register=function(){var e=wi(this.N());mi[e]?K(mi[e],this)||mi[e].push(this):mi[e]=[this]},_i.prototype.get=function(){if(0<this.g){this.g--;var e=this.a;this.a=e.next,e.next=null}else e=this.h();return e};var ki,Ci,Ai=new _i((function(){return new Ri}),(function(e){e.reset()}));function Ni(){var e=Li,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.g=null),t.next=null),t}function Ri(){this.next=this.g=this.a=null}function Pi(e){d.setTimeout((function(){throw e}),0)}function Di(e,t){Ci||function(){if(d.Promise&&d.Promise.resolve){var e=d.Promise.resolve(void 0);Ci=function(){e.then(xi)}}else Ci=function(){var e=xi;!E(d.setImmediate)||d.Window&&d.Window.prototype&&!$e("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(ki||(ki=function(){var e=d.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!$e("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=A((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),"undefined"!==typeof e&&!$e("Trident")&&!$e("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(f(n.next)){var e=(n=n.next).gb;n.gb=null,e()}},function(e){i.next={gb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){d.setTimeout(e,0)}}()),ki(e)):d.setImmediate(e)}}(),Oi||(Ci(),Oi=!0),Li.add(e,t)}Ti.prototype.add=function(e,t){var n=Ai.get();n.set(e,t),this.g?this.g.next=n:this.a=n,this.g=n},Ri.prototype.set=function(e,t){this.a=e,this.g=t,this.next=null},Ri.prototype.reset=function(){this.next=this.g=this.a=null};var Oi=!1,Li=new Ti;function xi(){for(var e;e=Ni();){try{e.a.call(e.g)}catch(t){Pi(t)}Si(Ai,e)}Oi=!1}function Mi(e){if(this.a=Ui,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,e!=v)try{var t=this;e.call(void 0,(function(e){$i(t,Fi,e)}),(function(e){if(!(e instanceof er))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(n){}$i(t,ji,e)}))}catch(n){$i(this,ji,n)}}var Ui=0,Fi=2,ji=3;function Vi(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Vi.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Bi=new _i((function(){return new Vi}),(function(e){e.reset()}));function Hi(e,t,n){var i=Bi.get();return i.s=e,i.g=t,i.j=n,i}function Ki(e){if(e instanceof Mi)return e;var t=new Mi(v);return $i(t,Fi,e),t}function qi(e){return new Mi((function(t,n){n(e)}))}function Gi(e,t){if(e.a==Ui)if(e.h){var n=e.h;if(n.g){for(var i=0,r=null,s=null,a=n.g;a&&(a.h||(i++,a.a==e&&(r=a),!(r&&1<i)));a=a.next)r||(s=a);r&&(n.a==Ui&&1==i?Gi(n,t):(s?((i=s).next==n.j&&(n.j=i),i.next=i.next.next):Xi(n),Zi(n,r,ji,t)))}e.h=null}else $i(e,ji,t)}function zi(e,t){e.g||e.a!=Fi&&e.a!=ji||Yi(e),e.j?e.j.next=t:e.g=t,e.j=t}function Wi(e,t,n,i){var r=Hi(null,null,null);return r.a=new Mi((function(e,s){r.s=t?function(n){try{var r=t.call(i,n);e(r)}catch(a){s(a)}}:e,r.g=n?function(t){try{var r=n.call(i,t);!f(r)&&t instanceof er?s(t):e(r)}catch(a){s(a)}}:s})),r.a.h=e,zi(e,r),r.a}function $i(e,t,n){if(e.a==Ui){e===n&&(t=ji,n=new TypeError("Promise cannot resolve to itself")),e.a=1;e:{var i=n,r=e.hc,s=e.ic;if(i instanceof Mi){zi(i,Hi(r||v,s||null,e));var a=!0}else if(Ei(i))i.then(r,s,e),a=!0;else{if(_(i))try{var o=i.then;if(E(o)){!function(e,t,n,i,r){function s(e){o||(o=!0,i.call(r,e))}function a(e){o||(o=!0,n.call(r,e))}var o=!1;try{t.call(e,a,s)}catch(u){s(u)}}(i,o,r,s,e),a=!0;break e}}catch(u){s.call(e,u),a=!0;break e}a=!1}}a||(e.A=n,e.a=t,e.h=null,Yi(e),t!=ji||n instanceof er||function(e,t){e.s=!0,Di((function(){e.s&&Qi.call(null,t)}))}(e,n))}}function Yi(e){e.i||(e.i=!0,Di(e.Hb,e))}function Xi(e){var t=null;return e.g&&(t=e.g,e.g=t.next,t.next=null),e.g||(e.j=null),t}function Zi(e,t,n,i){if(n==ji&&t.g&&!t.h)for(;e&&e.s;e=e.h)e.s=!1;if(t.a)t.a.h=null,Ji(t,n,i);else try{t.h?t.s.call(t.j):Ji(t,n,i)}catch(r){Qi.call(null,r)}Si(Bi,t)}function Ji(e,t,n){t==Fi?e.s.call(e.j,n):e.g&&e.g.call(e.j,n)}Mi.prototype.then=function(e,t,n){return Wi(this,E(e)?e:null,E(t)?t:null,n)},Mi.prototype.$goog_Thenable=!0,(e=Mi.prototype).fc=function(e,t){return(e=Hi(e,e,t)).h=!0,zi(this,e),this},e.Ca=function(e,t){return Wi(this,null,e,t)},e.cancel=function(e){this.a==Ui&&Di((function(){Gi(this,new er(e))}),this)},e.hc=function(e){this.a=Ui,$i(this,Fi,e)},e.ic=function(e){this.a=Ui,$i(this,ji,e)},e.Hb=function(){for(var e;e=Xi(this);)Zi(this,e,this.a,this.A);this.i=!1};var Qi=Pi;function er(e){x.call(this,e)}function tr(e,t,n){t||(t={}),n=n||window;var i=e instanceof wt?e:_t("undefined"!=typeof e.href?e.href:String(e));e=t.target||e.target;var r=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");return($e("iPhone")&&!$e("iPod")&&!$e("iPad")||$e("iPad")||$e("iPod"))&&n.navigator&&n.navigator.standalone&&e&&"_self"!=e?(s=n.document.createElement("A"),i=i instanceof wt?i:St(i),s.href=It(i),s.setAttribute("target",e),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),s.dispatchEvent(t),n={}):t.noreferrer?(n=n.open("",e,s),t=It(i).toString(),n&&(tt&&-1!=t.indexOf(";")&&(t="'"+t.replace(/'/g,"%27")+"'"),n.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+se(t)+'">',null),n.document.write(Rt(t)),n.document.close())):(n=n.open(It(i).toString(),e,s))&&t.noopener&&(n.opener=null),n}function nr(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(e){}return!1}function ir(e){tr(e,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function rr(e,t){if(null==(e=_(e)&&1==e.nodeType?e:document.querySelector(String(e))))throw Error(t||"Cannot find element.");return e}function sr(){return window.location.href}function ar(e){var t=vr;this.s=[],this.T=t,this.O=e||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function or(e,t,n){e.a=!0,e.h=n,e.j=!t,hr(e)}function ur(e){if(e.a){if(!e.J)throw new dr(e);e.J=!1}}function cr(e,t,n){e.s.push([t,n,void 0]),e.a&&hr(e)}function lr(e){return H(e.s,(function(e){return E(e[1])}))}function hr(e){if(e.i&&e.a&&lr(e)){var t=e.i,n=gr[t];n&&(d.clearTimeout(n.a),delete gr[t]),e.i=0}e.g&&(e.g.C--,delete e.g),t=e.h;for(var i=n=!1;e.s.length&&!e.A;){var r=e.s.shift(),s=r[0],a=r[1];if(r=r[2],s=e.j?a:s)try{var o=s.call(r||e.O,t);f(o)&&(e.j=e.j&&(o==t||o instanceof Error),e.h=t=o),(Ei(t)||"function"===typeof d.Promise&&t instanceof d.Promise)&&(i=!0,e.A=!0)}catch(u){t=u,e.j=!0,lr(e)||(n=!0)}}e.h=t,i&&(o=A(e.L,e,!0),i=A(e.L,e,!1),t instanceof ar?(cr(t,o,i),t.l=!0):t.then(o,i)),n&&(t=new pr(t),gr[t.a]=t,e.i=t.a)}function dr(){x.call(this)}function fr(){x.call(this)}function pr(e){this.a=d.setTimeout(A(this.h,this),0),this.g=e}L(er,x),er.prototype.name="cancel",ar.prototype.cancel=function(e){if(this.a)this.h instanceof ar&&this.h.cancel();else{if(this.g){var t=this.g;delete this.g,e?t.cancel(e):(t.C--,0>=t.C&&t.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(e=new fr(this),ur(this),or(this,!1,e))}},ar.prototype.L=function(e,t){this.A=!1,or(this,e,t)},ar.prototype.callback=function(e){ur(this),or(this,!0,e)},ar.prototype.then=function(e,t,n){var i,r,s=new Mi((function(e,t){i=e,r=t}));return cr(this,i,(function(e){e instanceof fr?s.cancel():r(e)})),s.then(e,t,n)},ar.prototype.$goog_Thenable=!0,L(dr,x),dr.prototype.message="Deferred has already fired",dr.prototype.name="AlreadyCalledError",L(fr,x),fr.prototype.message="Deferred was canceled",fr.prototype.name="CanceledError",pr.prototype.h=function(){throw delete gr[this.a],this.g};var gr={};function mr(e){var t={},n=t.document||document,i=yt(e).toString(),r=document.createElement("SCRIPT"),s={rb:r,sb:void 0},a=new ar(s),o=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(o=window.setTimeout((function(){yr(r,!0);var e=new Ir(wr,"Timeout reached for loading script "+i);ur(a),or(a,!1,e)}),u),s.sb=o),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(yr(r,t.xc||!1,o),a.callback(null))},r.onerror=function(){yr(r,!0,o);var e=new Ir(br,"Error while loading script "+i);ur(a),or(a,!1,e)},ce(s=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(e,t){ae(t,(function(t,n){t&&"object"==typeof t&&t.ma&&(t=t.ka()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ht.hasOwnProperty(n)?e.setAttribute(Ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}(r,s),function(e,t){e.src=yt(t),null===m&&(m=(t=(t=d.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&g.test(t)?t:""),(t=m)&&e.setAttribute("nonce",t)}(r,e),function(e){var t=(e||document).getElementsByTagName("HEAD");return t&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),a}function vr(){if(this&&this.rb){var e=this.rb;e&&"SCRIPT"==e.tagName&&yr(e,!0,this.sb)}}function yr(e,t,n){null!=n&&d.clearTimeout(n),e.onload=v,e.onerror=v,e.onreadystatechange=v,t&&window.setTimeout((function(){qt(e)}),0)}var br=0,wr=1;function Ir(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),x.call(this,n),this.code=e}function Er(){return d.google&&d.google.accounts&&d.google.accounts.id||null}function _r(e){this.a=e||Er(),this.h=!1,this.g=null}function Sr(e,t,n){return e.a&&t?(e.h=!0,new Mi((function(i){e.g=i,e.a.initialize({client_id:t,callback:i,auto_select:!n}),e.a.prompt()}))):Ki(t?kr.Xa().load().then((function(){return e.a=Er(),Sr(e,t,n)})).Ca((function(){return null})):null)}L(Ir,x),_r.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},y(_r);var Tr=new pt(mt,"https://accounts.google.com/gsi/client");function kr(){this.a=null}function Cr(e,t){this.a=e,this.g=t||function(e){throw e}}function Ar(e,t,n){this.reset(e,t,n,void 0,void 0)}kr.prototype.load=function(){var e=this;if(this.a)return this.a;var t=function(){var e=Tr;e instanceof pt&&e.constructor===pt&&e.g===gt?e=e.a:(U("expected object of type Const, got '"+e+"'"),e="type_error:Const");var t=new vt;return t.a=e,t}();return Er()?Ki():this.a=function(){var e=null;return new Mi((function(t){"complete"==d.document.readyState?t():(e=function(){t()},ii(window,"load",e))})).Ca((function(t){throw ri(window,"load",e),t}))}().then((function(){if(!Er())return new Mi((function(n,i){var r=setTimeout((function(){e.a=null,i(Error("Network error!"))}),1e4);d.onGoogleLibraryLoad=function(){clearTimeout(r),n()},Ki(mr(t)).then((function(){Er()&&n()})).Ca((function(t){clearTimeout(r),e.a=null,i(t)}))}))}))},y(kr),Cr.prototype.confirm=function(e){return Ki(this.a.confirm(e)).Ca(this.g)},Ar.prototype.a=null;function Nr(e){this.s=e,this.a=this.h=this.j=this.g=null}function Rr(e,t){this.name=e,this.value=t}Ar.prototype.reset=function(e,t,n,i,r){"number"==typeof r||0,this.h=i||D(),this.j=e,this.s=t,this.g=n,delete this.a},Rr.prototype.toString=function(){return this.name};var Pr=new Rr("SEVERE",1e3),Dr=new Rr("WARNING",900),Or=new Rr("CONFIG",700);function Lr(e){return e.j?e.j:e.g?Lr(e.g):(U("Root logger has no level set."),null)}Nr.prototype.log=function(e,t,n){if(e.value>=Lr(this).value)for(E(t)&&(t=t()),e=new Ar(e,String(t),this.s),n&&(e.a=n),n=this;n;){var i=n,r=e;if(i.a)for(var s=0;t=i.a[s];s++)t(r);n=n.g}};var xr={},Mr=null;function Ur(){Mr||(Mr=new Nr(""),xr[""]=Mr,Mr.j=Or)}function Fr(){this.a=D()}var jr=null;function Vr(e){this.j=e||"",jr||(jr=new Fr),this.s=jr}function Br(e){return 10>e?"0"+e:String(e)}function Hr(e){Vr.call(this,e)}function Kr(){this.s=A(this.h,this),this.a=new Hr,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Fr.prototype.set=function(e){this.a=e},Fr.prototype.reset=function(){this.set(D())},Fr.prototype.get=function(){return this.a},Vr.prototype.a=!0,Vr.prototype.g=!0,Vr.prototype.h=!1,L(Hr,Vr),Kr.prototype.h=function(e){if(!this.j[e.g]){var t=function(e,t){var n=[];if(n.push(e.j," "),e.g){var i=new Date(t.h);n.push("[",Br(i.getFullYear()-2e3)+Br(i.getMonth()+1)+Br(i.getDate())+" "+Br(i.getHours())+":"+Br(i.getMinutes())+":"+Br(i.getSeconds())+"."+Br(Math.floor(i.getMilliseconds()/10)),"] ")}return n.push("[",function(e,t){t=(e=(e.h-t)/1e3).toFixed(3);var n=0;if(1>e)n=2;else for(;100>e;)n++,e*=10;for(;0<n--;)t=" "+t;return t}(t,e.s.get()),"s] "),n.push("[",t.g,"] "),n.push(t.s),e.h&&(t=t.a)&&n.push("\n",t instanceof Error?t.message:t.toString()),e.a&&n.push("\n"),n.join("")}(this.a,e);if(Gr)!function(e,t,n,i){e[t]?e[t](n,i||""):e.log(n,i||"")}(Gr,function(e){if(e){if(e.value>=Pr.value)return"error";if(e.value>=Dr.value)return"warn";if(e.value>=Or.value)return"log"}return"debug"}(e.j),t,e.a)}};var qr,Gr=d.console;function zr(e,t){qr&&qr.log(Pr,e,t)}qr=function e(t){var n;if(Ur(),!(n=xr[t])){n=new Nr(t);var i=t.lastIndexOf("."),r=t.substr(i+1);(i=e(t.substr(0,i))).h||(i.h={}),i.h[r]=n,n.g=i,xr[t]=n}return n}("firebaseui");var Wr=new Kr;if(1!=Wr.g){var $r;Ur(),$r=Mr;var Yr=Wr.s;$r.a||($r.a=[]),$r.a.push(Yr),Wr.g=!0}function Xr(e){qr&&qr.log(Dr,e,void 0)}function Zr(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Jr(e){e=(e.a.cookie||"").split(";");for(var t,n,i=[],r=[],s=0;s<e.length;s++)-1==(t=(n=X(e[s])).indexOf("="))?(i.push(""),r.push(n)):(i.push(n.substring(0,t)),r.push(n.substring(t+1)));return{keys:i,values:r}}(e=Zr.prototype).set=function(e,t,n,i,r,s){if(/[;=\s]/.test(e))throw Error('Invalid cookie name "'+e+'"');if(/[;\r\n]/.test(t))throw Error('Invalid cookie value "'+t+'"');f(n)||(n=-1),r=r?";domain="+r:"",i=i?";path="+i:"",s=s?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(D()+1e3*n).toUTCString(),this.a.cookie=e+"="+t+r+i+n+s},e.get=function(e,t){for(var n,i=e+"=",r=(this.a.cookie||"").split(";"),s=0;s<r.length;s++){if(0==(n=X(r[s])).lastIndexOf(i,0))return n.substr(i.length);if(n==e)return""}return t},e.ja=function(){return Jr(this).keys},e.la=function(){return Jr(this).values},e.clear=function(){for(var e=Jr(this).keys,t=e.length-1;0<=t;t--){var n=e[t];this.get(n),this.set(n,"",0,void 0,void 0)}};var Qr=new Zr;function es(){}function ts(e,t,n,i){this.h="undefined"!==typeof e&&null!==e?e:-1,this.g=t||null,this.a=n||null,this.j=!!i}function ns(e,t){this.g=e,this.a=t||null}function is(e){return{email:e.g,credential:e.a&&e.a.toJSON()}}function rs(e){if(e&&e.email){var t=e.credential&&i.Z.auth.AuthCredential.fromJSON(e.credential);return new ns(e.email,t)}return null}function ss(e){this.a=e||null}function as(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);255<r&&(t[n++]=255&r,r>>=8),t[n++]=r}return t}function os(e){return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function us(e){for(this.i=e,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(cs*(this.j+1)),e=0;e<this.g;e++)this.a[e]=[this.i[4*e],this.i[4*e+1],this.i[4*e+2],this.i[4*e+3]];var t=Array(4);for(e=this.g;e<cs*(this.j+1);e++){if(t[0]=this.a[e-1][0],t[1]=this.a[e-1][1],t[2]=this.a[e-1][2],t[3]=this.a[e-1][3],0==e%this.g){var n=t,i=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=i,ms(t),t[0]^=bs[e/this.g][0],t[1]^=bs[e/this.g][1],t[2]^=bs[e/this.g][2],t[3]^=bs[e/this.g][3]}else 6<this.g&&4==e%this.g&&ms(t);this.a[e]=Array(4),this.a[e][0]=this.a[e-this.g][0]^t[0],this.a[e][1]=this.a[e-this.g][1]^t[1],this.a[e][2]=this.a[e-this.g][2]^t[2],this.a[e][3]=this.a[e-this.g][3]^t[3]}}u(ts,es),ts.prototype.set=function(e,t){Qr.set(e,t,this.h,this.g,this.a,this.j)},ts.prototype.get=function(e){return Qr.get(e)||null},ts.prototype.ra=function(e){var t=this.g,n=this.a;Qr.get(e),Qr.set(e,"",0,t,n)},us.prototype.A=16;var cs=us.prototype.A/4;function ls(e,t){for(var n,i=0;i<cs;i++)for(var r=0;4>r;r++)n=t[n=4*r+i],e.h[i][r]=n}function hs(e){for(var t=[],n=0;n<cs;n++)for(var i=0;4>i;i++)t[4*i+n]=e.h[n][i];return t}function ds(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]^=e.a[4*t+i][n]}function fs(e,t){for(var n=0;4>n;n++)for(var i=0;4>i;i++)e.h[n][i]=t[e.h[n][i]]}function ps(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][n]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][(n+t)%cs]}function gs(e){for(var t=1;4>t;t++)for(var n=0;4>n;n++)e.s[t][(n+t)%cs]=e.h[t][n];for(t=1;4>t;t++)for(n=0;4>n;n++)e.h[t][n]=e.s[t][n]}function ms(e){e[0]=vs[e[0]],e[1]=vs[e[1]],e[2]=vs[e[2]],e[3]=vs[e[3]]}var vs=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ys=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],bs=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],ws=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Is=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Es=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],_s=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Ss=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ts=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function ks(e,t){e=new us(As(e));for(var n,i=(t=as(t)).splice(0,16),r="";i.length;){n=16-i.length;for(var s=0;s<n;s++)i.push(0);for(ls(n=e,i),ds(n,0),i=1;i<n.j;++i){fs(n,vs),ps(n),s=n.h;for(var a=n.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=ws[a[0]]^Is[a[1]]^a[2]^a[3],s[1][o]=a[0]^ws[a[1]]^Is[a[2]]^a[3],s[2][o]=a[0]^a[1]^ws[a[2]]^Is[a[3]],s[3][o]=Is[a[0]]^a[1]^a[2]^ws[a[3]];ds(n,i)}fs(n,vs),ps(n),ds(n,n.j),r+=os(hs(n)),i=t.splice(0,16)}return r}function Cs(e,t){e=new us(As(e));for(var n=[],i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));var r=n.splice(0,16);for(t="";r.length;){for(ls(i=e,r),ds(i,i.j),r=1;r<i.j;++r){gs(i),fs(i,ys),ds(i,i.j-r);for(var s=i.h,a=i.s[0],o=0;4>o;o++)a[0]=s[0][o],a[1]=s[1][o],a[2]=s[2][o],a[3]=s[3][o],s[0][o]=Ts[a[0]]^_s[a[1]]^Ss[a[2]]^Es[a[3]],s[1][o]=Es[a[0]]^Ts[a[1]]^_s[a[2]]^Ss[a[3]],s[2][o]=Ss[a[0]]^Es[a[1]]^Ts[a[2]]^_s[a[3]],s[3][o]=_s[a[0]]^Ss[a[1]]^Es[a[2]]^Ts[a[3]]}if(gs(i),fs(i,ys),ds(i,0),8192>=(i=hs(i)).length)i=String.fromCharCode.apply(null,i);else{for(r="",s=0;s<i.length;s+=8192)r+=String.fromCharCode.apply(null,Y(i,s,s+8192));i=r}t+=i,r=n.splice(0,16)}return t.replace(/(\x00)+$/,"")}function As(e){for(var t=32-(e=as(e.substring(0,32))).length,n=0;n<t;n++)e.push(0);return e}function Ns(e){var t=[];return Ps(new Rs,e,t),t.join("")}function Rs(){}function Ps(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(w(t)){var i=t;t=i.length,n.push("[");for(var r="",s=0;s<t;s++)n.push(r),Ps(e,i[s],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in n.push("{"),r="",t)Object.prototype.hasOwnProperty.call(t,i)&&("function"!=typeof(s=t[i])&&(n.push(r),Ls(i,n),n.push(":"),Ps(e,s,n),r=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Ls(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var Ds={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Os=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ls(e,t){t.push('"',e.replace(Os,(function(e){var t=Ds[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ds[e]=t),t})),'"')}function xs(e){this.a=e}function Ms(){}function Us(e){this.a=e}function Fs(e){if(!e.a)return!1;try{return e.a.setItem("__sak","1"),e.a.removeItem("__sak"),!0}catch(t){return!1}}function js(){var e=null;try{e=window.localStorage||null}catch(t){}this.a=e}function Vs(){var e=null;try{e=window.sessionStorage||null}catch(t){}this.a=e}function Bs(e,t){this.g=e,this.a=t+"::"}xs.prototype.set=function(e,t){f(t)?this.a.set(e,Ns(t)):this.a.ra(e)},xs.prototype.get=function(e){try{var t=this.a.get(e)}catch(n){return}if(null!==t)try{return JSON.parse(t)}catch(i){throw"Storage: Invalid value was encountered"}},L(Ms,es),Ms.prototype.clear=function(){var e=fe(this.ha(!0)),t=this;j(e,(function(e){t.ra(e)}))},L(Us,Ms),(e=Us.prototype).set=function(e,t){try{this.a.setItem(e,t)}catch(n){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},e.get=function(e){if(!p(e=this.a.getItem(e))&&null!==e)throw"Storage mechanism: Invalid value was encountered";return e},e.ra=function(e){this.a.removeItem(e)},e.ha=function(e){var t=0,n=this.a,i=new he;return i.next=function(){if(t>=n.length)throw le;var i=n.key(t++);if(e)return i;if(!p(i=n.getItem(i)))throw"Storage mechanism: Invalid value was encountered";return i},i},e.clear=function(){this.a.clear()},e.key=function(e){return this.a.key(e)},L(js,Us),L(Vs,Us),L(Bs,Ms),Bs.prototype.set=function(e,t){this.g.set(this.a+e,t)},Bs.prototype.get=function(e){return this.g.get(this.a+e)},Bs.prototype.ra=function(e){this.g.ra(this.a+e)},Bs.prototype.ha=function(e){var t=this.g.ha(!0),n=this,i=new he;return i.next=function(){for(var i=t.next();i.substr(0,n.a.length)!=n.a;)i=t.next();return e?i.substr(n.a.length):n.g.get(i)},i},Fs(new js);var Hs=new Vs,Ks=new xs(Fs(Hs)?new Bs(Hs,"firebaseui"):null),qs={name:"pendingEmailCredential",storage:Ks},Gs={name:"redirectStatus",storage:Ks},zs={name:"redirectUrl",storage:Ks},Ws={name:"emailForSignIn",storage:new xs(new ts(3600,"/"))},$s={name:"pendingEncryptedCredential",storage:new xs(new ts(3600,"/"))};function Ys(e,t){return e.storage.get(t?e.name+":"+t:e.name)}function Xs(e,t){e.storage.a.ra(t?e.name+":"+t:e.name)}function Zs(e,t,n){e.storage.set(n?e.name+":"+n:e.name,t)}function Js(e){return Ys(zs,e)||null}function Qs(e){return rs(e=Ys(qs,e)||null)}function ea(e){Xs(qs,e)}function ta(e,t){Zs(qs,is(e),t)}function na(e){return(e=Ys(Gs,e)||null)&&"undefined"!==typeof e.tenantId?new ss(e.tenantId):null}function ia(){this.W={}}function ra(e,t,n){if(t.toLowerCase()in e.W)throw Error("Configuration "+t+" has already been defined.");e.W[t.toLowerCase()]=n}function sa(e,t,n){if(!(t.toLowerCase()in e.W))throw Error("Configuration "+t+" is not defined.");e.W[t.toLowerCase()]=n}function aa(e,t){if(!(e=e.get(t)))throw Error("Configuration "+t+" is required.");return e}function oa(){this.g=void 0,this.a={}}function ua(e,t,n,i){for(var r=0;r<t.length;r++){var s=t.charAt(r);e.a[s]||(e.a[s]=new oa),e=e.a[s]}if(i&&void 0!==e.g)throw Error('The collection already contains the key "'+t+'"');e.g=n}function ca(e,t){for(var n in void 0!==e.g&&t.push(e.g),e.a)ca(e.a[n],t)}function la(e,t,n){for(var i in void 0!==e.g&&n.push(t),e.a)la(e.a[i],t+i,n)}function ha(e){for(this.a=e,this.g=new oa,e=0;e<this.a.length;e++){var t=this.g.get("+"+this.a[e].b);t?t.push(this.a[e]):this.g.add("+"+this.a[e].b,[this.a[e]])}}function da(e,t){var n={},i=0;for(void 0!==(e=e.g).g&&(n[i]=e.g);i<t.length;i++){var r=t.charAt(i);if(!(r in e.a))break;void 0!==(e=e.a[r]).g&&(n[i]=e.g)}for(var s in n)if(n.hasOwnProperty(s))return n[s];return[]}function fa(e){for(var t=0;t<va.length;t++)if(va[t].c===e)return va[t];return null}function pa(e){e=e.toUpperCase();for(var t=[],n=0;n<va.length;n++)va[n].f===e&&t.push(va[n]);return t}function ga(e){if(0<e.length&&"+"==e.charAt(0)){e=e.substring(1);for(var t=[],n=0;n<va.length;n++)va[n].b==e&&t.push(va[n]);e=t}else e=pa(e);return e}function ma(e){e.sort((function(e,t){return e.name.localeCompare(t.name,"en")}))}ia.prototype.get=function(e){if(!(e.toLowerCase()in this.W))throw Error("Configuration "+e+" is not defined.");return this.W[e.toLowerCase()]},(e=oa.prototype).set=function(e,t){ua(this,e,t,!1)},e.add=function(e,t){ua(this,e,t,!0)},e.get=function(e){e:{for(var t=this,n=0;n<e.length;n++)if(!(t=t.a[e.charAt(n)])){e=void 0;break e}e=t}return e?e.g:void 0},e.la=function(){var e=[];return ca(this,e),e},e.ja=function(){var e=[];return la(this,"",e),e},e.clear=function(){this.a={},this.g=void 0};var va=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ma(va);var ya=new ha(va);function ba(e,t){this.a=e,this.Aa=t}function wa(e){e=X(e);var t=da(ya,e);return 0<t.length?new ba("1"==t[0].b?"1-US-0":t[0].c,X(e.substr(t[0].b.length+1))):null}function Ia(e){var t=fa(e.a);if(!t)throw Error("Country ID "+e.a+" not found.");return"+"+t.b+e.Aa}function Ea(e,t){for(var n=0;n<e.length;n++)if(!K(_a,e[n])&&(null!==Sa&&e[n]in Sa||K(t,e[n])))return e[n];return null}var _a=["emailLink","password","phone"],Sa={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ta(){this.a=new ia,ra(this.a,"autoUpgradeAnonymousUsers"),ra(this.a,"callbacks"),ra(this.a,"credentialHelper",eo),ra(this.a,"immediateFederatedRedirect",!1),ra(this.a,"popupMode",!1),ra(this.a,"privacyPolicyUrl"),ra(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),ra(this.a,"queryParameterForWidgetMode","mode"),ra(this.a,"signInFlow"),ra(this.a,"signInOptions"),ra(this.a,"signInSuccessUrl"),ra(this.a,"siteName"),ra(this.a,"tosUrl"),ra(this.a,"widgetUrl"),ra(this.a,"adminRestrictedOperation")}function ka(e){var t=!!e.a.get("autoUpgradeAnonymousUsers");return t&&!Wa(e)&&zr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),t}function Ca(e){e=e.a.get("signInOptions")||[];for(var t=[],n=0;n<e.length;n++){var i=e[n];(i=_(i)?i:{provider:i}).provider&&t.push(i)}return t}function Aa(e,t){e=Ca(e);for(var n=0;n<e.length;n++)if(e[n].provider===t)return e[n];return null}function Na(e){return Ca(e).map((function(e){return e.provider}))}function Ra(e,t){e=Pa(e);for(var n=0;n<e.length;n++)if(e[n].providerId===t)return e[n];return null}function Pa(e){return Ca(e).map((function(e){if(Sa[e.provider]||K(so,e.provider)){for(var t in e={providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?It(_t(e.iconUrl)).toString():null})null===e[t]&&delete e[t];return e}return{providerId:e.provider,S:e.providerName||null,V:e.fullLabel||null,ta:e.buttonColor||null,za:e.iconUrl?It(_t(e.iconUrl)).toString():null,Ob:e.loginHintKey||null}}))}function Da(e){var t,n=Aa(e,i.Z.auth.GoogleAuthProvider.PROVIDER_ID);if(t=n&&n.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(r in e=e.a.get("credentialHelper"),to)if(to[r]===e){var r=to[r];break e}r=eo}t=r===Qa}return t&&n.clientId||null}function Oa(e){return!!((e=Aa(e,i.Z.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.status)}function La(e){return!(!(e=e.a.get("adminRestrictedOperation")||null)||!e.status)}function xa(e,t){return e=(e=Aa(e,t))&&e.scopes,Array.isArray(e)?e:[]}function Ma(e,t){return _(e=(e=Aa(e,t))&&e.customParameters)?(e=oe(e),t===i.Z.auth.GoogleAuthProvider.PROVIDER_ID&&delete e.login_hint,t===i.Z.auth.GithubAuthProvider.PROVIDER_ID&&delete e.login,e):null}function Ua(e){if(!(e=Aa(e,i.Z.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var t=e.whitelistedCountries,n=e.blacklistedCountries;if("undefined"!==typeof t&&(!Array.isArray(t)||0==t.length))throw Error("WhitelistedCountries must be a non-empty array.");if("undefined"!==typeof n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(t&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!t&&!n)return va;if(e=[],t){n={};for(var r=0;r<t.length;r++)for(var s=ga(t[r]),a=0;a<s.length;a++)n[s[a].c]=s[a];for(var o in n)n.hasOwnProperty(o)&&e.push(n[o])}else{for(o={},t=0;t<n.length;t++)for(s=ga(n[t]),r=0;r<s.length;r++)o[s[r].c]=s[r];for(s=0;s<va.length;s++)null!==o&&va[s].c in o||e.push(va[s])}return e}function Fa(e){return aa(e.a,"queryParameterForWidgetMode")}function ja(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Xr("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"===typeof t)return t;if("string"===typeof t)return function(){ir(t)}}return null}function Va(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Xr("Term of Service URL is missing, the link will not be displayed."),t&&n){if("function"===typeof n)return n;if("string"===typeof n)return function(){ir(n)}}return null}function Ba(e){return!(e=Aa(e,i.Z.auth.EmailAuthProvider.PROVIDER_ID))||"undefined"===typeof e.requireDisplayName||!!e.requireDisplayName}function Ha(e){return!(!(e=Aa(e,i.Z.auth.EmailAuthProvider.PROVIDER_ID))||e.signInMethod!==i.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Ka(e){var t=!!e.a.get("immediateFederatedRedirect"),n=Na(e);return e=qa(e),t&&1==n.length&&!K(_a,n[0])&&e==no}function qa(e){for(var t in e=e.a.get("signInFlow"),io)if(io[t]==e)return io[t];return no}function Ga(e){return $a(e).signInSuccess||null}function za(e){return $a(e).signInSuccessWithAuthResult||null}function Wa(e){return $a(e).signInFailure||null}function $a(e){return e.a.get("callbacks")||{}}var Ya,Xa,Za,Ja,Qa="googleyolo",eo="none",to={nc:Qa,NONE:eo},no="redirect",io={qc:"popup",rc:no},ro={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},so=["anonymous"],ao=["sitekey","tabindex","callback","expired-callback"],oo={};function uo(e,t,n,i){oo[e].apply(null,Array.prototype.slice.call(arguments,1))}function co(e){return e.classList?e.classList:p(e=e.className)&&e.match(/\S+/g)||[]}function lo(e,t){return e.classList?e.classList.contains(t):K(co(e),t)}function ho(e,t){e.classList?e.classList.add(t):lo(e,t)||(e.className+=0<e.className.length?" "+t:t)}function fo(e,t){e.classList?e.classList.remove(t):lo(e,t)&&(e.className=V(co(e),(function(e){return e!=t})).join(" "))}function po(e){var t=e.type;switch(p(t)&&t.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:null;case"select-one":return 0<=(t=e.selectedIndex)?e.options[t].value:null;case"select-multiple":t=[];for(var n,i=0;n=e.options[i];i++)n.selected&&t.push(n.value);return t.length?t:null;default:return null!=e.value?e.value:null}}function go(e,t){var n=e.type;switch(p(n)&&n.toLowerCase()){case"checkbox":case"radio":e.checked=t;break;case"select-one":if(e.selectedIndex=-1,p(t))for(var i=0;n=e.options[i];i++)if(n.value==t){n.selected=!0;break}break;case"select-multiple":for(p(t)&&(t=[t]),i=0;n=e.options[i];i++)if(n.selected=!1,t)for(var r,s=0;r=t[s];s++)n.value==r&&(n.selected=!0);break;default:e.value=null!=t?t:""}}function mo(e,t,n,i,r,s){if(it&&!dt("525"))return!0;if(st&&r)return vo(e);if(r&&!i)return!1;if(!nt&&("number"==typeof t&&(t=yo(t)),(!n||st)&&(17==t||18==t||st&&91==t)||st&&16==t&&(i||s)))return!1;if((it||et)&&i&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Qe&&i&&t==e)return!1;switch(e){case 13:return!nt||!s&&!r&&!(n&&i);case 27:return!(it||et||nt)}return(!nt||!(i||r||s))&&vo(e)}function vo(e){if(48<=e&&57>=e||96<=e&&106>=e||65<=e&&90>=e||(it||et)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return nt;default:return!1}}function yo(e){if(nt)e=function(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}(e);else if(st&&it&&93===e)e=91;return e}function bo(e){fi.call(this),this.a=e,ti(e,"keydown",this.g,!1,this),ti(e,"click",this.h,!1,this)}function wo(e,t){var n=new Eo(t);if(pi(e,n)){n=new Io(t);try{pi(e,n)}finally{t.stopPropagation()}}}function Io(e){qn.call(this,e.a),this.type="action"}function Eo(e){qn.call(this,e.a),this.type="beforeaction"}function _o(e){fi.call(this),this.a=e,e=Qe?"focusout":"blur",this.g=ti(this.a,Qe?"focusin":"focus",this,!Qe),this.h=ti(this.a,e,this,!Qe)}function So(e,t){fi.call(this),this.g=e||1,this.a=t||d,this.h=A(this.gc,this),this.j=D()}function To(e){e.Ka=!1,e.aa&&(e.a.clearTimeout(e.aa),e.aa=null)}function ko(e){Ln.call(this),this.g=e,this.a={}}L(bo,fi),bo.prototype.g=function(e){(13==e.keyCode||it&&3==e.keyCode)&&wo(this,e)},bo.prototype.h=function(e){wo(this,e)},bo.prototype.o=function(){bo.K.o.call(this),ri(this.a,"keydown",this.g,!1,this),ri(this.a,"click",this.h,!1,this),delete this.a},L(Io,qn),L(Eo,qn),L(_o,fi),_o.prototype.handleEvent=function(e){var t=new qn(e.a);t.type="focusin"==e.type||"focus"==e.type?"focusin":"focusout",pi(this,t)},_o.prototype.o=function(){_o.K.o.call(this),si(this.g),si(this.h),delete this.a},L(So,fi),(e=So.prototype).Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var e=D()-this.j;0<e&&e<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-e):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),pi(this,"tick"),this.Ka&&(To(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=D())},e.o=function(){So.K.o.call(this),To(this),delete this.a},L(ko,Ln);var Co=[];function Ao(e,t,n,i){w(n)||(n&&(Co[0]=n.toString()),n=Co);for(var r=0;r<n.length;r++){var s=ti(t,n[r],i||e.handleEvent,!1,e.g||e);if(!s)break;e.a[s.key]=s}}function No(e){ae(e.a,(function(e,t){this.a.hasOwnProperty(t)&&si(e)}),e),e.a={}}function Ro(e){fi.call(this),this.a=null,this.g=e,e=Qe||et||it&&!dt("531")&&"TEXTAREA"==e.tagName,this.h=new ko(this),Ao(this.h,this.g,e?["keydown","paste","cut","drop","input"]:"input",this)}function Po(e){null!=e.a&&(d.clearTimeout(e.a),e.a=null)}function Do(e){return(e=new qn(e.a)).type="input",e}function Oo(e,t){fi.call(this),e&&(this.Oa&&Fo(this),this.qa=e,this.Na=ti(this.qa,"keypress",this,t),this.Ya=ti(this.qa,"keydown",this.Jb,t,this),this.Oa=ti(this.qa,"keyup",this.Kb,t,this))}ko.prototype.o=function(){ko.K.o.call(this),No(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},L(Ro,fi),Ro.prototype.handleEvent=function(e){if("input"==e.type)Qe&&dt(10)&&0==e.keyCode&&0==e.j||(Po(this),pi(this,Do(e)));else if("keydown"!=e.type||function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||112<=e.keyCode&&123>=e.keyCode)return!1;if(vo(e.keyCode))return!0;switch(e.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!nt;default:return 166>e.keyCode||183<e.keyCode}}(e)){var t="keydown"==e.type?this.g.value:null;Qe&&229==e.keyCode&&(t=null);var n=Do(e);Po(this),this.a=function(e,t){if(E(e))t&&(e=A(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=A(e.handleEvent,e)}return 2147483647<Number(0)?-1:d.setTimeout(e,0)}((function(){this.a=null,this.g.value!=t&&pi(this,n)}),this)}},Ro.prototype.o=function(){Ro.K.o.call(this),this.h.m(),Po(this),delete this.g},L(Oo,fi),(e=Oo.prototype).qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var Lo={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},xo={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Mo=!it||dt("525"),Uo=st&&nt;function Fo(e){e.Na&&(si(e.Na),si(e.Ya),si(e.Oa),e.Na=null,e.Ya=null,e.Oa=null),e.qa=null,e.R=-1,e.X=-1}function jo(e,t,n,i){qn.call(this,i),this.type="key",this.keyCode=e,this.j=t,this.repeat=n}function Vo(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}function Bo(e,t){var n=Gt(e);return n.defaultView&&n.defaultView.getComputedStyle&&(e=n.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""}function Ho(e){try{var t=e.getBoundingClientRect()}catch(n){return{left:0,top:0,right:0,bottom:0}}return Qe&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t}function Ko(e){var t=Gt(e),n=new Mt(0,0),i=t?Gt(t):document;return e==(i=!Qe||9<=Number(lt)||"CSS1Compat"==Ft(i).a.compatMode?i.documentElement:i.body)||(e=Ho(e),t=Kt(i=Ft(t).a),i=i.parentWindow||i.defaultView,t=Qe&&dt("10")&&i.pageYOffset!=t.scrollTop?new Mt(t.scrollLeft,t.scrollTop):new Mt(i.pageXOffset||t.scrollLeft,i.pageYOffset||t.scrollTop),n.a=e.left+t.a,n.g=e.top+t.g),n}(e=Oo.prototype).Jb=function(e){(it||et)&&(17==this.R&&!e.ctrlKey||18==this.R&&!e.altKey||st&&91==this.R&&!e.metaKey)&&(this.X=this.R=-1),-1==this.R&&(e.ctrlKey&&17!=e.keyCode?this.R=17:e.altKey&&18!=e.keyCode?this.R=18:e.metaKey&&91!=e.keyCode&&(this.R=91)),Mo&&!mo(e.keyCode,this.R,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.X=yo(e.keyCode),Uo&&(this.Ua=e.altKey))},e.Kb=function(e){this.X=this.R=-1,this.Ua=e.altKey},e.handleEvent=function(e){var t=e.a,n=t.altKey;if(Qe&&"keypress"==e.type)var i=this.X,r=13!=i&&27!=i?t.keyCode:0;else(it||et)&&"keypress"==e.type?(i=this.X,r=0<=t.charCode&&63232>t.charCode&&vo(i)?t.charCode:0):Je&&!it?r=vo(i=this.X)?t.keyCode:0:("keypress"==e.type?(Uo&&(n=this.Ua),t.keyCode==t.charCode?32>t.keyCode?(i=t.keyCode,r=0):(i=this.X,r=t.charCode):(i=t.keyCode||this.X,r=t.charCode||0)):(i=t.keyCode||this.X,r=t.charCode||0),st&&63==r&&224==i&&(i=191));var s=i=yo(i);i?63232<=i&&i in Lo?s=Lo[i]:25==i&&e.shiftKey&&(s=9):t.keyIdentifier&&t.keyIdentifier in xo&&(s=xo[t.keyIdentifier]),nt&&Mo&&"keypress"==e.type&&!mo(s,this.R,e.shiftKey,e.ctrlKey,n,e.metaKey)||(e=s==this.R,this.R=s,(t=new jo(s,r,e,t)).altKey=n,pi(this,t))},e.N=function(){return this.qa},e.o=function(){Oo.K.o.call(this),Fo(this)},L(jo,qn),Vo.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Vo.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Vo.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Vo.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var qo={thin:2,medium:4,thick:6};function Go(e,t){if("none"==(e.currentStyle?e.currentStyle[t+"Style"]:null))return 0;var n=e.currentStyle?e.currentStyle[t+"Width"]:null;if(n in qo)e=qo[n];else if(/^\d+px?$/.test(n))e=parseInt(n,10);else{t=e.style.left;var i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n,n=e.style.pixelLeft,e.style.left=t,e.runtimeStyle.left=i,e=+n}return e}function zo(){}function Wo(e){fi.call(this),this.s=e||Ft(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function $o(e,t){return e.g?Vt(t,e.g||e.s.a):null}function Yo(e){return e.L||(e.L=new ko(e)),e.L}function Xo(e,t){e.Ea&&j(e.Ea,t,void 0)}function Zo(e,t){var n=Wt(e,"firebaseui-textfield");t?(fo(e,"firebaseui-input-invalid"),ho(e,"firebaseui-input"),n&&fo(n,"firebaseui-textfield-invalid")):(fo(e,"firebaseui-input"),ho(e,"firebaseui-input-invalid"),n&&ho(n,"firebaseui-textfield-invalid"))}function Jo(e,t,n){Un(e,N(Fn,t=new Ro(t))),Ao(Yo(e),t,"input",n)}function Qo(e,t,n){Un(e,N(Fn,t=new Oo(t))),Ao(Yo(e),t,"key",(function(e){13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),n(e))}))}function eu(e,t,n){Un(e,N(Fn,t=new bo(t))),Ao(Yo(e),t,"action",(function(e){e.stopPropagation(),e.preventDefault(),n(e)}))}function tu(e){ho(e,"firebaseui-hidden")}function nu(e,t){t&&zt(e,t),fo(e,"firebaseui-hidden")}function iu(e){return!lo(e,"firebaseui-hidden")&&"none"!=e.style.display}function ru(e){var t=(e=e||{}).email,n=e.disabled,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return i=e.wc?i+"Enter new email address":i+"Email",i+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+fn(null!=t?t:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',cn(i)}function su(e){var t='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return t=(e=(e=e||{}).label)?t+sn(e):t+"Next",cn(t+"</button>")}function au(){var e=""+su({label:hn("Sign In")});return cn(e)}function ou(){var e=""+su({label:hn("Save")});return cn(e)}function uu(){var e=""+su({label:hn("Continue")});return cn(e)}function cu(e){var t='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return t=(e=(e=e||{}).label)?t+sn(e):t+"Choose password",cn(t+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function lu(){var e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return cn((e={}.current?e+"Current password":e+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function hu(){return cn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function du(e){var t='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return t=(e=(e=e||{}).label)?t+sn(e):t+"Cancel",cn(t+"</button>")}function fu(e){var t="";return e.F&&e.D&&(t+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),cn(t)}function pu(e){var t="";return e.F&&e.D&&(t+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),cn(t)}function gu(e){return e='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+sn(e.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',cn(e)}function mu(e){var t=e.content;return e=e.Ab,cn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(e?" "+fn(e):"")+'">'+sn(t)+"</dialog>")}function vu(e){var t=e.message;return cn(mu({content:dn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+fn(e.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+sn(t)+"</div>")}))}function yu(e){for(var t='<div class="firebaseui-list-box-actions">',n=(e=e.items).length,i=0;i<n;i++){var r=e[i];t+='<button type="button" data-listboxid="'+fn(r.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(r.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+fn(r.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+sn(r.label)+"</div></button>"}return t=""+mu({Ab:hn("firebaseui-list-box-dialog"),content:dn(t+"</div>")}),cn(t)}function bu(e){return cn((e=e||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function wu(e,t){return un((e=(e=e||{}).ga).S?e.S:t.hb[e.providerId]?""+t.hb[e.providerId]:e.providerId&&0==e.providerId.indexOf("saml.")||e.providerId&&0==e.providerId.indexOf("oidc.")?e.providerId.substring(5):""+e.providerId)}function Iu(e){Su(e,"upgradeElement")}function Eu(e){Su(e,"downgradeElements")}y(zo),zo.prototype.a=0,L(Wo,fi),(e=Wo.prototype).Lb=zo.Xa(),e.N=function(){return this.g},e.Za=function(e){if(this.Y&&this.Y!=e)throw Error("Method not supported");Wo.K.Za.call(this,e)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(e){if(this.na)throw Error("Component already rendered");this.g||this.kb(),e?e.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,Xo(this,(function(e){!e.na&&e.N()&&e.v()}))},e.ya=function(){Xo(this,(function(e){e.na&&e.ya()})),this.L&&No(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Xo(this,(function(e){e.m()})),this.g&&qt(this.g),this.Y=this.g=this.oa=this.Ea=null,Wo.K.o.call(this)},e.removeChild=function(e,t){if(e){var n=p(e)?e:e.cb||(e.cb=":"+(e.Lb.a++).toString(36));if(this.oa&&n?e=(null!==(e=this.oa)&&n in e?e[n]:void 0)||null:e=null,n&&e){var i=this.oa;if(n in i&&delete i[n],q(this.Ea,e),t&&(e.ya(),e.g&&qt(e.g)),null==(t=e))throw Error("Unable to set parent component");t.Y=null,Wo.K.Za.call(t,null)}}if(!e)throw Error("Child is not in parent component");return e},gu.a="firebaseui.auth.soy2.element.infoBar",vu.a="firebaseui.auth.soy2.element.progressDialog",yu.a="firebaseui.auth.soy2.element.listBoxDialog",bu.a="firebaseui.auth.soy2.element.busyIndicator";var _u=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Su(e,t){e&&window.componentHandler&&window.componentHandler[t]&&_u.forEach((function(n){lo(e,n)&&window.componentHandler[t](e),j(jt(n,e),(function(e){window.componentHandler[t](e)}))}))}function Tu(e,t,n){if(ku.call(this),document.body.appendChild(e),e.showModal||window.dialogPolyfill.registerDialog(e),e.showModal(),Iu(e),t&&eu(this,e,(function(t){var n=e.getBoundingClientRect();(t.clientX<n.left||n.left+n.width<t.clientX||t.clientY<n.top||n.top+n.height<t.clientY)&&ku.call(this)})),!n){var i=this.N().parentElement||this.N().parentNode;if(i){var r=this;this.da=function(){if(e.open){var t=e.getBoundingClientRect().height,n=i.getBoundingClientRect().height,s=i.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=i.getBoundingClientRect().left-document.body.getBoundingClientRect().left,o=e.getBoundingClientRect().width,u=i.getBoundingClientRect().width;e.style.top=(s+(n-t)/2).toString()+"px",t=a+(u-o)/2,e.style.left=t.toString()+"px",e.style.right=(document.body.getBoundingClientRect().width-t-o).toString()+"px"}else window.removeEventListener("resize",r.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function ku(){var e=Cu.call(this);e&&(Eu(e),e.open&&e.close(),qt(e),this.da&&window.removeEventListener("resize",this.da))}function Cu(){return Vt("firebaseui-id-dialog")}function Au(){qt(Nu.call(this))}function Nu(){return $o(this,"firebaseui-id-info-bar")}function Ru(){return $o(this,"firebaseui-id-dismiss-info-bar")}var Pu={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Du(e,t,n){for(var i in Kn.call(this,e,t),n)this[i]=n[i]}function Ou(e,t,n,i,r){Wo.call(this,n),this.fb=e,this.eb=t,this.Fa=!1,this.Ga=i||null,this.A=this.ca=null,this.Z=oe(Pu),ce(this.Z,r||{})}function Lu(e){return e.N().parentElement||e.N().parentNode}function xu(e,t,n){Qo(e,t,(function(){n.focus()}))}function Mu(e,t,n){Qo(e,t,(function(){n()}))}function Uu(e,t,n){t=(e=e||{}).Va;var i=e.ia;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?du(null):"")+su(null)+'</div></div><div class="firebaseui-card-footer">'+(i?pu(n):fu(n))+"</div></form></div>",cn(e)}function Fu(e,t,n){return t=(e=e||{}).ia,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ru(e)+lu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hu()+'</div><div class="firebaseui-form-actions">'+au()+'</div></div><div class="firebaseui-card-footer">'+(t?pu(n):fu(n))+"</div></form></div>",cn(e)}function ju(e,t,n){var i=(e=e||{}).Tb;t=e.Ta;var r=e.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ru(e);return i?(e='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+fn(null!=(e=(e=e||{}).name)?e:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',e=cn(e)):e="",n=s+e+cu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?du(null):"")+ou()+'</div></div><div class="firebaseui-card-footer">'+(r?pu(n):fu(n))+"</div></form></div>",cn(n)}function Vu(e,t,n){return t=(e=e||{}).Ta,e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ru(e)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(t?du(null):"")+su({label:hn("Send")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(e)}function Bu(e,t,n){t=e.G;var i="";return i+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Follow the instructions sent to <strong>"+sn(e.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',t&&(i+='<div class="firebaseui-form-actions">'+su({label:hn("Done")})+"</div>"),i+='</div><div class="firebaseui-card-footer">'+fu(n)+"</div></div>",cn(i)}function Hu(e,t,n){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+bu(null)+"</div></div>")}function Ku(e,t,n){return cn('<div class="firebaseui-container firebaseui-id-page-spinner">'+bu({tb:!0})+"</div>")}function qu(){return cn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Gu(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(e="A sign-in email with additional instructions was sent to <strong>"+sn(e.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+du({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(t)}function zu(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+du({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(e)}function Wu(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ru(e)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+du(null)+su(null)+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(e)}function $u(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+du({label:hn("Dismiss")})+"</div></div></div>";return cn(e)}function Yu(){var e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+du({label:hn("Dismiss")})+"</div></div></div>";return cn(e)}function Xu(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(e="You\u2019ve already used <strong>"+sn(e.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+lu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+hu()+'</div><div class="firebaseui-form-actions">'+au()+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(t)}function Zu(e,t,n){var i=e.email;return t="",e=hn(e=""+wu(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(i="You\u2019ve already used <strong>"+sn(i)+"</strong>. You can connect your <strong>"+sn(e)+"</strong> account with <strong>"+sn(i)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(e="For this flow to successfully connect your "+sn(e)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+au()+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(t)}function Ju(e,t,n){t="";var i=""+wu(e,n);return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(e="You originally intended to connect <strong>"+sn(i=hn(i))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(i="If you still want to connect your <strong>"+sn(i)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+uu()+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(t)}function Qu(e,t,n){var i=e.email;return t="",e=hn(e=""+wu(e,n)),t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(i="You\u2019ve already used <strong>"+sn(i)+"</strong>. Sign in with "+sn(e)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+su({label:hn("Sign in with "+e)})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(t)}function ec(e,t,n){var i=(e=e||{}).kc;t=e.yb,e=e.Eb;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i?r+=i="<strong>"+sn(i)+"</strong> is not authorized to view the requested page.":r+="User is not authorized to view the requested page.",r+="</p>",t&&(r+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(t="Please contact <strong>"+sn(t)+"</strong> for authorization.")+"</p>"),r+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',e&&(r+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),r+='</div><div class="firebaseui-form-actions">'+du({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(r)}function tc(e,t,n){return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="To continue sign in with <strong>"+sn(e.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+du(null)+su({label:hn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(t)}function nc(e){var t="";return t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+('<p class="firebaseui-text">for <strong>'+sn(e.email)+"</strong></p>")+cu(function(e){function t(){}var n={label:hn("New password")};for(var i in t.prototype=e,e=new t,n)e[i]=n[i];return e}(e))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ou()+"</div></div></form></div>",cn(t)}function ic(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(e)}function rc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(e)}function sc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="Your sign-in email address has been changed back to <strong>"+sn(e.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></form></div>",cn(n)}function ac(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(e)}function oc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(e)}function uc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(e)}function cc(e){var t=e.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(e="You can now sign in with your new email <strong>"+sn(e.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(n)}function lc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(e)}function hc(e){var t=e.factorId,n=e.phoneNumber;e=e.G;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';if("phone"===t)i+=t="The <strong>"+sn(t)+" "+sn(n)+"</strong> was removed as a second authentication step.";else i+="The device or app was removed as a second authentication step.";return i+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></form></div>",cn(i)}function dc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((e=e||{}).G?'<div class="firebaseui-form-actions">'+uu()+"</div>":"")+"</div></div>",cn(e)}function fc(e){var t=e.zb;return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(e.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',t&&(e+=su({label:hn("Retry")})),cn(e+"</div></div></div>")}function pc(e){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+sn(e.errorMessage)+"</p></div></div>",cn(e)}function gc(e,t,n){var i=e.Qb;return t="",t+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(e="Continue with "+sn(e.jc)+"?")+'</h2><p class="firebaseui-text">'+(i="You originally wanted to sign in with "+sn(i))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+du(null)+su({label:hn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form></div>",cn(t)}function mc(e,t,n){var i='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';t=(e=e.Sb).length;for(var r=0;r<t;r++){var s={ga:e[r]},a=n,o=(s=s||{}).ga,u=s,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+fn(un(c))+' firebaseui-id-idp-button" data-provider-id="'+fn(o.providerId)+'" style="background-color:')+fn(gn(un((c=(c=(c=s)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=s;c=a,l=(l=l||{}).ga,c=ln(l.za?pn(l.za):c.xa[l.providerId]?pn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?pn(c.xa.saml):0==l.providerId.indexOf("oidc.")?pn(c.xa.oidc):pn(c.xa.password)),u=u+fn(pn(c))+'"></span>',"password"==o.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?u+=sn(o.V):o.S?u+=s="Sign in with "+sn(wu(s,a)):u+="Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=o.S?u+sn(o.S):u+"Email",u+="</span>"):"phone"==o.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?u+=sn(o.V):o.S?u+=s="Sign in with "+sn(wu(s,a)):u+="Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=o.S?u+sn(o.S):u+"Phone",u+="</span>"):"anonymous"==o.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?u+=sn(o.V):o.S?u+=s="Sign in with "+sn(wu(s,a)):u+="Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=o.S?u+sn(o.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',o.V?u+=sn(o.V):u+=c="Sign in with "+sn(wu(s,a)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(o.S?sn(o.S):sn(wu(s,a)))+"</span>"),i+='<li class="firebaseui-list-item">'+(o=cn(u+"</button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pu(n)+"</div></div>",cn(i)}function vc(e,t,n){var i,r=(e=e||{}).Gb,s=e.Va;return t=e.ia,e='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+fn(null!=(e=(e=e||{}).Aa)?e:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i=(e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+cn(e))+(i=r?cn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(s?du(null):"")+su({label:hn("Verify")})+'</div></div><div class="firebaseui-card-footer">',t?(t='<p class="firebaseui-tos firebaseui-phone-tos">',t=n.F&&n.D?t+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':t+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",n=cn(t+"</p>")):n=cn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+fu(n),cn(i+n+"</div></form></div>")}function yc(e,t,n){var i="";return e='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+sn(t=(e=e||{}).phoneNumber)+"</a>",sn(t),t=i,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+e+"</p>"+(i=cn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+du(null)+su({label:hn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+fu(n)+"</div></form>",e=cn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),cn(t+(n+e+"</div>"))}function bc(){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function wc(e,t,n){var i='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';t=(e=e.ec).length;for(var r=0;r<t;r++){var s=e[r],a="",o=sn(s.displayName),u=s.tenantId?s.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+fn(u=hn(u))+' firebaseui-id-tenant-selection-button"'+(s.tenantId?'data-tenant-id="'+fn(s.tenantId)+'"':"")+'style="background-color:'+fn(gn(s.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+fn(pn(s.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s.V?a+=sn(s.V):a+=s="Sign in to "+sn(s.displayName),i+='<li class="firebaseui-list-item">'+(a=cn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+o+"</span></button>"))+"</li>"}return i+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pu(n)+"</div></div>",cn(i)}function Ic(e,t,n){return e='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ru(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+su(null)+'</div></div><div class="firebaseui-card-footer">'+pu(n)+"</div></form></div>",cn(e)}function Ec(){return $o(this,"firebaseui-id-submit")}function _c(){return $o(this,"firebaseui-id-secondary-link")}function Sc(e,t){eu(this,Ec.call(this),(function(t){e(t)}));var n=_c.call(this);n&&t&&eu(this,n,(function(e){t(e)}))}function Tc(){return $o(this,"firebaseui-id-password")}function kc(){return $o(this,"firebaseui-id-password-error")}function Cc(){var e=Tc.call(this),t=kc.call(this);Jo(this,e,(function(){iu(t)&&(Zo(e,!0),tu(t))}))}function Ac(){var e=Tc.call(this),t=kc.call(this);return po(e)?(Zo(e,!0),tu(t),t=!0):(Zo(e,!1),nu(t,un("Enter your password").toString()),t=!1),t?po(e):null}function Nc(e,t,n,i,r,s){Ou.call(this,Xu,{email:e},s,"passwordLinking",{F:i,D:r}),this.w=t,this.H=n}L(Du,Kn),L(Ou,Wo),(e=Ou.prototype).kb=function(){var e=en(this.fb,this.eb,this.Z,this.s);Iu(e),this.g=e},e.v=function(){if(Ou.K.v.call(this),yi(Lu(this),new Du("pageEnter",Lu(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var e=this.Z.F;eu(this,this.bb(),(function(){e()}))}if(this.ab()&&this.Z.D){var t=this.Z.D;eu(this,this.ab(),(function(){t()}))}},e.ya=function(){yi(Lu(this),new Du("pageExit",Lu(this),{pageId:this.Ga})),Ou.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Eu(this.N()),Ou.K.o.call(this)},e.I=function(e,t,n,i){function r(){if(s.T)return null;s.Fa=!1,window.clearTimeout(s.ca),s.ca=null,s.A&&(Eu(s.A),qt(s.A),s.A=null)}var s=this;return s.Fa?null:(function(e){e.Fa=!0;var t=lo(e.N(),"firebaseui-use-spinner");e.ca=window.setTimeout((function(){e.N()&&null===e.A&&(e.A=en(bu,{tb:t},null,e.s),e.N().appendChild(e.A),Iu(e.A))}),500)}(s),e.apply(null,t).then(n,i).then(r,r))},R(Ou.prototype,{a:function(e){Au.call(this);var t=en(gu,{message:e},null,this.s);this.N().appendChild(t),eu(this,Ru.call(this),(function(){qt(t)}))},yc:Au,Ac:Nu,zc:Ru,$:function(e,t){e=en(vu,{Ma:e,message:t},null,this.s),Tu.call(this,e)},h:ku,Cb:Cu,Cc:function(){return $o(this,"firebaseui-tos")},bb:function(){return $o(this,"firebaseui-tos-link")},ab:function(){return $o(this,"firebaseui-pp-link")},Dc:function(){return $o(this,"firebaseui-tos-list")}}),Uu.a="firebaseui.auth.soy2.page.signIn",Fu.a="firebaseui.auth.soy2.page.passwordSignIn",ju.a="firebaseui.auth.soy2.page.passwordSignUp",Vu.a="firebaseui.auth.soy2.page.passwordRecovery",Bu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Hu.a="firebaseui.auth.soy2.page.callback",Ku.a="firebaseui.auth.soy2.page.spinner",qu.a="firebaseui.auth.soy2.page.blank",Gu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",zu.a="firebaseui.auth.soy2.page.emailNotReceived",Wu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",$u.a="firebaseui.auth.soy2.page.differentDeviceError",Yu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Xu.a="firebaseui.auth.soy2.page.passwordLinking",Zu.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Ju.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Qu.a="firebaseui.auth.soy2.page.federatedLinking",ec.a="firebaseui.auth.soy2.page.unauthorizedUser",tc.a="firebaseui.auth.soy2.page.unsupportedProvider",nc.a="firebaseui.auth.soy2.page.passwordReset",ic.a="firebaseui.auth.soy2.page.passwordResetSuccess",rc.a="firebaseui.auth.soy2.page.passwordResetFailure",sc.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",ac.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",oc.a="firebaseui.auth.soy2.page.emailVerificationSuccess",uc.a="firebaseui.auth.soy2.page.emailVerificationFailure",cc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",lc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",hc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",dc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",fc.a="firebaseui.auth.soy2.page.recoverableError",pc.a="firebaseui.auth.soy2.page.unrecoverableError",gc.a="firebaseui.auth.soy2.page.emailMismatch",mc.a="firebaseui.auth.soy2.page.providerSignIn",vc.a="firebaseui.auth.soy2.page.phoneSignInStart",yc.a="firebaseui.auth.soy2.page.phoneSignInFinish",bc.a="firebaseui.auth.soy2.page.signOut",wc.a="firebaseui.auth.soy2.page.selectTenant",Ic.a="firebaseui.auth.soy2.page.providerMatchByEmail",u(Nc,Ou),Nc.prototype.v=function(){this.P(),this.M(this.w,this.H),Mu(this,this.i(),this.w),this.i().focus(),Ou.prototype.v.call(this)},Nc.prototype.o=function(){this.w=null,Ou.prototype.o.call(this)},Nc.prototype.j=function(){return po($o(this,"firebaseui-id-email"))},R(Nc.prototype,{i:Tc,B:kc,P:Cc,u:Ac,ea:Ec,ba:_c,M:Sc});var Rc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Pc(){return $o(this,"firebaseui-id-email")}function Dc(){return $o(this,"firebaseui-id-email-error")}function Oc(e){var t=Pc.call(this),n=Dc.call(this);Jo(this,t,(function(){iu(n)&&(Zo(t,!0),tu(n))})),e&&Qo(this,t,(function(){e()}))}function Lc(){return X(po(Pc.call(this))||"")}function xc(){var e=Pc.call(this),t=Dc.call(this),n=po(e)||"";return n?Rc.test(n)?(Zo(e,!0),tu(t),t=!0):(Zo(e,!1),nu(t,un("That email address isn't correct").toString()),t=!1):(Zo(e,!1),nu(t,un("Enter your email address to continue").toString()),t=!1),t?X(po(e)):null}function Mc(e,t,n,i,r,s,a){Ou.call(this,Fu,{email:n,ia:!!s},a,"passwordSignIn",{F:i,D:r}),this.w=e,this.H=t}function Uc(e,t,n,i,r,s){Ou.call(this,e,t,i,r||"notice",s),this.i=n||null}function Fc(e,t,n,i,r){Uc.call(this,Bu,{email:e,G:!!t},t,r,"passwordRecoveryEmailSent",{F:n,D:i})}function jc(e,t){Uc.call(this,oc,{G:!!e},e,t,"emailVerificationSuccess")}function Vc(e,t){Uc.call(this,uc,{G:!!e},e,t,"emailVerificationFailure")}function Bc(e,t,n){Uc.call(this,cc,{email:e,G:!!t},t,n,"verifyAndChangeEmailSuccess")}function Hc(e,t){Uc.call(this,lc,{G:!!e},e,t,"verifyAndChangeEmailFailure")}function Kc(e,t){Uc.call(this,dc,{G:!!e},e,t,"revertSecondFactorAdditionFailure")}function qc(e){Uc.call(this,bc,void 0,void 0,e,"signOut")}function Gc(e,t){Uc.call(this,ic,{G:!!e},e,t,"passwordResetSuccess")}function zc(e,t){Uc.call(this,rc,{G:!!e},e,t,"passwordResetFailure")}function Wc(e,t){Uc.call(this,ac,{G:!!e},e,t,"emailChangeRevokeFailure")}function $c(e,t,n){Uc.call(this,fc,{errorMessage:e,zb:!!t},t,n,"recoverableError")}function Yc(e,t){Uc.call(this,pc,{errorMessage:e},void 0,t,"unrecoverableError")}function Xc(e){if("auth/invalid-credential"===e.code&&e.message&&-1!==e.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(e.message&&-1!==e.message.indexOf("HTTP Cloud Function returned an error:")){var t=JSON.parse(e.message.substring(e.message.indexOf("{"),e.message.lastIndexOf("}")+1));return{code:e.code,message:t&&t.error&&t.error.message||e.message}}return e}function Zc(e,t,n,i){function r(n){if(!n.name||"cancel"!=n.name){e:{var i=n.message;try{var r=((JSON.parse(i).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(r&&r.length){var s=!0;break e}}catch(a){}s=!1}if(s)n=Lu(t),t.m(),rl(e,n,void 0,un("Your sign-in session has expired. Please try again.").toString());else{if(s=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;s=el(n)}t.a(s)}}}if(Nh(e),i)return Jc(e,n),Ki();if(!n.credential)throw Error("No credential found!");if(!bh(e).currentUser&&!n.user)throw Error("User not logged in.");try{var s=function(e,t){return Dh(e),kh(e,(function(n){if(e.j&&!e.j.isAnonymous&&ka(Ph(e))&&!bh(e).currentUser)return Lh(e).then((function(){return"password"==t.credential.providerId&&(t.credential=null),t}));if(n)return Lh(e).then((function(){return n.linkWithCredential(t.credential)})).then((function(e){return t.user=e.user,t.credential=e.credential,t.operationType=e.operationType,t.additionalUserInfo=e.additionalUserInfo,t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return xh(e,n,t.credential)}));if(!t.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Lh(e).then((function(){return wh(e).updateCurrentUser(t.user)})).then((function(){return t.user=wh(e).currentUser,t.operationType="signIn",t.credential&&t.credential.providerId&&"password"==t.credential.providerId&&(t.credential=null),t}))}))}(e,n)}catch(a){return zr(a.code||a.message,a),t.a(a.code||a.message),Ki()}return n=s.then((function(t){Jc(e,t)}),r).then(void 0,r),Ah(e,s),Ki(n)}function Jc(e,t){if(!t.user)throw Error("No user found");var n=za(Ph(e));if(Ga(Ph(e))&&n&&Xr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=za(Ph(e));var i=Js(Ih(e))||void 0;Xs(zs,Ih(e));var r=!1;nr()?(n&&!n(t,i)||(r=!0,xt(window.opener.location,Qc(e,i))),n||window.close()):n&&!n(t,i)||(r=!0,xt(window.location,Qc(e,i))),r||e.reset()}else{n=t.user,t=t.credential,i=Ga(Ph(e)),r=Js(Ih(e))||void 0,Xs(zs,Ih(e));var s=!1;nr()?(i&&!i(n,t,r)||(s=!0,xt(window.opener.location,Qc(e,r))),i||window.close()):i&&!i(n,t,r)||(s=!0,xt(window.location,Qc(e,r))),s||e.reset()}}function Qc(e,t){if(!(e=t||Ph(e).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return e}function el(e){var t={code:e.code},n="";switch((t=t||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":n+=Pn();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=kn();break;case"auth/invalid-verification-code":n+=un("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(t=un(n).toString())return t;try{return JSON.parse(e.message),zr("Internal error: "+e.message,void 0),An().toString()}catch(i){return e.message}}function tl(e,t,n,r){function s(){!function(e,t){Zs(Gs,{tenantId:e.a},t)}(new ss(e.h.tenantId||null),Ih(e)),Ah(e,t.I(A(e.dc,e),[c],(function(){if("file:"===(window.location&&window.location.protocol))return Ah(e,mh(e).then((function(n){t.m(),Xs(Gs,Ih(e)),uo("callback",e,u,Ki(n))}),a))}),o))}function a(i){if(Xs(Gs,Ih(e)),!i.name||"cancel"!=i.name)switch(i=Xc(i),i.code){case"auth/popup-blocked":s();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":t.a(el(i));break;case"auth/admin-restricted-operation":t.m(),La(Ph(e))?uo("handleUnauthorizedUser",e,u,null,n):uo("callback",e,u,qi(i));break;default:t.m(),uo("callback",e,u,qi(i))}}function o(n){Xs(Gs,Ih(e)),n.name&&"cancel"==n.name||(zr("signInWithRedirect: "+n.code,void 0),n=el(n),"blank"==t.Ga&&Ka(Ph(e))?(t.m(),uo("providerSignIn",e,u,n)):t.a(n))}var u=Lu(t),c=function(e,t,n){var r=Sa[t]&&i.Z.auth[Sa[t]]?new i.Z.auth[Sa[t]]:0==t.indexOf("saml.")?new i.Z.auth.SAMLAuthProvider(t):new i.Z.auth.OAuthProvider(t);if(!r)throw Error("Invalid Firebase Auth provider!");var s=xa(Ph(e),t);if(r.addScope)for(var a=0;a<s.length;a++)r.addScope(s[a]);return s=Ma(Ph(e),t)||{},n&&(e=t==i.Z.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":t==i.Z.auth.GithubAuthProvider.PROVIDER_ID?"login":(e=Ra(Ph(e),t))&&e.Ob)&&(s[e]=n),r.setCustomParameters&&r.setCustomParameters(s),r}(e,n,r);qa(Ph(e))==no?s():Ah(e,function(e,t){return Dh(e),kh(e,(function(n){return n&&!Qs(Ih(e))?n.linkWithPopup(t).then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return xh(e,t)})):bh(e).signInWithPopup(t)}))}(e,c).then((function(n){t.m(),uo("callback",e,u,Ki(n))}),a))}function nl(e){return 1==(e=Na(Ph(e))).length&&e[0]==i.Z.auth.EmailAuthProvider.PROVIDER_ID}function il(e){return 1==(e=Na(Ph(e))).length&&e[0]==i.Z.auth.PhoneAuthProvider.PROVIDER_ID}function rl(e,t,n,i){nl(e)?i?uo("signIn",e,t,n,i):ul(e,t,n):e&&il(e)&&!i?uo("phoneSignInStart",e,t):e&&Ka(Ph(e))&&!i?uo("federatedRedirect",e,t,n):uo("providerSignIn",e,t,i,n)}function sl(e,t,n,i){var r=Lu(t);Ah(e,t.I(A(bh(e).fetchSignInMethodsForEmail,bh(e)),[n],(function(s){t.m(),al(e,r,s,n,i)}),(function(e){e=el(e),t.a(e)})))}function al(e,t,n,r,s,a){n.length||Ha(Ph(e))&&!Ha(Ph(e))?K(n,i.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?uo("passwordSignIn",e,t,r,a):1==n.length&&n[0]===i.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ha(Ph(e))?uo("sendEmailLinkForSignIn",e,t,r,(function(){uo("signIn",e,t)})):uo("unsupportedProvider",e,t,r):(n=Ea(n,Na(Ph(e))))?(ta(new ns(r),Ih(e)),uo("federatedSignIn",e,t,r,n,s)):uo("unsupportedProvider",e,t,r):Oa(Ph(e))?uo("handleUnauthorizedUser",e,t,r,i.Z.auth.EmailAuthProvider.PROVIDER_ID):Ha(Ph(e))?uo("sendEmailLinkForSignIn",e,t,r,(function(){uo("signIn",e,t)})):uo("passwordSignUp",e,t,r,void 0,void 0,a)}function ol(e,t,n,i,r,s){var a=Lu(t);Ah(e,t.I(A(e.Ib,e),[n,s],(function(){t.m(),uo("emailLinkSignInSent",e,a,n,i,s)}),r))}function ul(e,t,n){n?uo("prefilledEmailSignIn",e,t,n):uo("signIn",e,t)}function cl(){return we(sr(),"oobCode")}function ll(){var e=we(sr(),"continueUrl");return e?function(){xt(window.location,e)}:null}function hl(e,t){Ou.call(this,Yu,void 0,t,"anonymousUserMismatch"),this.i=e}function dl(e){Ou.call(this,Hu,void 0,e,"callback")}function fl(e,t,n){if(n.user){var i={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},r=Qs(Ih(e)),s=r&&r.g;if(s&&!function(e,t){if(t==e.email)return!0;if(e.providerData)for(var n=0;n<e.providerData.length;n++)if(t==e.providerData[n].email)return!0;return!1}(n.user,s))!function(e,t,n){var i=Lu(t);Ah(e,Lh(e).then((function(){t.m(),uo("emailMismatch",e,i,n)}),(function(e){e.name&&"cancel"==e.name||(e=el(e.code),t.a(e))})))}(e,t,i);else{var a=r&&r.a;a?Ah(e,n.user.linkWithCredential(a).then((function(n){i={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},pl(e,t,i)}),(function(n){gl(e,t,n)}))):pl(e,t,i)}}else n=Lu(t),t.m(),ea(Ih(e)),rl(e,n)}function pl(e,t,n){ea(Ih(e)),Zc(e,t,n)}function gl(e,t,n){var i=Lu(t);ea(Ih(e)),n=el(n),t.m(),rl(e,i,void 0,n)}function ml(e,t,n,r){var s=Lu(t);Ah(e,bh(e).fetchSignInMethodsForEmail(n).then((function(a){t.m(),a.length?K(a,i.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?uo("passwordLinking",e,s,n):1==a.length&&a[0]===i.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?uo("emailLinkSignInLinking",e,s,n):(a=Ea(a,Na(Ph(e))))?uo("federatedLinking",e,s,n,a,r):(ea(Ih(e)),uo("unsupportedProvider",e,s,n)):(ea(Ih(e)),uo("passwordRecovery",e,s,n,!1,Nn().toString()))}),(function(n){gl(e,t,n)})))}function vl(e,t){Ou.call(this,$u,void 0,t,"differentDeviceError"),this.i=e}function yl(e,t,n,i){Ou.call(this,sc,{email:e,G:!!n},i,"emailChangeRevoke"),this.l=t,this.i=n||null}function bl(){return $o(this,"firebaseui-id-new-password")}function wl(){return $o(this,"firebaseui-id-password-toggle")}function Il(){this.Ra=!this.Ra;var e=wl.call(this),t=bl.call(this);this.Ra?(t.type="text",ho(e,"firebaseui-input-toggle-off"),fo(e,"firebaseui-input-toggle-on")):(t.type="password",ho(e,"firebaseui-input-toggle-on"),fo(e,"firebaseui-input-toggle-off")),t.focus()}function El(){return $o(this,"firebaseui-id-new-password-error")}function _l(){this.Ra=!1;var e=bl.call(this);e.type="password";var t=El.call(this);Jo(this,e,(function(){iu(t)&&(Zo(e,!0),tu(t))}));var n=wl.call(this);ho(n,"firebaseui-input-toggle-on"),fo(n,"firebaseui-input-toggle-off"),function(e,t,n){Un(e,N(Fn,t=new _o(t))),Ao(Yo(e),t,"focusin",n)}(this,e,(function(){ho(n,"firebaseui-input-toggle-focus"),fo(n,"firebaseui-input-toggle-blur")})),function(e,t,n){Un(e,N(Fn,t=new _o(t))),Ao(Yo(e),t,"focusout",n)}(this,e,(function(){ho(n,"firebaseui-input-toggle-blur"),fo(n,"firebaseui-input-toggle-focus")})),eu(this,n,A(Il,this))}function Sl(){var e=bl.call(this),t=El.call(this);return po(e)?(Zo(e,!0),tu(t),t=!0):(Zo(e,!1),nu(t,un("Enter your password").toString()),t=!1),t?po(e):null}function Tl(e,t,n){Ou.call(this,nc,{email:e},n,"passwordReset"),this.l=t}function kl(e,t,n,i,r){Ou.call(this,hc,{factorId:e,phoneNumber:n||null,G:!!i},r,"revertSecondFactorAdditionSuccess"),this.l=t,this.i=i||null}function Cl(e,t,n,i){"auth/weak-password"==(i&&i.code)?(e=el(i),Zo(n.i(),!1),nu(n.w(),e),n.i().focus()):(n&&n.m(),(n=new zc).render(t),vh(e,n))}function Al(e,t){try{var n="number"==typeof e.selectionStart}catch(i){n=!1}n?(e.selectionStart=t,e.selectionEnd=t):Qe&&!dt("9")&&("textarea"==e.type&&(t=e.value.substring(0,t).replace(/(\r\n|\r|\n)/g,"\n").length),(e=e.createTextRange()).collapse(!0),e.move("character",t),e.select())}function Nl(e,t,n,i,r,s){Ou.call(this,Wu,{email:n},s,"emailLinkSignInConfirmation",{F:i,D:r}),this.l=e,this.u=t}function Rl(e,t,n,i,r){Ou.call(this,Ju,{ga:e},r,"emailLinkSignInLinkingDifferentDevice",{F:n,D:i}),this.i=t}function Pl(e){Ou.call(this,qu,void 0,e,"blank")}function Dl(e,t,n,r,s){var a=new Pl,o=new Be(n),u=o.a.a.get(Ge.$a)||"",c=o.a.a.get(Ge.Sa)||"",l="1"===o.a.a.get(Ge.Qa),h=He(o),d=o.a.a.get(Ge.PROVIDER_ID)||null;o=o.a.a.get(Ge.vb)||null,Rh(e,o);var f=!Ys(Ws,Ih(e)),p=r||function(e,t){var n=null;if(t=Ys(Ws,t))try{var i=Cs(e,t),r=JSON.parse(i);n=r&&r.email||null}catch(a){}return n}(c,Ih(e)),g=(r=function(e,t){var n=null;if(t=Ys($s,t))try{var i=Cs(e,t);n=JSON.parse(i)}catch(s){}return rs(n||null)}(c,Ih(e)))&&r.a;d&&g&&g.providerId!==d&&(g=null),a.render(t),vh(e,a),Ah(e,a.I((function(){var t=Ki(null);t=h&&f||f&&l?qi(Error("anonymous-user-not-found")):function(e,t){var n=He(new Be(t));return n?(t=new Mi((function(t,i){var r=wh(e).onAuthStateChanged((function(e){r(),e&&e.isAnonymous&&e.uid===n?t(e):e&&e.isAnonymous&&e.uid!==n?i(Error("anonymous-user-mismatch")):i(Error("anonymous-user-not-found"))}));Ah(e,r)})),Ah(e,t),t):Ki(null)}(e,n).then((function(e){if(d&&!g)throw Error("pending-credential-not-found");return e}));var i=null;return t.then((function(t){return i=t,s?null:bh(e).checkActionCode(u)})).then((function(){return i}))}),[],(function(r){p?function(e,t,n,r,s,a){var o=Lu(t);t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Signing in...").toString());var u=null;s=(a?function(e,t,n,r,s){Dh(e);var a=s||null,o=i.Z.auth.EmailAuthProvider.credentialWithLink(n,r);return n=a?bh(e).signInWithEmailLink(n,r).then((function(e){return e.user.linkWithCredential(a)})).then((function(){return Lh(e)})).then((function(){return xh(e,{code:"auth/email-already-in-use"},a)})):bh(e).fetchSignInMethodsForEmail(n).then((function(n){return n.length?xh(e,{code:"auth/email-already-in-use"},o):t.linkWithCredential(o)})),Ah(e,n),n}(e,a,n,r,s):function(e,t,n,i){Dh(e);var r,s=i||null;return t=bh(e).signInWithEmailLink(t,n).then((function(e){if(r={user:e.user,credential:null,operationType:e.operationType,additionalUserInfo:e.additionalUserInfo},s)return e.user.linkWithCredential(s).then((function(e){r={user:e.user,credential:s,operationType:r.operationType,additionalUserInfo:e.additionalUserInfo}}))})).then((function(){Lh(e)})).then((function(){return wh(e).updateCurrentUser(r.user)})).then((function(){return r.user=wh(e).currentUser,r})),Ah(e,t),t}(e,n,r,s)).then((function(n){Xs($s,Ih(e)),Xs(Ws,Ih(e)),t.h(),t.$("firebaseui-icon-done",un("Signed in!").toString()),u=setTimeout((function(){t.h(),Zc(e,t,n,!0)}),1e3),Ah(e,(function(){t&&(t.h(),t.m()),clearTimeout(u)}))}),(function(i){if(t.h(),t.m(),!i.name||"cancel"!=i.name){var s=el(i=Xc(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Xs($s,Ih(e)),Xs(Ws,Ih(e))):"auth/invalid-email"==i.code?(s=un("The email provided does not match the current sign-in session.").toString(),uo("emailLinkConfirmation",e,o,r,Ol,null,s)):rl(e,o,n,s)}})),Ah(e,s)}(e,a,p,n,g,r):l?(a.m(),uo("differentDeviceError",e,t)):(a.m(),uo("emailLinkConfirmation",e,t,n,Ol))}),(function(i){var r=void 0;if(!i||!i.name||"cancel"!=i.name)switch(a.m(),i&&i.message){case"anonymous-user-not-found":uo("differentDeviceError",e,t);break;case"anonymous-user-mismatch":uo("anonymousUserMismatch",e,t);break;case"pending-credential-not-found":uo("emailLinkNewDeviceLinking",e,t,n,Ll);break;default:i&&(r=el(i)),rl(e,t,void 0,r)}})))}function Ol(e,t,n,i){Dl(e,t,i,n,!0)}function Ll(e,t,n){Dl(e,t,n)}function xl(e,t,n,i,r,s){Ou.call(this,Zu,{email:e,ga:t},s,"emailLinkSignInLinking",{F:i,D:r}),this.i=n}function Ml(e,t,n,i,r,s){Ou.call(this,Gu,{email:e},s,"emailLinkSignInSent",{F:i,D:r}),this.u=t,this.i=n}function Ul(e,t,n,i,r,s,a){Ou.call(this,gc,{jc:e,Qb:t},a,"emailMismatch",{F:r,D:s}),this.l=n,this.i=i}function Fl(e,t,n,i,r){Ou.call(this,zu,void 0,r,"emailNotReceived",{F:n,D:i}),this.l=e,this.i=t}function jl(e,t,n,i,r,s){Ou.call(this,Qu,{email:e,ga:t},s,"federatedLinking",{F:i,D:r}),this.i=n}function Vl(e,t,n,i,r,s){Ou.call(this,Vu,{email:n,Ta:!!t},s,"passwordRecovery",{F:i,D:r}),this.l=e,this.u=t}function Bl(){return $o(this,"firebaseui-id-name")}function Hl(){return $o(this,"firebaseui-id-name-error")}function Kl(e,t,n,i,r,s,a,o,u){Ou.call(this,ju,{email:i,Tb:e,name:r,Ta:!!n,ia:!!o},u,"passwordSignUp",{F:s,D:a}),this.w=t,this.H=n,this.B=e}function ql(e,t){var n=Ba(Ph(e)),r=t.j(),s=null;n&&(s=t.M());var a=t.P();if(r){if(n){if(!s)return void t.u().focus();s=se(s)}if(a){var o=i.Z.auth.EmailAuthProvider.credential(r,a);Ah(e,t.I(A(e.Yb,e),[r,a],(function(i){var r={user:i.user,credential:o,operationType:i.operationType,additionalUserInfo:i.additionalUserInfo};return n?(i=i.user.updateProfile({displayName:s}).then((function(){return Zc(e,t,r)})),Ah(e,i),i):Zc(e,t,r)}),(function(n){if(!n.name||"cancel"!=n.name){var s=Xc(n);switch(n=el(s),s.code){case"auth/email-already-in-use":return function(e,t,n,i){function r(){var e=el(i);Zo(t.i(),!1),nu(t.U(),e),t.i().focus()}var s=bh(e).fetchSignInMethodsForEmail(n).then((function(i){i.length?r():(i=Lu(t),t.m(),uo("passwordRecovery",e,i,n,!1,Nn().toString()))}),(function(){r()}));return Ah(e,s),s}(e,t,r,s);case"auth/too-many-requests":n=un("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Zo(t.l(),!1),nu(t.ba(),n);break;case"auth/admin-restricted-operation":La(Ph(e))?(n=Lu(t),t.m(),uo("handleUnauthorizedUser",e,n,r,i.Z.auth.EmailAuthProvider.PROVIDER_ID)):t.a(n);break;default:zr(s="setAccountInfo: "+Ns(s),void 0),t.a(n)}}})))}else t.l().focus()}else t.i().focus()}function Gl(){return $o(this,"firebaseui-id-phone-confirmation-code")}function zl(){return $o(this,"firebaseui-id-phone-confirmation-code-error")}function Wl(){return $o(this,"firebaseui-id-resend-countdown")}function $l(e,t,n,i,r,s,a,o,u){Ou.call(this,yc,{phoneNumber:r},u,"phoneSignInFinish",{F:a,D:o}),this.jb=s,this.i=new So(1e3),this.B=s,this.P=e,this.l=t,this.H=n,this.M=i}u(Mc,Ou),Mc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),xu(this,this.l(),this.i()),Mu(this,this.i(),this.w),po(this.l())?this.i().focus():this.l().focus(),Ou.prototype.v.call(this)},Mc.prototype.o=function(){this.H=this.w=null,Ou.prototype.o.call(this)},R(Mc.prototype,{l:Pc,U:Dc,P:Oc,M:Lc,j:xc,i:Tc,B:kc,ea:Cc,u:Ac,ua:Ec,pa:_c,ba:Sc}),L(Uc,Ou),Uc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Uc.K.v.call(this)},Uc.prototype.o=function(){this.i=null,Uc.K.o.call(this)},R(Uc.prototype,{l:Ec,w:_c,u:Sc}),L(Fc,Uc),L(jc,Uc),L(Vc,Uc),L(Bc,Uc),L(Hc,Uc),L(Kc,Uc),L(qc,Uc),L(Gc,Uc),L(zc,Uc),L(Wc,Uc),L($c,Uc),L(Yc,Uc),u(hl,Ou),hl.prototype.v=function(){var e=this;eu(this,this.l(),(function(){e.i()})),this.l().focus(),Ou.prototype.v.call(this)},hl.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(hl.prototype,{l:_c}),oo.anonymousUserMismatch=function(e,t){var n=new hl((function(){n.m(),rl(e,t)}));n.render(t),vh(e,n)},u(dl,Ou),dl.prototype.I=function(e,t,n,i){return e.apply(null,t).then(n,i)},oo.callback=function(e,t,n){var i=new dl;i.render(t),vh(e,i),n=n||mh(e),Ah(e,n.then((function(t){fl(e,i,t)}),(function(n){if((n=Xc(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)ta(new ns(n.email,n.credential),Ih(e)),ml(e,i,n.email);else if(n&&"auth/user-cancelled"==n.code){var r=Qs(Ih(e)),s=el(n);r&&r.a?ml(e,i,r.g,s):r?sl(e,i,r.g,s):gl(e,i,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&nl(e)?fl(e,i,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&La(Ph(e))?(i.m(),ea(Ih(e)),uo("handleUnauthorizedUser",e,t,null,null)):gl(e,i,n))})))},u(vl,Ou),vl.prototype.v=function(){var e=this;eu(this,this.l(),(function(){e.i()})),this.l().focus(),Ou.prototype.v.call(this)},vl.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(vl.prototype,{l:_c}),oo.differentDeviceError=function(e,t){var n=new vl((function(){n.m(),rl(e,t)}));n.render(t),vh(e,n)},u(yl,Ou),yl.prototype.v=function(){var e=this;eu(this,$o(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Ou.prototype.v.call(this)},yl.prototype.o=function(){this.l=this.i=null,Ou.prototype.o.call(this)},R(yl.prototype,{u:Ec,B:_c,w:Sc}),u(Tl,Ou),Tl.prototype.v=function(){this.H(),this.B(this.l),Mu(this,this.i(),this.l),this.i().focus(),Ou.prototype.v.call(this)},Tl.prototype.o=function(){this.l=null,Ou.prototype.o.call(this)},R(Tl.prototype,{i:bl,w:El,M:wl,H:_l,u:Sl,U:Ec,P:_c,B:Sc}),u(kl,Ou),kl.prototype.v=function(){var e=this;eu(this,$o(this,"firebaseui-id-reset-password-link"),(function(){e.l()})),this.i&&(this.w(this.i),this.u().focus()),Ou.prototype.v.call(this)},kl.prototype.o=function(){this.l=this.i=null,Ou.prototype.o.call(this)},R(kl.prototype,{u:Ec,B:_c,w:Sc}),oo.passwordReset=function(e,t,n,i){Ah(e,bh(e).verifyPasswordResetCode(n).then((function(r){var s=new Tl(r,(function(){!function(e,t,n,i,r){var s=n.u();s&&Ah(e,n.I(A(bh(e).confirmPasswordReset,bh(e)),[i,s],(function(){n.m();var i=new Gc(r);i.render(t),vh(e,i)}),(function(i){Cl(e,t,n,i)})))}(e,t,s,n,i)}));s.render(t),vh(e,s)}),(function(){Cl(e,t)})))},oo.emailChangeRevocation=function(e,t,n){var i=null;Ah(e,bh(e).checkActionCode(n).then((function(t){return i=t.data.email,bh(e).applyActionCode(n)})).then((function(){!function(e,t,n){var i=new yl(n,(function(){Ah(e,i.I(A(bh(e).sendPasswordResetEmail,bh(e)),[n],(function(){i.m(),(i=new Fc(n,void 0,ja(Ph(e)),Va(Ph(e)))).render(t),vh(e,i)}),(function(){i.a(Cn().toString())})))}));i.render(t),vh(e,i)}(e,t,i)}),(function(){var n=new Wc;n.render(t),vh(e,n)})))},oo.emailVerification=function(e,t,n,i){Ah(e,bh(e).applyActionCode(n).then((function(){var n=new jc(i);n.render(t),vh(e,n)}),(function(){var n=new Vc;n.render(t),vh(e,n)})))},oo.revertSecondFactorAddition=function(e,t,n){var i=null,r=null;Ah(e,bh(e).checkActionCode(n).then((function(t){return i=t.data.email,r=t.data.multiFactorInfo,bh(e).applyActionCode(n)})).then((function(){!function(e,t,n,i){var r=new kl(i.factorId,(function(){r.I(A(bh(e).sendPasswordResetEmail,bh(e)),[n],(function(){r.m(),(r=new Fc(n,void 0,ja(Ph(e)),Va(Ph(e)))).render(t),vh(e,r)}),(function(){r.a(Cn().toString())}))}),i.phoneNumber);r.render(t),vh(e,r)}(e,t,i,r)}),(function(){var n=new Kc;n.render(t),vh(e,n)})))},oo.verifyAndChangeEmail=function(e,t,n,i){var r=null;Ah(e,bh(e).checkActionCode(n).then((function(t){return r=t.data.email,bh(e).applyActionCode(n)})).then((function(){var n=new Bc(r,i);n.render(t),vh(e,n)}),(function(){var n=new Hc;n.render(t),vh(e,n)})))},u(Nl,Ou),Nl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Al(this.i(),(this.i().value||"").length),Ou.prototype.v.call(this)},Nl.prototype.o=function(){this.u=this.l=null,Ou.prototype.o.call(this)},R(Nl.prototype,{i:Pc,M:Dc,w:Oc,H:Lc,j:xc,U:Ec,P:_c,B:Sc}),oo.emailLinkConfirmation=function(e,t,n,i,r,s){var a=new Nl((function(){var r=a.j();r?(a.m(),i(e,t,r,n)):a.i().focus()}),(function(){a.m(),rl(e,t,r||void 0)}),r||void 0,ja(Ph(e)),Va(Ph(e)));a.render(t),vh(e,a),s&&a.a(s)},u(Rl,Ou),Rl.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},Rl.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(Rl.prototype,{l:Ec,u:Sc}),oo.emailLinkNewDeviceLinking=function(e,t,n,i){var r=new Be(n);if(n=r.a.a.get(Ge.PROVIDER_ID)||null,Ke(r,null),n){var s=new Rl(Ra(Ph(e),n),(function(){s.m(),i(e,t,r.toString())}),ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s)}else rl(e,t)},u(Pl,Ou),oo.emailLinkSignInCallback=Dl,u(xl,Ou),xl.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},xl.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(xl.prototype,{l:Ec,u:Sc}),oo.emailLinkSignInLinking=function(e,t,n){var i=Qs(Ih(e));if(ea(Ih(e)),i){var r=i.a.providerId,s=new xl(n,Ra(Ph(e),r),(function(){!function(e,t,n,i){var r=Lu(t);ol(e,t,n,(function(){rl(e,r,n)}),(function(i){if(!i.name||"cancel"!=i.name){var s=el(i);i&&"auth/network-request-failed"==i.code?t.a(s):(t.m(),rl(e,r,n,s))}}),i)}(e,s,n,i)}),ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s)}else rl(e,t)},u(Ml,Ou),Ml.prototype.v=function(){var e=this;eu(this,this.l(),(function(){e.i()})),eu(this,$o(this,"firebaseui-id-trouble-getting-email-link"),(function(){e.u()})),this.l().focus(),Ou.prototype.v.call(this)},Ml.prototype.o=function(){this.i=this.u=null,Ou.prototype.o.call(this)},R(Ml.prototype,{l:_c}),oo.emailLinkSignInSent=function(e,t,n,i,r){var s=new Ml(n,(function(){s.m(),uo("emailNotReceived",e,t,n,i,r)}),(function(){s.m(),i()}),ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s)},u(Ul,Ou),Ul.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Ou.prototype.v.call(this)},Ul.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(Ul.prototype,{u:Ec,B:_c,w:Sc}),oo.emailMismatch=function(e,t,n){var i=Qs(Ih(e));if(i){var r=new Ul(n.user.email,i.g,(function(){var t=r;ea(Ih(e)),Zc(e,t,n)}),(function(){var t=n.credential.providerId,s=Lu(r);r.m(),i.a?uo("federatedLinking",e,s,i.g,t):uo("federatedSignIn",e,s,i.g,t)}),ja(Ph(e)),Va(Ph(e)));r.render(t),vh(e,r)}else rl(e,t)},u(Fl,Ou),Fl.prototype.v=function(){var e=this;eu(this,this.u(),(function(){e.i()})),eu(this,this.Da(),(function(){e.l()})),this.u().focus(),Ou.prototype.v.call(this)},Fl.prototype.Da=function(){return $o(this,"firebaseui-id-resend-email-link")},Fl.prototype.o=function(){this.i=this.l=null,Ou.prototype.o.call(this)},R(Fl.prototype,{u:_c}),oo.emailNotReceived=function(e,t,n,i,r){var s=new Fl((function(){ol(e,s,n,i,(function(e){e=el(e),s.a(e)}),r)}),(function(){s.m(),rl(e,t,n)}),ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s)},u(jl,Ou),jl.prototype.v=function(){this.u(this.i),this.l().focus(),Ou.prototype.v.call(this)},jl.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(jl.prototype,{l:Ec,u:Sc}),oo.federatedLinking=function(e,t,n,i,r){var s=Qs(Ih(e));if(s&&s.a){var a=new jl(n,Ra(Ph(e),i),(function(){tl(e,a,i,n)}),ja(Ph(e)),Va(Ph(e)));a.render(t),vh(e,a),r&&a.a(r)}else rl(e,t)},oo.federatedRedirect=function(e,t,n){var i=new Pl;i.render(t),vh(e,i),tl(e,i,t=Na(Ph(e))[0],n)},oo.federatedSignIn=function(e,t,n,i,r){var s=new jl(n,Ra(Ph(e),i),(function(){tl(e,s,i,n)}),ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s),r&&s.a(r)},oo.passwordLinking=function(e,t,n){var i=Qs(Ih(e));ea(Ih(e));var r=i&&i.a;if(r){var s=new Nc(n,(function(){!function(e,t,n,i){var r=t.u();r?Ah(e,t.I(A(e.Xb,e),[n,r],(function(n){return n=n.user.linkWithCredential(i).then((function(n){return Zc(e,t,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Ah(e,n),n}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/wrong-password":Zo(t.i(),!1),nu(t.B(),el(e));break;case"auth/too-many-requests":t.a(el(e));break;default:zr("signInWithEmailAndPassword: "+e.message,void 0),t.a(el(e))}}))):t.i().focus()}(e,s,n,r)}),(function(){s.m(),uo("passwordRecovery",e,t,n)}),ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s)}else rl(e,t)},u(Vl,Ou),Vl.prototype.v=function(){this.B(),this.H(this.l,this.u),po(this.i())||this.i().focus(),Mu(this,this.i(),this.l),Ou.prototype.v.call(this)},Vl.prototype.o=function(){this.u=this.l=null,Ou.prototype.o.call(this)},R(Vl.prototype,{i:Pc,w:Dc,B:Oc,M:Lc,j:xc,U:Ec,P:_c,H:Sc}),oo.passwordRecovery=function(e,t,n,i,r){var s=new Vl((function(){!function(e,t){var n=t.j();if(n){var i=Lu(t);Ah(e,t.I(A(bh(e).sendPasswordResetEmail,bh(e)),[n],(function(){t.m();var r=new Fc(n,(function(){r.m(),rl(e,i)}),ja(Ph(e)),Va(Ph(e)));r.render(i),vh(e,r)}),(function(e){Zo(t.i(),!1),nu(t.w(),el(e))})))}else t.i().focus()}(e,s)}),i?void 0:function(){s.m(),rl(e,t)},n,ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s),r&&s.a(r)},oo.passwordSignIn=function(e,t,n,r){var s=new Mc((function(){!function(e,t){var n=t.j(),r=t.u();if(n)if(r){var s=i.Z.auth.EmailAuthProvider.credential(n,r);Ah(e,t.I(A(e.bc,e),[n,r],(function(n){return Zc(e,t,{user:n.user,credential:s,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(e){if(!e.name||"cancel"!=e.name)switch(e.code){case"auth/email-already-in-use":break;case"auth/email-exists":Zo(t.l(),!1),nu(t.U(),el(e));break;case"auth/too-many-requests":case"auth/wrong-password":Zo(t.i(),!1),nu(t.B(),el(e));break;default:zr("verifyPassword: "+e.message,void 0),t.a(el(e))}})))}else t.i().focus();else t.l().focus()}(e,s)}),(function(){var n=s.M();s.m(),uo("passwordRecovery",e,t,n)}),n,ja(Ph(e)),Va(Ph(e)),r);s.render(t),vh(e,s)},u(Kl,Ou),Kl.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(xu(this,this.i(),this.u()),xu(this,this.u(),this.l())):xu(this,this.i(),this.l()),this.w&&Mu(this,this.l(),this.w),po(this.i())?this.B&&!po(this.u())?this.u().focus():this.l().focus():this.i().focus(),Ou.prototype.v.call(this)},Kl.prototype.o=function(){this.H=this.w=null,Ou.prototype.o.call(this)},R(Kl.prototype,{i:Pc,U:Dc,ea:Oc,jb:Lc,j:xc,u:Bl,Bc:Hl,Ja:function(){var e=Bl.call(this),t=Hl.call(this);Jo(this,e,(function(){iu(t)&&(Zo(e,!0),tu(t))}))},M:function(){var e=Bl.call(this),t=Hl.call(this),n=po(e);return Zo(e,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(tu(t),t=!0):(nu(t,un("Enter your account name").toString()),t=!1),t?X(po(e)):null},l:bl,ba:El,lb:wl,ua:_l,P:Sl,Nb:Ec,Mb:_c,pa:Sc}),oo.passwordSignUp=function(e,t,n,i,r,s){var a=new Kl(Ba(Ph(e)),(function(){ql(e,a)}),r?void 0:function(){a.m(),rl(e,t)},n,i,ja(Ph(e)),Va(Ph(e)),s);a.render(t),vh(e,a)},u($l,Ou),$l.prototype.v=function(){var e=this;this.U(this.jb),ti(this.i,"tick",this.w,!1,this),this.i.start(),eu(this,$o(this,"firebaseui-id-change-phone-number-link"),(function(){e.P()})),eu(this,this.Da(),(function(){e.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Ou.prototype.v.call(this)},$l.prototype.o=function(){this.M=this.H=this.l=this.P=null,To(this.i),ri(this.i,"tick",this.w),this.i=null,Ou.prototype.o.call(this)},$l.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(To(this.i),ri(this.i,"tick",this.w),this.ua(),this.lb())},R($l.prototype,{u:Gl,pa:zl,Ja:function(e){var t=Gl.call(this),n=zl.call(this);Jo(this,t,(function(){iu(n)&&(Zo(t,!0),tu(n))})),e&&Qo(this,t,(function(){e()}))},ba:function(){var e=X(po(Gl.call(this))||"");return/^\d{6}$/.test(e)?e:null},Fb:Wl,U:function(e){zt(Wl.call(this),un("Resend code in "+(9<e?"0:":"0:0")+e).toString())},ua:function(){tu(this.Fb())},Da:function(){return $o(this,"firebaseui-id-resend-link")},lb:function(){nu(this.Da())},Nb:Ec,Mb:_c,ea:Sc}),oo.phoneSignInFinish=function(e,t,n,i,r,s){var a=new $l((function(){a.m(),uo("phoneSignInStart",e,t,n)}),(function(){!function(e,t,n,i){function r(e){t.u().focus(),Zo(t.u(),!1),nu(t.pa(),e)}var s=t.ba();s?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),Ah(e,t.I(A(i.confirm,i),[s],(function(n){t.h(),t.$("firebaseui-icon-done",un("Verified!").toString());var i=setTimeout((function(){t.h(),t.m();var i={user:wh(e).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};Zc(e,t,i,!0)}),1e3);Ah(e,(function(){t&&t.h(),clearTimeout(i)}))}),(function(i){if(i.name&&"cancel"==i.name)t.h();else{var s=Xc(i);switch(i=el(s),s.code){case"auth/credential-already-in-use":t.h();break;case"auth/code-expired":s=Lu(t),t.h(),t.m(),uo("phoneSignInStart",e,s,n,i);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":t.h(),r(i);break;default:t.h(),t.a(i)}}})))):r(un("Wrong code. Try again.").toString())}(e,a,n,r)}),(function(){a.m(),rl(e,t)}),(function(){a.m(),uo("phoneSignInStart",e,t,n)}),Ia(n),i,ja(Ph(e)),Va(Ph(e)));a.render(t),vh(e,a),s&&a.a(s)};var Yl=!Qe&&!($e("Safari")&&!(Ye()||$e("Coast")||$e("Opera")||$e("Edge")||$e("Firefox")||$e("FxiOS")||$e("Silk")||$e("Android")));function Xl(e,t){return/-[a-z]/.test(t)?null:Yl&&e.dataset?!$e("Android")||Ye()||$e("Firefox")||$e("FxiOS")||$e("Opera")||$e("Silk")||t in e.dataset?void 0===(e=e.dataset[t])?null:e:null:e.getAttribute("data-"+String(t).replace(/([A-Z])/g,"-$1").toLowerCase())}function Zl(e,t,n){var i=this;e=en(yu,{items:e},null,this.s),Tu.call(this,e,!0,!0),n&&(n=function(e,t){e=(e||document).getElementsByTagName("BUTTON");for(var n=0;n<e.length;n++)if(Xl(e[n],"listboxid")===t)return e[n];return null}(e,n))&&(n.focus(),function(e,t){var n=(t=t||Kt(document))||Kt(document),i=Ko(e),r=Ko(n);if(!Qe||9<=Number(lt)){a=Bo(n,"borderLeftWidth");var s=Bo(n,"borderRightWidth");o=Bo(n,"borderTopWidth"),u=Bo(n,"borderBottomWidth"),s=new Vo(parseFloat(o),parseFloat(s),parseFloat(u),parseFloat(a))}else{var a=Go(n,"borderLeft");s=Go(n,"borderRight");var o=Go(n,"borderTop"),u=Go(n,"borderBottom");s=new Vo(o,s,u,a)}n==Kt(document)?(a=i.a-n.scrollLeft,i=i.g-n.scrollTop,!Qe||10<=Number(lt)||(a+=s.left,i+=s.top)):(a=i.a-r.a-s.left,i=i.g-r.g-s.top),r=e.offsetWidth,s=e.offsetHeight,o=it&&!r&&!s,e=f(r)&&!o||!e.getBoundingClientRect?new Ut(r,s):new Ut((e=Ho(e)).right-e.left,e.bottom-e.top),r=n.clientHeight-e.height,s=n.scrollLeft,o=n.scrollTop,n=new Mt(s+=Math.min(a,Math.max(a-(n.clientWidth-e.width),0)),o+=Math.min(i,Math.max(i-r,0))),t.scrollLeft=n.a,t.scrollTop=n.g}(n,e)),eu(this,e,(function(e){(e=(e=Wt(e.target,"firebaseui-id-list-box-dialog-button"))&&Xl(e,"listboxid"))&&(ku.call(i),t(e))}))}function Jl(){return $o(this,"firebaseui-id-phone-number")}function Ql(){return $o(this,"firebaseui-id-country-selector")}function eh(){return $o(this,"firebaseui-id-phone-number-error")}function th(e,t){var n=e.a,i=nh("1-US-0",n),r=null;if(!(r=t&&nh(t,n)?t:i?"1-US-0":0<n.length?n[0].c:null))throw Error("No available default country");sh.call(this,r,e)}function nh(e,t){return!(!(e=fa(e))||!K(t,e))}function ih(e){return"firebaseui-flag-"+e.f}function rh(e){var t=this;Zl.call(this,function(e){return e.map((function(e){return{id:e.c,Ma:"firebaseui-flag "+ih(e),label:e.name+" \u200e+"+e.b}}))}(e.a),(function(n){sh.call(t,n,e,!0),t.O().focus()}),this.Ba)}function sh(e,t,n){var i=fa(e);i&&(n&&((t=da(t,n=X(po(Jl.call(this))||""))).length&&t[0].b!=i.b&&(n="+"+i.b+n.substr(t[0].b.length+1),go(Jl.call(this),n))),t=fa(this.Ba),this.Ba=e,e=$o(this,"firebaseui-id-country-selector-flag"),t&&fo(e,ih(t)),ho(e,ih(i)),zt($o(this,"firebaseui-id-country-selector-code"),"\u200e+"+i.b))}function ah(e,t,n,i,r,s,a,o,u,c){Ou.call(this,vc,{Gb:t,Aa:u||null,Va:!!n,ia:!!s},c,"phoneSignInStart",{F:i,D:r}),this.H=o||null,this.M=t,this.l=e,this.w=n||null,this.pa=a||null}function oh(e,t,n,r){try{var s=t.U(Za)}catch(a){return}s?Ya?(t.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),Ah(e,t.I(A(e.cc,e),[Ia(s),n],(function(n){var i=Lu(t);t.$("firebaseui-icon-done",un("Code sent!").toString());var r=setTimeout((function(){t.h(),t.m(),uo("phoneSignInFinish",e,i,s,15,n)}),1e3);Ah(e,(function(){t&&t.h(),clearTimeout(r)}))}),(function(n){if(t.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Ja),Ya=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=un("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return t.O().focus(),void nu(t.B(),kn().toString());case"auth/admin-restricted-operation":if(La(Ph(e)))return n=Lu(t),t.m(),void uo("handleUnauthorizedUser",e,n,Ia(s),i.Z.auth.PhoneAuthProvider.PROVIDER_ID);r=el(n);break;default:r=el(n)}t.a(r)}})))):Xa?nu(t.u(),un("Solve the reCAPTCHA").toString()):!Xa&&r&&t.i().click():(t.O().focus(),nu(t.B(),kn().toString()))}function uh(e,t,n,i,r){Ou.call(this,mc,{Sb:t},r,"providerSignIn",{F:n,D:i}),this.i=e}function ch(e,t,n,i,r,s,a){Ou.call(this,Uu,{email:n,Va:!!t,ia:!!s},a,"signIn",{F:i,D:r}),this.i=e,this.u=t}function lh(e,t,n,i,r,s,a){Ou.call(this,ec,{kc:e,yb:n,Eb:!!i},a,"unauthorizedUser",{F:r,D:s}),this.l=t,this.i=i}function hh(e,t,n,i,r,s){Ou.call(this,tc,{email:e},s,"unsupportedProvider",{F:i,D:r}),this.l=t,this.i=n}function dh(e,t){this.$=!1;var n=gh(t);if(ph[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');ph[n]=this,this.a=e,this.u=null,this.Y=!1,fh(this.a),this.h=i.Z.initializeApp({apiKey:e.app.options.apiKey,authDomain:e.app.options.authDomain},e.app.name+"-firebaseui-temp").auth(),(e=e.emulatorConfig)&&(n=e.port,this.h.useEmulator(e.protocol+"://"+e.host+(null===n?"":":"+n),e.options)),fh(this.h),this.h.setPersistence&&this.h.setPersistence(i.Z.auth.Auth.Persistence.SESSION),this.oa=t,this.ca=new Ta,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=_r.Xa(),this.j=this.C=null,this.da=this.A=!1}function fh(e){e&&e.INTERNAL&&e.INTERNAL.logFramework&&e.INTERNAL.logFramework("FirebaseUI-web")}u(ah,Ou),ah.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||xu(this,this.O(),this.i()),Mu(this,this.i(),this.l),this.O().focus(),Al(this.O(),(this.O().value||"").length),Ou.prototype.v.call(this)},ah.prototype.o=function(){this.w=this.l=null,Ou.prototype.o.call(this)},R(ah.prototype,{Cb:Cu,O:Jl,B:eh,ea:function(e,t,n){var i=this,r=Jl.call(this),s=Ql.call(this),a=eh.call(this),o=e||ya,u=o.a;if(0==u.length)throw Error("No available countries provided.");th.call(i,o,t),eu(this,s,(function(){rh.call(i,o)})),Jo(this,r,(function(){iu(a)&&(Zo(r,!0),tu(a));var e=X(po(r)||""),t=fa(this.Ba),n=da(o,e);e=nh("1-US-0",u),n.length&&n[0].b!=t.b&&(t=n[0],sh.call(i,"1"==t.b&&e?"1-US-0":t.c,o))})),n&&Qo(this,r,(function(){n()}))},U:function(e){var t=X(po(Jl.call(this))||""),n=(e=e||ya).a,i=da(ya,t);if(i.length&&!K(n,i[0]))throw go(Jl.call(this)),Jl.call(this).focus(),nu(eh.call(this),un("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=fa(this.Ba),i.length&&i[0].b!=n.b&&sh.call(this,i[0].c,e),i.length&&(t=t.substr(i[0].b.length+1)),t?new ba(this.Ba,t):null},Ja:Ql,ba:function(){return $o(this,"firebaseui-recaptcha-container")},u:function(){return $o(this,"firebaseui-id-recaptcha-error")},i:Ec,ua:_c,P:Sc}),oo.phoneSignInStart=function(e,t,n,r){var s=function(e){var t=null;if(Ca(e).forEach((function(e){e.provider==i.Z.auth.PhoneAuthProvider.PROVIDER_ID&&_(e.recaptchaParameters)&&!Array.isArray(e.recaptchaParameters)&&(t=oe(e.recaptchaParameters))})),t){var n=[];ao.forEach((function(e){"undefined"!==typeof t[e]&&(n.push(e),delete t[e])})),n.length&&Xr('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return t}(Ph(e))||{};Ya=null,Xa=!(s&&"invisible"===s.size);var a=il(e),o=function(e){var t=(e=Aa(e,i.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&e.defaultCountry||null;t=t&&pa(t);var n=null;return e&&"string"===typeof e.loginHint&&(n=wa(e.loginHint)),t&&t[0]||n&&fa(n.a)||null}(Ph(e)),u=a?function(e){var t=null;return(e=Aa(e,i.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"===typeof e.loginHint&&(t=wa(e.loginHint)),e&&e.defaultNationalNumber||t&&t.Aa||null}(Ph(e)):null;o=n&&n.a||o&&o.c||null,n=n&&n.Aa||u,(u=Ua(Ph(e)))&&ma(u),Za=u?new ha(Ua(Ph(e))):ya;var c=new ah((function(t){oh(e,c,l,!(!t||!t.keyCode))}),Xa,a?null:function(){l.clear(),c.m(),rl(e,t)},ja(Ph(e)),Va(Ph(e)),a,Za,o,n);c.render(t),vh(e,c),r&&c.a(r),s.callback=function(t){c.u()&&tu(c.u()),Ya=t,Xa||oh(e,c,l)},s["expired-callback"]=function(){Ya=null};var l=new i.Z.auth.RecaptchaVerifier(Xa?c.ba():c.i(),s,wh(e).app);Ah(e,c.I(A(l.render,l),[],(function(e){Ja=e}),(function(n){n.name&&"cancel"==n.name||(n=el(n),c.m(),rl(e,t,void 0,n))})))},oo.prefilledEmailSignIn=function(e,t,n){var i=new Pl;i.render(t),vh(e,i),Ah(e,i.I(A(bh(e).fetchSignInMethodsForEmail,bh(e)),[n],(function(r){i.m();var s=!(!nl(e)||!Eh(e));al(e,t,r,n,void 0,s)}),(function(r){r=el(r),i.m(),uo("signIn",e,t,n,r)})))},u(uh,Ou),uh.prototype.v=function(){this.l(this.i),Ou.prototype.v.call(this)},uh.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(uh.prototype,{l:function(e){function t(t){e(t)}for(var n=this.g?jt("firebaseui-id-idp-button",this.g||this.s.a):[],i=0;i<n.length;i++){var r=n[i];eu(this,r,N(t,Xl(r,"providerId")))}}}),oo.providerSignIn=function(e,t,n,r){var s=new uh((function(n){n==i.Z.auth.EmailAuthProvider.PROVIDER_ID?(s.m(),ul(e,t,r)):n==i.Z.auth.PhoneAuthProvider.PROVIDER_ID?(s.m(),uo("phoneSignInStart",e,t)):"anonymous"==n?function(e,t){Ah(e,t.I(A(e.$b,e),[],(function(n){return t.m(),Zc(e,t,n,!0)}),(function(e){e.name&&"cancel"==e.name||(zr("ContinueAsGuest: "+e.code,void 0),e=el(e),t.a(e))})))}(e,s):tl(e,s,n,r),Dh(e),e.l.cancel()}),Pa(Ph(e)),ja(Ph(e)),Va(Ph(e)));s.render(t),vh(e,s),n&&s.a(n),function(e){Dh(e);try{Sr(e.l,Da(Ph(e)),function(e){var t;return Dh(e),(t=e.Z)||(e=Ma(e=Ph(e),i.Z.auth.GoogleAuthProvider.PROVIDER_ID),t=!(!e||"select_account"!==e.prompt)),t}(e)).then((function(t){return!!e.g&&function(e,t,n){if(n&&n.credential&&n.clientId===Da(Ph(e))){if(xa(Ph(e),i.Z.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(s){}return tl(e,t,i.Z.auth.GoogleAuthProvider.PROVIDER_ID,r),Ki(!0)}return function(n){var r=!1;return n=t.I(A(e.ac,e),[n],(function(n){var i=Lu(t);t.m(),uo("callback",e,i,Ki(n)),r=!0}),(function(n){if((!n.name||"cancel"!=n.name)&&(!n||"auth/credential-already-in-use"!=n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Lu(t);t.m(),uo("callback",e,r,qi(n))}else n&&"auth/admin-restricted-operation"==n.code&&La(Ph(e))?(n=Lu(t),t.m(),uo("handleUnauthorizedUser",e,n,null,i.Z.auth.GoogleAuthProvider.PROVIDER_ID)):(n=el(n),t.a(n))})),Ah(e,n),n.then((function(){return r}),(function(){return!1}))}(i.Z.auth.GoogleAuthProvider.credential(n.credential))}return n&&t.a(un("The selected credential for the authentication provider is not supported!").toString()),Ki(!1)}(e,e.g,t)}))}catch(t){}}(e)},oo.sendEmailLinkForSignIn=function(e,t,n,r){var s=new dl;s.render(t),vh(e,s),ol(e,s,n,r,(function(r){s.m(),r&&"auth/admin-restricted-operation"==r.code&&La(Ph(e))?uo("handleUnauthorizedUser",e,t,n,i.Z.auth.EmailAuthProvider.PROVIDER_ID):(r=el(r),uo("signIn",e,t,n,r))}))},u(ch,Ou),ch.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Al(this.l(),(this.l().value||"").length),Ou.prototype.v.call(this)},ch.prototype.o=function(){this.u=this.i=null,Ou.prototype.o.call(this)},R(ch.prototype,{l:Pc,M:Dc,w:Oc,H:Lc,j:xc,U:Ec,P:_c,B:Sc}),oo.signIn=function(e,t,n,i){var r=nl(e),s=new ch((function(){var t=s,n=t.j()||"";n&&sl(e,t,n)}),r?null:function(){s.m(),rl(e,t,n)},n,ja(Ph(e)),Va(Ph(e)),r);s.render(t),vh(e,s),i&&s.a(i)},u(lh,Ou),lh.prototype.v=function(){var e=this,t=$o(this,"firebaseui-id-unauthorized-user-help-link");this.i&&t&&eu(this,t,(function(){e.i()})),eu(this,this.u(),(function(){e.l()})),this.u().focus(),Ou.prototype.v.call(this)},lh.prototype.o=function(){this.i=this.l=null,Ou.prototype.o.call(this)},R(lh.prototype,{u:_c}),oo.handleUnauthorizedUser=function(e,t,n,r){function s(){rl(e,t)}r===i.Z.auth.EmailAuthProvider.PROVIDER_ID?s=function(){ul(e,t)}:r===i.Z.auth.PhoneAuthProvider.PROVIDER_ID&&(s=function(){uo("phoneSignInStart",e,t)});var a=null,o=null;r===i.Z.auth.EmailAuthProvider.PROVIDER_ID&&Oa(Ph(e))?(a=function(e){return(e=Aa(e,i.Z.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp&&e.disableSignUp.adminEmail||null}(Ph(e)),o=function(e){if((e=Aa(e,i.Z.auth.EmailAuthProvider.PROVIDER_ID))&&e.disableSignUp){var t=e.disableSignUp.helpLink||null;if(t&&"string"===typeof t)return function(){ir(t)}}return null}(Ph(e))):La(Ph(e))&&(a=function(e){return(e=e.a.get("adminRestrictedOperation"))&&e.adminEmail?e.adminEmail:null}(Ph(e)),o=function(e){if(e=e.a.get("adminRestrictedOperation")||null){var t=e.helpLink||null;if(t&&"string"===typeof t)return function(){ir(t)}}return null}(Ph(e)));var u=new lh(n,(function(){u.m(),s()}),a,o,ja(Ph(e)),Va(Ph(e)));u.render(t),vh(e,u)},u(hh,Ou),hh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Ou.prototype.v.call(this)},hh.prototype.o=function(){this.i=this.l=null,Ou.prototype.o.call(this)},R(hh.prototype,{u:Ec,B:_c,w:Sc}),oo.unsupportedProvider=function(e,t,n){var i=new hh(n,(function(){i.m(),uo("passwordRecovery",e,t,n)}),(function(){i.m(),rl(e,t,n)}),ja(Ph(e)),Va(Ph(e)));i.render(t),vh(e,i)};var ph={};function gh(e){return e||"[DEFAULT]"}function mh(e){return Dh(e),e.i||(e.i=kh(e,(function(t){return t&&!Qs(Ih(e))?Ki(wh(e).getRedirectResult().then((function(e){return e}),(function(t){if(t&&"auth/email-already-in-use"==t.code&&t.email&&t.credential)throw t;return xh(e,t)}))):Ki(bh(e).getRedirectResult().then((function(t){return ka(Ph(e))&&!t.user&&e.j&&!e.j.isAnonymous?wh(e).getRedirectResult():t})))}))),e.i}function vh(e,t){Dh(e),e.g=t}var yh=null;function bh(e){return Dh(e),e.h}function wh(e){return Dh(e),e.a}function Ih(e){return Dh(e),e.oa}function Eh(e){return Dh(e),e.O?e.O.emailHint:void 0}function _h(e){return"signIn"===((e=new Be(e)).a.a.get(Ge.ub)||null)&&!!e.a.a.get(Ge.$a)}function Sh(e,t,n,i){Dh(e),"undefined"!==typeof e.a.languageCode&&(e.u=e.a.languageCode);var r="en".replace(/_/g,"-");e.a.languageCode=r,e.h.languageCode=r,e.Y=!0,"undefined"!==typeof e.a.tenantId&&(e.h.tenantId=e.a.tenantId),e.ib(n),e.O=i||null;var s=d.document;e.C?e.C.then((function(){"complete"==s.readyState?Th(e,t):ii(window,"load",(function(){Th(e,t)}))})):"complete"==s.readyState?Th(e,t):ii(window,"load",(function(){Th(e,t)}))}function Th(e,t){var n=rr(t,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),yh){var i=yh;Dh(i),Qs(Ih(i))&&Xr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),yh.reset()}if(yh=e,e.T=n,function(e,t){e.L=null,e.J=new Ii(t),e.J.register(),ti(e.J,"pageEnter",(function(t){if(t=t&&t.pageId,e.L!=t){var n=Ph(e);(n=$a(n).uiChanged||null)&&n(e.L,t),e.L=t}}))}(e,n),Fs(new js)&&Fs(new Vs)){t=rr(t,"Could not find the FirebaseUI widget element on the page."),n=(n=we(n=sr(),i=aa(Ph(e).a,"queryParameterForSignInSuccessUrl")))?It(_t(n)).toString():null;e:{i=sr();var r=Fa(Ph(e));for(s in i=we(i,r)||"",ro)if(ro[s].toLowerCase()==i.toLowerCase()){var s=ro[s];break e}s="callback"}switch(s){case"callback":n&&(s=Ih(e),Zs(zs,n,s)),e.nb()?uo("callback",e,t):rl(e,t,Eh(e));break;case"resetPassword":uo("passwordReset",e,t,cl(),ll());break;case"recoverEmail":uo("emailChangeRevocation",e,t,cl());break;case"revertSecondFactorAddition":uo("revertSecondFactorAddition",e,t,cl());break;case"verifyEmail":uo("emailVerification",e,t,cl(),ll());break;case"verifyAndChangeEmail":uo("verifyAndChangeEmail",e,t,cl(),ll());break;case"signIn":uo("emailLinkSignInCallback",e,t,sr()),Oh();break;case"select":n&&(s=Ih(e),Zs(zs,n,s)),rl(e,t);break;default:throw Error("Unhandled widget operation.")}(t=$a(t=Ph(e)).uiShown||null)&&t()}else t=rr(t,"Could not find the FirebaseUI widget element on the page."),(s=new Yc(un("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(t),vh(e,s);t=e.g&&"blank"==e.g.Ga&&Ka(Ph(e)),na(Ih(e))&&!t&&(Rh(e,(t=na(Ih(e))).a),Xs(Gs,Ih(e)))}function kh(e,t){if(e.A)return t(Ch(e));if(Ah(e,(function(){e.A=!1})),ka(Ph(e))){var n=new Mi((function(n){Ah(e,e.a.onAuthStateChanged((function(i){e.j=i,e.A||(e.A=!0,n(t(Ch(e))))})))}));return Ah(e,n),n}return e.A=!0,t(null)}function Ch(e){return Dh(e),ka(Ph(e))&&e.j&&e.j.isAnonymous?e.j:null}function Ah(e,t){if(Dh(e),t){e.s.push(t);var n=function(){z(e.s,(function(e){return e==t}))};"function"!=typeof t&&t.then(n,n)}}function Nh(e){"undefined"!==typeof e.a.languageCode&&e.Y&&(e.Y=!1,e.a.languageCode=e.u)}function Rh(e,t){e.a.tenantId=t,e.h.tenantId=t}function Ph(e){return Dh(e),e.ca}function Dh(e){if(e.$)throw Error("AuthUI instance is deleted!")}function Oh(){var e=sr();if(_h(e)){for(var t in e=new Be(e),Ge)Ge.hasOwnProperty(t)&&Ue(e.a.a,Ge[t]);t={state:"signIn",mode:"emailLink",operation:"clear"};var n=d.document.title;d.history&&d.history.replaceState&&d.history.replaceState(t,n,e.toString())}}function Lh(e){return Dh(e),bh(e).signOut()}function xh(e,t,n){if(Dh(e),t&&t.code&&("auth/email-already-in-use"==t.code||"auth/credential-already-in-use"==t.code)){var i=Wa(Ph(e));return Ki().then((function(){return i(new Dn("anonymous-upgrade-merge-conflict",null,n||t.credential))})).then((function(){throw e.g&&(e.g.m(),e.g=null),t}))}return qi(t)}function Mh(e,t,n,i){Ou.call(this,Ic,void 0,i,"providerMatchByEmail",{F:t,D:n}),this.i=e}function Uh(e,t,n,i,r){Ou.call(this,wc,{ec:t},r,"selectTenant",{F:n,D:i}),this.i=e}function Fh(e){Ou.call(this,Ku,void 0,e,"spinner")}function jh(e){for(var t in this.a=new ia,ra(this.a,"authDomain"),ra(this.a,"displayMode",Wh),ra(this.a,"tenants"),ra(this.a,"callbacks"),ra(this.a,"tosUrl"),ra(this.a,"privacyPolicyUrl"),e)if(e.hasOwnProperty(t))try{sa(this.a,t,e[t])}catch(n){zr('Invalid config: "'+t+'"',void 0)}}function Vh(e){return e.a.get("callbacks")||{}}function Bh(e){var t=e.a.get("tosUrl")||null;if(e=e.a.get("privacyPolicyUrl")||null,t&&!e&&Xr("Privacy Policy URL is missing, the link will not be displayed."),t&&e){if("function"===typeof t)return t;if("string"===typeof t)return function(){ir(t)}}return null}function Hh(e){var t=e.a.get("tosUrl")||null,n=e.a.get("privacyPolicyUrl")||null;if(n&&!t&&Xr("Terms of Service URL is missing, the link will not be displayed."),t&&n){if("function"===typeof n)return n;if("string"===typeof n)return function(){ir(n)}}return null}function Kh(e,t){if(!(e=e.a.get("tenants"))||!e.hasOwnProperty(t)&&!e.hasOwnProperty(Yh))throw Error("Invalid tenant configuration!")}function qh(e,t,n){if(!(e=e.a.get("tenants")))throw Error("Invalid tenant configuration!");var i=[];if(!(e=e[t]||e[Yh]))return zr("Invalid tenant configuration: "+t+" is not configured!",void 0),i;if(!(t=e.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return t.forEach((function(e){if("string"===typeof e)i.push(e);else if("string"===typeof e.provider){var t=e.hd;t&&n?(t instanceof RegExp?t:new RegExp("@"+t.replace(".","\\.")+"$")).test(n)&&i.push(e.provider):i.push(e.provider)}else zr(e="Invalid tenant configuration: signInOption "+JSON.stringify(e)+" is invalid!",void 0)})),i}function Gh(e,t,n){return e=function(e,t){var n=zh,i=void 0===i?{}:i;return Kh(e,t),function(e,t,n){return n=void 0===n?{}:n,Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),n)}((e=e.a.get("tenants"))[t]||e[Yh],n,i)}(e,t),(t=e.signInOptions)&&n&&(t=t.filter((function(e){return"string"===typeof e?n.includes(e):n.includes(e.provider)})),e.signInOptions=t),e}(e=dh.prototype).nb=function(){return Dh(this),!!na(Ih(this))||_h(sr())},e.start=function(e,t){Sh(this,e,t)},e.Db=function(){Dh(this),this.Z=!0},e.reset=function(){Dh(this);var e=this;this.T&&this.T.removeAttribute("lang"),this.J&&bi(this.J),Nh(this),this.O=null,Oh(),Xs(Gs,Ih(this)),Dh(this),this.l.cancel(),this.i=Ki({user:null,credential:null}),yh==this&&(yh=null),this.T=null;for(var t=0;t<this.s.length;t++)"function"==typeof this.s[t]?this.s[t]():this.s[t].cancel&&this.s[t].cancel();this.s=[],ea(Ih(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Lh(this).then((function(){e.C=null}),(function(){e.C=null})))},e.ib=function(e){Dh(this);var t,n=this.ca;for(t in e)try{sa(n.a,t,e[t])}catch(i){zr('Invalid config: "'+t+'"',void 0)}rt&&sa(n.a,"popupMode",!1),Ua(n),!this.da&&Ga(Ph(this))&&(Xr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},e.Wb=function(){Dh(this);var e=Ph(this),t=aa(e.a,"widgetUrl");e=Fa(e);for(var n,i=t.search(be),r=0,s=[];0<=(n=ye(t,r,e,i));)s.push(t.substring(r,n)),r=Math.min(t.indexOf("&",n)+1||i,i);s.push(t.substr(r)),t=s.join("").replace(Ie,"$1"),(e+=i="="+encodeURIComponent("select"))?(0>(i=t.indexOf("#"))&&(i=t.length),0>(r=t.indexOf("?"))||r>i?(r=i,n=""):n=t.substring(r+1,i),i=(t=[t.substr(0,r),n,t.substr(i)])[1],t[1]=e?i?i+"&"+e:e:i,i=t[0]+(t[1]?"?"+t[1]:"")+t[2]):i=t,Ph(this).a.get("popupMode")?(i=i||"about:blank",(e={width:500,height:600,top:0<(e=(window.screen.availHeight-600)/2)?e:0,left:0<(t=(window.screen.availWidth-500)/2)?t:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=e.target||i.target||"google_popup",e.width=e.width||690,e.height=e.height||500,(e=tr(i,e))&&e.focus()):xt(window.location,i)},e.Wa=function(){var e=this;return Dh(this),this.h.app.delete().then((function(){var t=gh(Ih(e));delete ph[t],e.reset(),e.$=!0}))},e.Ib=function(e,t){Dh(this);var n=this,r=function(){for(var e=32,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();if(!Ha(Ph(this)))return qi(Error("Email link sign-in should be enabled to trigger email sending."));var s=function(e){if(Ha(e)){var t={url:sr(),handleCodeInApp:!0};(e=Aa(e,i.Z.auth.EmailAuthProvider.PROVIDER_ID))&&"function"===typeof e.emailLinkSignIn&&ce(t,e.emailLinkSignIn()),e=t.url;var n=sr();n instanceof Ee||(n=ke(n)),e instanceof Ee||(e=ke(e));var r=n;n=new Ee(r);var s=!!e.j;s?_e(n,e.j):s=!!e.A,s?n.A=e.A:s=!!e.h,s?n.h=e.h:s=null!=e.C;var a=e.g;if(s)Se(n,e.C);else if(s=!!e.g)if("/"!=a.charAt(0)&&(r.h&&!r.g?a="/"+a:-1!=(r=n.g.lastIndexOf("/"))&&(a=n.g.substr(0,r+1)+a)),".."==a||"."==a)a="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){r=0==a.lastIndexOf("/",0),a=a.split("/");for(var o=[],u=0;u<a.length;){var c=a[u++];"."==c?r&&u==a.length&&o.push(""):".."==c?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&u==a.length&&o.push("")):(o.push(c),r=!0)}a=o.join("/")}return s?n.g=a:s=""!==e.a.toString(),s?Te(n,je(e.a)):s=!!e.s,s&&(n.s=e.s),t.url=n.toString(),t}return null}(Ph(this)),a=new Be(s.url);return function(e,t){t?e.a.a.set(Ge.Sa,t):Ue(e.a.a,Ge.Sa)}(a,r),t&&t.a&&(function(e,t,n){Zs($s,ks(e,JSON.stringify(is(t))),n)}(r,t,Ih(this)),Ke(a,t.a.providerId)),function(e,t){null!==t?e.a.a.set(Ge.Qa,t?"1":"0"):Ue(e.a.a,Ge.Qa)}(a,function(e){return!(!(e=Aa(e,i.Z.auth.EmailAuthProvider.PROVIDER_ID))||!e.forceSameDevice)}(Ph(this))),kh(this,(function(t){return t&&((t=t.uid)?a.a.a.set(Ge.Pa,t):Ue(a.a.a,Ge.Pa)),s.url=a.toString(),bh(n).sendSignInLinkToEmail(e,s)})).then((function(){var t=Ih(n),i={};i.email=e,Zs(Ws,ks(r,JSON.stringify(i)),t)}),(function(e){throw Xs($s,Ih(n)),Xs(Ws,Ih(n)),e}))},e.bc=function(e,t){Dh(this);var n=this;return bh(this).signInWithEmailAndPassword(e,t).then((function(r){return kh(n,(function(s){return s?Lh(n).then((function(){return xh(n,{code:"auth/email-already-in-use"},i.Z.auth.EmailAuthProvider.credential(e,t))})):r}))}))},e.Yb=function(e,t){Dh(this);var n=this;return kh(this,(function(r){if(r){var s=i.Z.auth.EmailAuthProvider.credential(e,t);return r.linkWithCredential(s)}return bh(n).createUserWithEmailAndPassword(e,t)}))},e.ac=function(e){Dh(this);var t=this;return kh(this,(function(n){return n?n.linkWithCredential(e).then((function(e){return e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return xh(t,n,e)})):bh(t).signInWithCredential(e)}))},e.dc=function(e){Dh(this);var t=this,n=this.i;return this.i=null,kh(this,(function(n){return n&&!Qs(Ih(t))?n.linkWithRedirect(e):bh(t).signInWithRedirect(e)})).then((function(){}),(function(e){throw t.i=n,e}))},e.cc=function(e,t){Dh(this);var n=this;return kh(this,(function(i){return i?i.linkWithPhoneNumber(e,t).then((function(e){return new Cr(e,(function(e){if("auth/credential-already-in-use"==e.code)return xh(n,e);throw e}))})):wh(n).signInWithPhoneNumber(e,t).then((function(e){return new Cr(e)}))}))},e.$b=function(){return Dh(this),wh(this).signInAnonymously()},e.Xb=function(e,t){return Dh(this),bh(this).signInWithEmailAndPassword(e,t)},u(Mh,Ou),Mh.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Al(this.l(),(this.l().value||"").length),Ou.prototype.v.call(this)},Mh.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},R(Mh.prototype,{l:Pc,H:Dc,u:Oc,B:Lc,j:xc,M:Ec,w:Sc}),u(Uh,Ou),Uh.prototype.v=function(){!function(e,t){function n(e){t(e)}for(var i=e.g?jt("firebaseui-id-tenant-selection-button",e.g||e.s.a):[],r=0;r<i.length;r++){var s=i[r];eu(e,s,N(n,Xl(s,"tenantId")))}}(this,this.i),Ou.prototype.v.call(this)},Uh.prototype.o=function(){this.i=null,Ou.prototype.o.call(this)},u(Fh,Ou);var zh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Wh="optionFirst",$h={pc:Wh,oc:"identifierFirst"},Yh="*";function Xh(e,t){var n=this;this.s=rr(e),this.a={},Object.keys(t).forEach((function(e){n.a[e]=new jh(t[e])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(e){this.ob=e||null},enumerable:!1})}function Zh(e){e.j&&e.j.reset(),e.mb(),e.g&&e.g.m()}(e=Xh.prototype).Ub=function(e,t){var n=this;Zh(this);var i=e.apiKey;return new Mi((function(e,r){if(n.a.hasOwnProperty(i)){var s=Vh(n.a[i]).selectTenantUiHidden||null;if(function(e){for(var t in e=e.a.get("displayMode"),$h)if($h[t]===e)return $h[t];return Wh}(n.a[i])===Wh){var a=[];t.forEach((function(e){e=e||"_";var t=n.a[i].a.get("tenants");if(!t)throw Error("Invalid tenant configuration!");(t=t[e]||t[Yh])?e={tenantId:"_"!==e?e:null,V:t.fullLabel||null,displayName:t.displayName,za:t.iconUrl,ta:t.buttonColor}:(zr("Invalid tenant configuration: "+e+" is not configured!",void 0),e=null),e&&a.push(e)}));var o=function(t){t={tenantId:t,providerIds:qh(n.a[i],t||"_")},e(t)};if(1===a.length)return void o(a[0].tenantId);n.g=new Uh((function(e){Zh(n),s&&s(),o(e)}),a,Bh(n.a[i]),Hh(n.a[i]))}else n.g=new Mh((function(){var r=n.g.j();if(r){for(var a=0;a<t.length;a++){var o=qh(n.a[i],t[a]||"_",r);if(0!==o.length)return r={tenantId:t[a],providerIds:o,email:r},Zh(n),s&&s(),void e(r)}n.g.a(Rn({code:"no-matching-tenant-for-email"}).toString())}}),Bh(n.a[i]),Hh(n.a[i]));n.g.render(n.s),(r=Vh(n.a[i]).selectTenantUiShown||null)&&r()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),r(u)}}))},e.Pb=function(e,t){if(!this.a.hasOwnProperty(e))throw Error("Invalid project configuration: API key is invalid!");var n=t||void 0;Kh(this.a[e],t||"_");try{this.i=i.Z.app(n).auth()}catch(s){var r=this.a[e].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(e=i.Z.initializeApp({apiKey:e,authDomain:r},n)).auth().tenantId=t,this.i=e.auth()}return this.i},e.Zb=function(e,t){var n=this;return new Mi((function(i,r){function s(t,i){n.j=new dh(e),Sh(n.j,n.s,t,i)}var a=e.app.options.apiKey;n.a.hasOwnProperty(a)||r(Error("Invalid project configuration: API key is invalid!"));var o=Gh(n.a[a],e.tenantId||"_",t&&t.providerIds);Zh(n),r={signInSuccessWithAuthResult:function(e){return i(e),!1}};var u,c=Vh(n.a[a]).signInUiShown||null,l=!1;r.uiChanged=function(t,i){null===t&&"callback"===i?((t=Vt("firebaseui-id-page-callback",n.s))&&tu(t),n.h=new Fh,n.h.render(n.s)):l||null===t&&"spinner"===i||"blank"===i||(n.h&&(n.h.m(),n.h=null),l=!0,c&&c(e.tenantId))},o.callbacks=r,o.credentialHelper="none",t&&t.email&&(u={emailHint:t.email}),n.j?n.j.Wa().then((function(){s(o,u)})):s(o,u)}))},e.reset=function(){var e=this;return Ki().then((function(){e.j&&e.j.Wa()})).then((function(){e.j=null,Zh(e)}))},e.Vb=function(){var e=this;this.h||this.A||(this.A=window.setTimeout((function(){Zh(e),e.h=new Fh,e.g=e.h,e.h.render(e.s),e.A=null}),500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return Zh(this),this.g=new qc,this.g.render(this.s),Ki()},e.pb=function(e){var t,n=this,i=Rn({code:e.code}).toString()||e.message;Zh(this),e.retry&&"function"===typeof e.retry&&(t=function(){n.reset(),e.retry()}),this.g=new $c(i,t),this.g.render(this.s)},e.Rb=function(e){var t=this;return Ki().then((function(){var n=t.i&&t.i.app.options.apiKey;if(!t.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Kh(t.a[n],e.tenantId||"_"),!t.i.currentUser||t.i.currentUser.uid!==e.uid)throw Error("The user being processed does not match the signed in user!");return(n=Vh(t.a[n]).beforeSignInSuccess||null)?n(e):e})).then((function(t){if(t.uid!==e.uid)throw Error("User with mismatching UID returned.");return t}))},O("firebaseui.auth.FirebaseUiHandler",Xh),O("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Xh.prototype.Ub),O("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Xh.prototype.Pb),O("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Xh.prototype.Zb),O("firebaseui.auth.FirebaseUiHandler.prototype.reset",Xh.prototype.reset),O("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Xh.prototype.Vb),O("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Xh.prototype.mb),O("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Xh.prototype.Bb),O("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Xh.prototype.pb),O("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Xh.prototype.Rb),O("firebaseui.auth.AuthUI",dh),O("firebaseui.auth.AuthUI.getInstance",(function(e){return e=gh(e),ph[e]?ph[e]:null})),O("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",dh.prototype.Db),O("firebaseui.auth.AuthUI.prototype.start",dh.prototype.start),O("firebaseui.auth.AuthUI.prototype.setConfig",dh.prototype.ib),O("firebaseui.auth.AuthUI.prototype.signIn",dh.prototype.Wb),O("firebaseui.auth.AuthUI.prototype.reset",dh.prototype.reset),O("firebaseui.auth.AuthUI.prototype.delete",dh.prototype.Wa),O("firebaseui.auth.AuthUI.prototype.isPendingRedirect",dh.prototype.nb),O("firebaseui.auth.AuthUIError",Dn),O("firebaseui.auth.AuthUIError.prototype.toJSON",Dn.prototype.toJSON),O("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Qa),O("firebaseui.auth.CredentialHelper.NONE",eo),O("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Mi.prototype.catch=Mi.prototype.Ca,Mi.prototype.finally=Mi.prototype.fc}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:window)}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:window),"undefined"!==typeof window&&(window.dialogPolyfill=$());var Y=firebaseui.auth},4997:function(){!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},3544:function(){var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(e=function(){"use strict";var e=[],t=[],n="mdlComponentConfigInternal_";function i(t,n){for(var i=0;i<e.length;i++)if(e[i].className===t)return"undefined"!==typeof n&&(e[i]=n),e[i];return!1}function r(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,t){return-1!==r(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"===typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var i=document.createEvent("Events");return i.initEvent(e,t,n),i}function o(t,n){if("undefined"===typeof t&&"undefined"===typeof n)for(var r=0;r<e.length;r++)o(e[r].className,e[r].cssClass);else{var s=t;if("undefined"===typeof n){var a=i(s);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],s)}}function u(o,u){if(!("object"===typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(c),!c.defaultPrevented){var l=r(o),h=[];if(u)s(o,u)||h.push(i(u));else{var d=o.classList;e.forEach((function(e){d.contains(e.cssClass)&&-1===h.indexOf(e)&&!s(o,e.className)&&h.push(e)}))}for(var f,p=0,g=h.length;p<g;p++){if(!(f=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(f.className),o.setAttribute("data-upgraded",l.join(","));var m=new f.classConstructor(o);m[n]=f,t.push(m);for(var v=0,y=f.callbacks.length;v<y;v++)f.callbacks[v](o);f.widget&&(o[f.className]=m);var b=a("mdl-componentupgraded",!0,!1);o.dispatchEvent(b)}}}function c(e){if(e){var i=t.indexOf(e);t.splice(i,1);var r=e.element_.getAttribute("data-upgraded").split(","),s=r.indexOf(e[n].classAsString);r.splice(s,1),e.element_.setAttribute("data-upgraded",r.join(","));var o=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(o)}}return{upgradeDom:o,upgradeElement:u,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,i=0,r=t.length;i<r;i++)(n=t[i])instanceof HTMLElement&&(u(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)o(e[t].className)},registerUpgradedCallback:function(e,t){var n=i(e);n&&n.callbacks.push(t)},register:function(t){var r=!0;"undefined"===typeof t.widget&&"undefined"===typeof t.widget||(r=t.widget||t.widget);var s={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:r,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===s.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===s.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");i(t.classAsString,s)||e.push(s)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var i=0;i<e.length;i++)n(e[i]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},4210:function(){!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},5634:function(){!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,i,r],a=0;a<s.length;a++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[a].appendChild(o)}t.appendChild(n),t.appendChild(i),t.appendChild(r),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},6573:function(){!function(){"use strict";var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},3454:function(e,t,n){"use strict";var i,r;e.exports=(null===(i=n.g.process)||void 0===i?void 0:i.env)&&"object"===typeof(null===(r=n.g.process)||void 0===r?void 0:r.env)?n.g.process:n(7663)},6363:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(6505)}])},1551:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);a=!0);}catch(u){o=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,a=(s=n(7294))&&s.__esModule?s:{default:s},o=n(1003),u=n(880),c=n(9246);var l={};function h(e,t,n,i){if(e&&o.isLocalURL(t)){e.prefetch(t,n,i).catch((function(e){0}));var r=i&&"undefined"!==typeof i.locale?i.locale:e&&e.locale;l[t+"%"+n+(r?"%"+r:"")]=!0}}var d=function(e){var t,n=!1!==e.prefetch,i=u.useRouter(),s=a.default.useMemo((function(){var t=r(o.resolveHref(i,e.href,!0),2),n=t[0],s=t[1];return{href:n,as:e.as?o.resolveHref(i,e.as):s||n}}),[i,e.href,e.as]),d=s.href,f=s.as,p=a.default.useRef(d),g=a.default.useRef(f),m=e.children,v=e.replace,y=e.shallow,b=e.scroll,w=e.locale;"string"===typeof m&&(m=a.default.createElement("a",null,m));var I=(t=a.default.Children.only(m))&&"object"===typeof t&&t.ref,E=r(c.useIntersection({rootMargin:"200px"}),3),_=E[0],S=E[1],T=E[2],k=a.default.useCallback((function(e){g.current===f&&p.current===d||(T(),g.current=f,p.current=d),_(e),I&&("function"===typeof I?I(e):"object"===typeof I&&(I.current=e))}),[f,I,d,T,_]);a.default.useEffect((function(){var e=S&&n&&o.isLocalURL(d),t="undefined"!==typeof w?w:i&&i.locale,r=l[d+"%"+f+(t?"%"+t:"")];e&&!r&&h(i,d,f,{locale:t})}),[f,d,S,w,n,i]);var C={ref:k,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,n,i,r,s,a,u){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&o.isLocalURL(n))&&(e.preventDefault(),t[r?"replace":"push"](n,i,{shallow:s,locale:u,scroll:a}))}(e,i,d,f,v,y,b,w)},onMouseEnter:function(e){t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),o.isLocalURL(d)&&h(i,d,f,{priority:!0})}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var A="undefined"!==typeof w?w:i&&i.locale,N=i&&i.isLocaleDomain&&o.getDomainLocale(f,A,i&&i.locales,i&&i.domainLocales);C.href=N||o.addBasePath(o.addLocale(f,A,i&&i.defaultLocale))}return a.default.cloneElement(t,C)};t.default=d,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&(Object.assign(t.default,t),e.exports=t.default)},9246:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);a=!0);}catch(u){o=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,i=e.disabled||!o,l=s.useRef(),h=r(s.useState(!1),2),d=h[0],f=h[1],p=r(s.useState(t?t.current:null),2),g=p[0],m=p[1],v=s.useCallback((function(e){l.current&&(l.current(),l.current=void 0),i||d||e&&e.tagName&&(l.current=function(e,t,n){var i=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},i=c.find((function(e){return e.root===n.root&&e.margin===n.margin}));i?t=u.get(i):(t=u.get(n),c.push(n));if(t)return t;var r=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return u.set(n,t={id:n,observer:s,elements:r}),t}(n),r=i.id,s=i.observer,a=i.elements;return a.set(e,t),s.observe(e),function(){if(a.delete(e),s.unobserve(e),0===a.size){s.disconnect(),u.delete(r);var t=c.findIndex((function(e){return e.root===r.root&&e.margin===r.margin}));t>-1&&c.splice(t,1)}}}(e,(function(e){return e&&f(e)}),{root:g,rootMargin:n}))}),[i,g,n,d]),y=s.useCallback((function(){f(!1)}),[]);return s.useEffect((function(){if(!o&&!d){var e=a.requestIdleCallback((function(){return f(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[d]),s.useEffect((function(){t&&m(t.current)}),[t]),[v,d,y]};var s=n(7294),a=n(4686),o="undefined"!==typeof IntersectionObserver;var u=new Map,c=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&(Object.assign(t.default,t),e.exports=t.default)},6222:function(e,t,n){"use strict";n.d(t,{p:function(){return u}});var i=n(5893),r=n(4184),s=n.n(r),a=n(865),o=n.n(a),u=function(e){return(0,i.jsxs)("div",{className:"fixed inset-0 bg-stone-900/80 flex flex-col items-center justify-center",children:[(0,i.jsxs)("div",{className:s()(o()["mosaic-loader"],e.className),children:[(0,i.jsx)("div",{className:s()(o().cell,o()["d-0"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-1"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-2"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-3"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-1"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-2"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-3"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-4"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-2"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-3"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-4"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-5"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-3"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-4"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-5"])}),(0,i.jsx)("div",{className:s()(o().cell,o()["d-6"])})]}),(0,i.jsx)("span",{className:"mt-4",children:"Loading..."})]})}},1850:function(e,t,n){"use strict";n.d(t,{Ho:function(){return y},Kl:function(){return I},aC:function(){return w},pf:function(){return b}});var i=n(5893),r=n(7294),s=n(7702),a=n(9110),o=n(4184),u=n.n(o),c=function(e){var t=e.isOpen,s=e.onClose,o=(0,r.useRef)(s),c=(0,r.useRef)(null),l=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=n(669),t=function(e){if("Escape"===e.key)return e.stopPropagation(),o.current(),!1};return window.addEventListener("keydown",t),l.current||(l.current=new e.auth.AuthUI(a.MD.auth(a.Mv))),c.current&&l.current.start(c.current,{signInSuccessUrl:"/ip-chain",signInOptions:[a.MD.auth.GoogleAuthProvider.PROVIDER_ID,a.MD.auth.EmailAuthProvider.PROVIDER_ID],tosUrl:"",privacyPolicyUrl:""}),function(){return window.removeEventListener("keydown",t)}}),[]),(0,r.useEffect)((function(){o.current=s}),[s]),(0,i.jsx)("div",{className:u()("fixed top-0 bottom-0 left-0 right-0 transition-opacity duration-300 bg-slate-800 z-50 flex flex-col justify-center items-center",{"opacity-0 pointer-events-none":!t,"opacity-90 pointer-events-auto":t}),onClick:function(){return s()},children:(0,i.jsxs)("div",{className:"w-xl relative shadow-md shadow-cyan-600 p-8 border-2 border-cyan-600",onClick:function(e){return e.stopPropagation()},children:[(0,i.jsx)("h2",{children:"Login to continue"}),(0,i.jsx)("div",{ref:c,className:"m-4"}),(0,i.jsxs)("span",{children:["Powered by"," ",(0,i.jsx)("a",{href:"https://firebase.google.com/",target:"_blank",rel:"noreferrer nofollow",children:"Firebase"})]})]})})},l=n(1163),h=n(6222);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e,t){return(0,s.Xb)(a.lX,e,t)},p=function(e,t){return(0,s.e5)(a.lX,e,t)},g=function(){return(0,s.w7)(a.lX)},m=r.createContext({loading:!0,logout:g}),v=r.createContext({}),y=function(e){var t,n=e.children,o=(0,r.useState)({loading:!0,logout:g}),u=o[0],l=o[1],h=(0,r.useState)(!1),v=h[0],y=h[1],b=(0,a._e)("profiles",(null===(t=u.user)||void 0===t?void 0:t.uid)||""),w=b.data,I=b.refetch;(0,r.useEffect)((function(){var e=(0,s.Aj)(a.lX,(function(e){l({user:e||void 0,loading:!1,signup:e?void 0:f,login:e?void 0:p,logout:g,showAuthModal:e?void 0:function(){return y(!0)}})}));return l({loading:!1,signup:f,login:p,logout:g}),function(){return e()}}),[y]);var E=(0,r.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){d(e,t,n[t])}))}return e}({},u,{profile:w,refetchProfile:I})}),[u,w,I]);return(0,i.jsxs)(m.Provider,{value:E,children:[n,v?(0,i.jsx)(c,{isOpen:!0,onClose:function(){return y(!1)}}):null]})};function b(){return(0,r.useContext)(v)}function w(){return(0,r.useContext)(m)}var I=function(e){var t=e.children,n=(0,l.useRouter)(),s=(0,r.useState)(!1),o=s[0],u=s[1],c=w(),d=c.user,f=c.loading,p=(0,a._e)("profiles",(null===d||void 0===d?void 0:d.uid)||""),g=p.data,m=p.loading;return(0,r.useEffect)((function(){setTimeout((function(){return u(!0)}),500)}),[]),(0,r.useEffect)((function(){!o||d||f||n.push("/")}),[o,n,d,f]),!o||f||m?(0,i.jsx)(h.p,{}):(0,i.jsx)(v.Provider,{value:{user:d,profile:g},children:t})}},9110:function(e,t,n){"use strict";n.d(t,{lX:function(){return f},Mv:function(){return p},MD:function(){return o.Z},CU:function(){return g},Lu:function(){return v},_e:function(){return m}});var i=n(2238);(0,i.registerVersion)("firebase","9.7.0","app");var r=n(5321),s=n(7294),a=n(7702),o=n(1902);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){u(e,t,n[t])}))}return e}var l={apiKey:"AIzaSyAtAiyg971QlDyip5WB8bpSnMihXhbft1k",authDomain:"ip-chain.firebaseapp.com",projectId:"ip-chain",storageBucket:"ip-chain.appspot.com",messagingSenderId:"654335862878",appId:"1:654335862878:web:24a1f64f2193421b552ccf"},h=(0,i.initializeApp)(l),d=(0,r.ad)(h),f=(0,a.v0)(),p=o.Z.initializeApp(l);function g(){return d}function m(e,t){var n=g(),i=(0,s.useState)(0),a=i[0],o=i[1],u=(0,s.useCallback)((function(){return o(a+1)}),[a]),l=(0,s.useState)({refetch:u,loading:!0}),h=l[0],d=l[1];return(0,s.useEffect)((function(){t&&(d({refetch:u,loading:!0}),(0,r.QT)((0,r.JU)(n,e,t)).then((function(e){e.exists()?d({refetch:u,data:c({},e.data(),{id:e.id}),loading:!1}):d({refetch:u,loading:!1,error:"not found"})})))}),[n,e,t,u]),h}function v(e){var t=g(),n=(0,s.useState)(0),i=n[0],a=n[1],o=(0,s.useCallback)((function(){return a(i+1)}),[i]),u=(0,s.useState)({refetch:o,loading:!0}),l=u[0],h=u[1];return(0,s.useEffect)((function(){h({refetch:o,loading:!0}),(0,r.PL)((0,r.IO)((0,r.hJ)(t,e))).then((function(e){var t=[];e.forEach((function(e){return t.push(c({},e.data(),{id:e.id}))})),h({data:t,refetch:o,loading:!1})}),(function(e){return h({refetch:o,loading:!1,error:e.toString()})}))}),[t,e,o]),l}},7649:function(e,t,n){"use strict";n.d(t,{b:function(){return f},W:function(){return p}});var i=n(5893),r=(n(7294),n(1664)),s=n.n(r),a=n(1850),o=n(4184),u=n.n(o);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c(e,t,n[t])}))}return e}function h(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=function(e){var t=e.className,n=h(e,["className"]),r=(0,a.aC)(),o=r.user,c=r.showAuthModal;return o?(0,i.jsx)(s(),{href:"/dashboard",children:(0,i.jsx)("a",l({},n,{className:u()("btn btn-ghost",t),children:"Dashboard"}))}):(0,i.jsx)("button",{className:"btn btn-ghost",onClick:c,children:"Signup"})},f=function(e){var t=e.children;return(0,i.jsxs)("main",{className:"pb-24",children:[(0,i.jsxs)("header",{className:"flex flex-row justify-between py-2 px-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(s(),{href:"/",children:(0,i.jsx)("a",{className:"btn btn-ghost",children:"Home"})}),(0,i.jsxs)("div",{className:"dropdown ml-4",children:[(0,i.jsx)("label",{tabIndex:0,htmlFor:"",className:"btn",children:"Explore"}),(0,i.jsxs)("ul",{tabIndex:0,className:"dropdown-content menu shadow bg-stone-800 rounded-box w-52",children:[(0,i.jsx)("li",{children:(0,i.jsx)(s(),{href:"/tags",children:(0,i.jsx)("a",{children:"Tags"})})}),(0,i.jsx)("li",{children:(0,i.jsx)(s(),{href:"/properties",children:(0,i.jsx)("a",{children:"Properties"})})})]})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)(d,{})})]}),t]})};function p(e){return(0,i.jsx)(f,{children:e})}},6505:function(e,t,n){"use strict";n.r(t);var i=n(5893),r=(n(7319),n(7649)),s=n(1850);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){a(e,t,n[t])}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps,a=t.applyLayout||r.W;return(0,i.jsx)(s.Ho,{children:a((0,i.jsx)(t,o({},n)))})}},865:function(e){e.exports={"mosaic-loader":"Preloader_mosaic-loader__jq8NF",cell:"Preloader_cell__lBHYZ",ripple:"Preloader_ripple__R9Jzf","d-1":"Preloader_d-1__p6lZ4","d-2":"Preloader_d-2__lx_Xc","d-3":"Preloader_d-3__o1U_O","d-4":"Preloader_d-4__ZLgWD","d-5":"Preloader_d-5__CQzvL","d-6":"Preloader_d-6__myXah"}},7319:function(){},7663:function(e){!function(){var t={162:function(e){var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var o,u=[],c=!1,l=-1;function h(){c&&o&&(c=!1,o.length?u=o.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(h);c=!0;for(var t=u.length;t;){for(o=u,u=[];++l<t;)o&&o[l].run();l=-1,t=u.length}o=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||c||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,i),a=!1}finally{a&&delete n[e]}return s.exports}i.ab="//";var r=i(162);e.exports=r}()},1664:function(e,t,n){e.exports=n(1551)},1163:function(e,t,n){e.exports=n(880)},8180:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(4444),r=n(8463),s=n(2238),a=n(3333);class o{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new r.wA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate))))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},c=new i.LL("app-compat","Firebase",u);const l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r,a={}){const o=s.initializeApp(r,a);if((0,i.r3)(t,o.name))return t[o.name];const u=new e(o,n);return t[o.name]=u,u},app:r,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const a=t.name,o=a.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=r())=>{if("function"!==typeof e[o])throw c.create("invalid-app-argument",{appName:a});return e[o]()};void 0!==t.serviceProps&&(0,i.ZB)(s,t.serviceProps),n[o]=s,e.prototype[o]=function(...e){return this._getService.bind(this,a).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function r(e){if(e=e||s._DEFAULT_ENTRY_NAME,!(0,i.r3)(t,e))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),r.App=e,n}(o);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,i.ZB)(t,e)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),t}(),h=new a.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const d=l;var f;(0,s.registerVersion)("@firebase/app-compat","0.1.23",f)},2238:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return s.ZR},SDK_VERSION:function(){return _},_DEFAULT_ENTRY_NAME:function(){return l},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return g},_apps:function(){return d},_clearComponents:function(){return b},_components:function(){return f},_getProvider:function(){return v},_registerComponent:function(){return m},_removeServiceInstance:function(){return y},deleteApp:function(){return C},getApp:function(){return T},getApps:function(){return k},initializeApp:function(){return S},onLog:function(){return N},registerVersion:function(){return A},setLogLevel:function(){return R}});var i=n(8463),r=n(3333),s=n(4444);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const o="@firebase/app",u="0.7.22",c=new r.Yd("@firebase/app"),l="[DEFAULT]",h={[o]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function y(e,t,n=l){v(e,t).clearInstance(n)}function b(){f.clear()}const w={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},I=new s.LL("app","Firebase",w);class E{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw I.create("app-deleted",{appName:this._name})}}const _="9.7.0";function S(e,t={}){if("object"!==typeof t){t={name:t}}const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw I.create("bad-app-name",{appName:String(r)});const a=d.get(r);if(a){if((0,s.vZ)(e,a.options)&&(0,s.vZ)(n,a.config))return a;throw I.create("duplicate-app",{appName:r})}const o=new i.H0(r);for(const i of f.values())o.addComponent(i);const u=new E(e,n,o);return d.set(r,u),u}function T(e=l){const t=d.get(e);if(!t)throw I.create("no-app",{appName:e});return t}function k(){return Array.from(d.values())}async function C(e){const t=e.name;d.has(t)&&(d.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function A(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${s}" with version "${t}":`];return a&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new i.wA(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}function N(e,t){if(null!==e&&"function"!==typeof e)throw I.create("invalid-log-argument");(0,r.Am)(e,t)}function R(e){(0,r.Ub)(e)}const P="firebase-heartbeat-store";let D=null;function O(){return D||(D=(0,s.X3)("firebase-heartbeat-database",1,((e,t)=>{if(0===t)e.createObjectStore(P)})).catch((e=>{throw I.create("storage-open",{originalErrorMessage:e.message})}))),D}async function L(e,t){try{const n=(await O()).transaction(P,"readwrite"),i=n.objectStore(P);return await i.put(t,x(e)),n.complete}catch(n){throw I.create("storage-set",{originalErrorMessage:n.message})}}function x(e){return`${e.name}!${e.options.appId}`}class M{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new F(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=U();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=U(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),j(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),j(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=(0,s.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function U(){return(new Date).toISOString().substring(0,10)}class F{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.hl)()&&(0,s.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{return(await O()).transaction(P).objectStore(P).get(x(e))}catch(t){throw I.create("storage-get",{originalErrorMessage:t.message})}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return L(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return L(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function j(e){return(0,s.L)(JSON.stringify({version:2,heartbeats:e})).length}var V;V="",m(new i.wA("platform-logger",(e=>new a(e)),"PRIVATE")),m(new i.wA("heartbeat",(e=>new M(e)),"PRIVATE")),A(o,u,V),A(o,u,"esm2017"),A("fire-js","")},8463:function(e,t,n){"use strict";n.d(t,{H0:function(){return o},wA:function(){return r}});var i=n(4444);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===s?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}var i;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},3333:function(e,t,n){"use strict";n.d(t,{Am:function(){return h},Ub:function(){return l},Yd:function(){return c},in:function(){return r}});const i=[];var r;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},a=r.INFO,o={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=o[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=u,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function l(e){i.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of i){let i=null;t&&t.level&&(i=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:r[n].toLowerCase(),message:a,args:s,type:t.name})}}}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(6363),t(880)}));var n=e.O();_N_E=n}]);