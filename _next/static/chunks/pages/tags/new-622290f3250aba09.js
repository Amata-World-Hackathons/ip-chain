(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{2645:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tags/new",function(){return t(5393)}])},1051:function(e,r,t){"use strict";t.d(r,{$_:function(){return m}});var n=t(5893),a=t(4184),s=t.n(a),l=t(7536);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}function o(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function d(e,r){return function(t){var a=t.name,i=t.label,d=t.inputId,u=t.className,m=t.wrapInput,p=t.registerOptions,h=t.showOptionalLabel,b=o(t,["name","label","inputId","className","wrapInput","registerOptions","showOptionalLabel"]),x=(0,l.Gc)(),j=x.register,v=(0,x.getFieldState)(a).error,g=c({className:s()(r,{"input-bordered input-error":!!v})},j(a,p),b),N=e(g);return(0,n.jsxs)("div",{className:s()("form-control",u),children:[(0,n.jsxs)("label",{htmlFor:d,className:"label",children:[i?(0,n.jsx)("span",{className:"label-text",children:i}):null,h?(0,n.jsx)("span",{className:"label-text",children:"(Optional)"}):null]}),m?(0,n.jsx)("label",{htmlFor:d,className:"input-group",children:m(N)}):N,v?(0,n.jsx)("label",{htmlFor:d,className:"label",children:(0,n.jsx)("span",{className:"label-text text-red-500",children:f(v)})}):null]})}}var u=d((function(e){return(0,n.jsx)("input",c({},e))}),"input"),m=d((function(e){return(0,n.jsx)("textarea",c({},e))}),"textarea");function f(e){return e.message?e.message:e.message||"Invalid input"}r.ZP=u},6222:function(e,r,t){"use strict";t.d(r,{p:function(){return c}});var n=t(5893),a=t(4184),s=t.n(a),l=t(865),i=t.n(l),c=function(e){return(0,n.jsxs)("div",{className:"fixed inset-0 bg-stone-900/80 flex flex-col items-center justify-center",children:[(0,n.jsxs)("div",{className:s()(i()["mosaic-loader"],e.className),children:[(0,n.jsx)("div",{className:s()(i().cell,i()["d-0"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-1"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-2"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-3"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-1"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-2"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-3"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-4"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-2"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-3"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-4"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-5"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-3"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-4"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-5"])}),(0,n.jsx)("div",{className:s()(i().cell,i()["d-6"])})]}),(0,n.jsx)("span",{className:"mt-4",children:"Loading..."})]})}},3445:function(e,r,t){"use strict";t.d(r,{CU:function(){return u},Lu:function(){return f},_e:function(){return m}});var n=t(5503),a=t(6257),s=t(7294),l=t(7702);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}var o=(0,n.ZF)({apiKey:"AIzaSyAtAiyg971QlDyip5WB8bpSnMihXhbft1k",authDomain:"ip-chain.firebaseapp.com",projectId:"ip-chain",storageBucket:"ip-chain.appspot.com",messagingSenderId:"654335862878",appId:"1:654335862878:web:24a1f64f2193421b552ccf"}),d=(0,a.ad)(o);(0,l.v0)();function u(){return d}function m(e,r){var t=u(),n=(0,s.useState)(0),l=n[0],i=n[1],o=(0,s.useCallback)((function(){return i(l+1)}),[l]),d=(0,s.useState)({refetch:o,loading:!0}),m=d[0],f=d[1];return(0,s.useEffect)((function(){r&&(f({refetch:o,loading:!0}),(0,a.QT)((0,a.JU)(t,e,r)).then((function(e){e.exists()?f({refetch:o,data:c({},e.data(),{id:e.id}),loading:!1}):f({refetch:o,loading:!1,error:"not found"})})))}),[t,e,r,o]),m}function f(e){var r=u(),t=(0,s.useState)(0),n=t[0],l=t[1],i=(0,s.useCallback)((function(){return l(n+1)}),[n]),o=(0,s.useState)({refetch:i,loading:!0}),d=o[0],m=o[1];return(0,s.useEffect)((function(){m({refetch:i,loading:!0}),(0,a.PL)((0,a.IO)((0,a.hJ)(r,e))).then((function(e){var r=[];e.forEach((function(e){return r.push(c({},e.data(),{id:e.id}))})),m({data:r,refetch:i,loading:!1})}),(function(e){return m({refetch:i,loading:!1,error:e.toString()})}))}),[r,e,i]),d}},5406:function(e,r,t){"use strict";t.d(r,{E:function(){return c}});var n=t(5893),a=t(7294),s=t(7649),l=t(6222),i=function(e){var r=e.children,t=(0,a.useState)(!1),i=t[0],c=t[1];return(0,a.useEffect)((function(){c(!0)}),[]),i?(0,n.jsx)(s.b,{children:r}):(0,n.jsx)(l.p,{})};function c(e){return(0,n.jsx)(i,{children:e})}},5393:function(e,r,t){"use strict";t.r(r),t.d(r,{NewTagPage:function(){return g}});var n=t(4051),a=t.n(n),s=t(5893),l=t(1051),i=t(3445),c=t(5406),o=t(4184),d=t.n(o),u=t(6257),m=t(1664),f=t.n(m),p=t(1163),h=t(7536);function b(e,r,t,n,a,s,l){try{var i=e[s](l),c=i.value}catch(o){return void t(o)}i.done?r(c):Promise.resolve(c).then(n,a)}function x(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){x(e,r,t[r])}))}return e}function v(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var g=function(){var e=(0,i.CU)(),r=(0,p.useRouter)(),t=(0,h.cI)({mode:"all"}),n=(0,i.Lu)("properties"),c=t.control,o=t.handleSubmit,m=t.formState.isSubmitting,x=(0,h.Dq)({control:c,name:"properties"}),g=x.fields,N=x.append,y=(x.remove,n.data||[]);return(0,s.jsxs)("div",{className:"w-full max-w-3xl m-auto",children:[(0,s.jsx)("div",{className:"prose dark:prose-invert",children:(0,s.jsx)("h1",{children:"New tag"})}),(0,s.jsx)(h.RV,j({},t,{children:(0,s.jsxs)("form",{onSubmit:o(function(){var t,n=(t=a().mark((function t(n){var s,l,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("DATA SUBMITTED",n),s=n.properties,l=v(n,["properties"]),t.next=4,(0,u.ET)((0,u.hJ)(e,"tags"),j({},l,{properties:s.map((function(e){var r=e.property;return{ipChainId:r.id,blockchainAddress:r.id}}))}));case 4:i=t.sent,r.push("/tags/".concat(i.id));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var s=t.apply(e,r);function l(e){b(s,n,a,l,i,"next",e)}function i(e){b(s,n,a,l,i,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}()),children:[(0,s.jsxs)("section",{className:"mt-8 p-8 border border-primary rounded-lg",children:[(0,s.jsx)(l.ZP,{name:"name",label:"Name",className:"max-w-sm",registerOptions:{required:{value:!0,message:"A name must be provided"}}}),(0,s.jsx)(l.ZP,{className:"mt-4 max-w-sm",name:"contentUrl",label:"Link to content",registerOptions:{required:{value:!0,message:"A link to the content must be provided"}}}),(0,s.jsx)(l.$_,{name:"description",label:"Description",className:"mt-4",showOptionalLabel:!0}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h3",{className:"text-lg mb-4",children:"Properties used"}),(0,s.jsx)("p",{className:"text-sm text-slate-300",children:"Give back to the creators that made this work possible"}),g.map((function(e,r){return(0,s.jsx)("div",{className:"mt-4 form-control",children:(0,s.jsx)("a",{href:"/properties/".concat(e.property.id),target:"_blank",rel:"noreferrer",className:"link",children:e.property.name})},e.id)})),(0,s.jsxs)("div",{className:"flex flex-row justify-end",children:[(0,s.jsxs)("label",{htmlFor:"new-derivation-modal",className:"mt-4 btn btn-ghost modal-button",children:[(0,s.jsx)("span",{className:"material-icons",children:"add_circle_outline"}),"\xa0 Add property"]}),(0,s.jsx)("input",{type:"checkbox",id:"new-derivation-modal",className:"modal-toggle"}),(0,s.jsx)("label",{htmlFor:"new-derivation-modal",className:"modal cursor-pointer",children:(0,s.jsxs)("label",{htmlFor:"",className:"modal-box relative",children:[(0,s.jsx)("label",{htmlFor:"new-derivation-modal",className:"btn btn-sm btn-circle absolute right-2 top-2",children:"\u2715"}),(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Choose from options"}),(0,s.jsx)("ul",{className:"flex-1 overflow-y-auto",children:y.map((function(e){return(0,s.jsxs)("li",{className:"mt-4 card card-side bg-stone-800",children:[(0,s.jsx)("figure",{className:"w-32 bg-stone-700 overflow-hidden",children:(0,s.jsx)("img",{src:e.storefrontImageUrl||"https://via.placeholder.com/300x300/000000/FFFFFF?text=Image+not+available",alt:"Preview of ".concat(e.name)})}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h4",{className:"card-title",children:e.name}),e.description?(0,s.jsx)("p",{children:e.description}):null,(0,s.jsx)("div",{className:"card-actions justify-end",children:(0,s.jsx)("label",{htmlFor:"new-derivation-modal",className:"btn btn-primary btn-sm",onClick:function(){return N({property:e})},children:"Use"})})]})]},e.id)}))})]})})]})]}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Total cost"}),(0,s.jsx)("div",{className:"flex flex-row justify-end",children:(0,s.jsxs)("span",{children:["1000 ",(0,s.jsx)("span",{className:"kbd kbd-xs",children:"NEO"})]})})]}),(0,s.jsxs)("div",{className:"mt-8 flex flex-row justify-end",children:[(0,s.jsx)(f(),{href:"/dashboard",children:(0,s.jsx)("a",{className:"btn btn-ghost",children:"Back to dashboard"})}),(0,s.jsx)("button",{className:d()("ml-4 btn btn-primary",{loading:m}),children:"Create tag"})]})]})}))]})};g.applyLayout=c.E,r.default=g},865:function(e){e.exports={"mosaic-loader":"Preloader_mosaic-loader__jq8NF",cell:"Preloader_cell__lBHYZ",ripple:"Preloader_ripple__R9Jzf","d-1":"Preloader_d-1__p6lZ4","d-2":"Preloader_d-2__lx_Xc","d-3":"Preloader_d-3__o1U_O","d-4":"Preloader_d-4__ZLgWD","d-5":"Preloader_d-5__CQzvL","d-6":"Preloader_d-6__myXah"}}},function(e){e.O(0,[16,612,131,998,774,888,179],(function(){return r=2645,e(e.s=r);var r}));var r=e.O();_N_E=r}]);